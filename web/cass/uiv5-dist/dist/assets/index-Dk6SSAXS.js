function J2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uv={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function ZO(){if(fC)return _u;fC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var hC;function JO(){return hC||(hC=1,uv.exports=ZO()),uv.exports}var S=JO(),dv={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function eM(){if(pC)return $t;pC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function b(j,U,Y){this.props=j,this.context=U,this.refs=x,this.updater=Y||v}b.prototype.isReactComponent={},b.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=b.prototype;function w(j,U,Y){this.props=j,this.context=U,this.refs=x,this.updater=Y||v}var C=w.prototype=new T;C.constructor=w,y(C,b.prototype),C.isPureReactComponent=!0;var R=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function k(j,U,Y,ne,re,Q){return Y=Q.ref,{$$typeof:t,type:j,key:U,ref:Y!==void 0?Y:null,props:Q}}function P(j,U){return k(j.type,U,void 0,void 0,void 0,j.props)}function F(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function O(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return U[Y]})}var $=/\/+/g;function _(j,U){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):U.toString(36)}function K(){}function z(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(K,K):(j.status="pending",j.then(function(U){j.status==="pending"&&(j.status="fulfilled",j.value=U)},function(U){j.status==="pending"&&(j.status="rejected",j.reason=U)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function G(j,U,Y,ne,re){var Q=typeof j;(Q==="undefined"||Q==="boolean")&&(j=null);var ee=!1;if(j===null)ee=!0;else switch(Q){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(j.$$typeof){case t:case e:ee=!0;break;case f:return ee=j._init,G(ee(j._payload),U,Y,ne,re)}}if(ee)return re=re(j),ee=ne===""?"."+_(j,0):ne,R(re)?(Y="",ee!=null&&(Y=ee.replace($,"$&/")+"/"),G(re,U,Y,"",function(Be){return Be})):re!=null&&(F(re)&&(re=P(re,Y+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace($,"$&/")+"/")+ee)),U.push(re)),1;ee=0;var Oe=ne===""?".":ne+":";if(R(j))for(var De=0;De<j.length;De++)ne=j[De],Q=Oe+_(ne,De),ee+=G(ne,U,Y,Q,re);else if(De=g(j),typeof De=="function")for(j=De.call(j),De=0;!(ne=j.next()).done;)ne=ne.value,Q=Oe+_(ne,De++),ee+=G(ne,U,Y,Q,re);else if(Q==="object"){if(typeof j.then=="function")return G(z(j),U,Y,ne,re);throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ee}function N(j,U,Y){if(j==null)return j;var ne=[],re=0;return G(j,ne,"","",function(Q){return U.call(Y,Q,re++)}),ne}function q(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var H=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function W(){}return $t.Children={map:N,forEach:function(j,U,Y){N(j,function(){U.apply(this,arguments)},Y)},count:function(j){var U=0;return N(j,function(){U++}),U},toArray:function(j){return N(j,function(U){return U})||[]},only:function(j){if(!F(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$t.Component=b,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=w,$t.StrictMode=r,$t.Suspense=u,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,$t.__COMPILER_RUNTIME={__proto__:null,c:function(j){return L.H.useMemoCache(j)}},$t.cache=function(j){return function(){return j.apply(null,arguments)}},$t.cloneElement=function(j,U,Y){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ne=y({},j.props),re=j.key,Q=void 0;if(U!=null)for(ee in U.ref!==void 0&&(Q=void 0),U.key!==void 0&&(re=""+U.key),U)!D.call(U,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&U.ref===void 0||(ne[ee]=U[ee]);var ee=arguments.length-2;if(ee===1)ne.children=Y;else if(1<ee){for(var Oe=Array(ee),De=0;De<ee;De++)Oe[De]=arguments[De+2];ne.children=Oe}return k(j.type,re,void 0,void 0,Q,ne)},$t.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},$t.createElement=function(j,U,Y){var ne,re={},Q=null;if(U!=null)for(ne in U.key!==void 0&&(Q=""+U.key),U)D.call(U,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(re[ne]=U[ne]);var ee=arguments.length-2;if(ee===1)re.children=Y;else if(1<ee){for(var Oe=Array(ee),De=0;De<ee;De++)Oe[De]=arguments[De+2];re.children=Oe}if(j&&j.defaultProps)for(ne in ee=j.defaultProps,ee)re[ne]===void 0&&(re[ne]=ee[ne]);return k(j,Q,void 0,void 0,null,re)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(j){return{$$typeof:l,render:j}},$t.isValidElement=F,$t.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:q}},$t.memo=function(j,U){return{$$typeof:d,type:j,compare:U===void 0?null:U}},$t.startTransition=function(j){var U=L.T,Y={};L.T=Y;try{var ne=j(),re=L.S;re!==null&&re(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(W,H)}catch(Q){H(Q)}finally{L.T=U}},$t.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},$t.use=function(j){return L.H.use(j)},$t.useActionState=function(j,U,Y){return L.H.useActionState(j,U,Y)},$t.useCallback=function(j,U){return L.H.useCallback(j,U)},$t.useContext=function(j){return L.H.useContext(j)},$t.useDebugValue=function(){},$t.useDeferredValue=function(j,U){return L.H.useDeferredValue(j,U)},$t.useEffect=function(j,U,Y){var ne=L.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(j,U)},$t.useId=function(){return L.H.useId()},$t.useImperativeHandle=function(j,U,Y){return L.H.useImperativeHandle(j,U,Y)},$t.useInsertionEffect=function(j,U){return L.H.useInsertionEffect(j,U)},$t.useLayoutEffect=function(j,U){return L.H.useLayoutEffect(j,U)},$t.useMemo=function(j,U){return L.H.useMemo(j,U)},$t.useOptimistic=function(j,U){return L.H.useOptimistic(j,U)},$t.useReducer=function(j,U,Y){return L.H.useReducer(j,U,Y)},$t.useRef=function(j){return L.H.useRef(j)},$t.useState=function(j){return L.H.useState(j)},$t.useSyncExternalStore=function(j,U,Y){return L.H.useSyncExternalStore(j,U,Y)},$t.useTransition=function(){return L.H.useTransition()},$t.version="19.1.1",$t}var mC;function am(){return mC||(mC=1,dv.exports=eM()),dv.exports}var I=am();const un=sm(I),vp=J2({__proto__:null,default:un},[I]);var fv={exports:{}},Pu={},hv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function tM(){return gC||(gC=1,(function(t){function e(N,q){var H=N.length;N.push(q);e:for(;0<H;){var W=H-1>>>1,j=N[W];if(0<i(j,q))N[W]=q,N[H]=j,H=W;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var q=N[0],H=N.pop();if(H!==q){N[0]=H;e:for(var W=0,j=N.length,U=j>>>1;W<U;){var Y=2*(W+1)-1,ne=N[Y],re=Y+1,Q=N[re];if(0>i(ne,H))re<j&&0>i(Q,ne)?(N[W]=Q,N[re]=H,W=re):(N[W]=ne,N[Y]=H,W=Y);else if(re<j&&0>i(Q,H))N[W]=Q,N[re]=H,W=re;else break e}}return q}function i(N,q){var H=N.sortIndex-q.sortIndex;return H!==0?H:N.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,p=null,g=3,v=!1,y=!1,x=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(N){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=N)r(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function L(N){if(x=!1,R(N),!y)if(n(u)!==null)y=!0,D||(D=!0,_());else{var q=n(d);q!==null&&G(L,q.startTime-N)}}var D=!1,k=-1,P=5,F=-1;function O(){return b?!0:!(t.unstable_now()-F<P)}function $(){if(b=!1,D){var N=t.unstable_now();F=N;var q=!0;try{e:{y=!1,x&&(x=!1,w(k),k=-1),v=!0;var H=g;try{t:{for(R(N),p=n(u);p!==null&&!(p.expirationTime>N&&O());){var W=p.callback;if(typeof W=="function"){p.callback=null,g=p.priorityLevel;var j=W(p.expirationTime<=N);if(N=t.unstable_now(),typeof j=="function"){p.callback=j,R(N),q=!0;break t}p===n(u)&&r(u),R(N)}else r(u);p=n(u)}if(p!==null)q=!0;else{var U=n(d);U!==null&&G(L,U.startTime-N),q=!1}}break e}finally{p=null,g=H,v=!1}q=void 0}}finally{q?_():D=!1}}}var _;if(typeof C=="function")_=function(){C($)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,z=K.port2;K.port1.onmessage=$,_=function(){z.postMessage(null)}}else _=function(){T($,0)};function G(N,q){k=T(function(){N(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var H=g;g=q;try{return N()}finally{g=H}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(N,q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=g;g=N;try{return q()}finally{g=H}},t.unstable_scheduleCallback=function(N,q,H){var W=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=H+j,N={id:f++,callback:q,priorityLevel:N,startTime:H,expirationTime:j,sortIndex:-1},H>W?(N.sortIndex=H,e(d,N),n(u)===null&&N===n(d)&&(x?(w(k),k=-1):x=!0,G(L,H-W))):(N.sortIndex=j,e(u,N),y||v||(y=!0,D||(D=!0,_()))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var q=g;return function(){var H=g;g=q;try{return N.apply(this,arguments)}finally{g=H}}}})(pv)),pv}var vC;function nM(){return vC||(vC=1,hv.exports=tM()),hv.exports}var mv={exports:{}},Mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function rM(){if(yC)return Mr;yC=1;var t=am();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mr.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,f)},Mr.flushSync=function(u){var d=a.T,f=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=f,r.d.f()}},Mr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Mr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Mr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Mr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mr.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Mr.requestFormReset=function(u){r.d.r(u)},Mr.unstable_batchedUpdates=function(u,d){return u(d)},Mr.useFormState=function(u,d,f){return a.H.useFormState(u,d,f)},Mr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Mr.version="19.1.1",Mr}var xC;function eL(){if(xC)return mv.exports;xC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mv.exports=rM(),mv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function iM(){if(bC)return Pu;bC=1;var t=nM(),e=am(),n=eL();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,m=c;;){var E=h.return;if(E===null)break;var A=E.alternate;if(A===null){if(m=E.return,m!==null){h=m;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===h)return l(E),o;if(A===m)return l(E),c;A=A.sibling}throw Error(r(188))}if(h.return!==m.return)h=E,m=A;else{for(var B=!1,V=E.child;V;){if(V===h){B=!0,h=E,m=A;break}if(V===m){B=!0,m=E,h=A;break}V=V.sibling}if(!B){for(V=A.child;V;){if(V===h){B=!0,h=A,m=E;break}if(V===m){B=!0,m=A,h=E;break}V=V.sibling}if(!B)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function _(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case y:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case C:return(o.displayName||"Context")+".Provider";case w:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:z(o.type)||"Memo";case P:c=o._payload,o=o._init;try{return z(o(c))}catch{}}return null}var G=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},W=[],j=-1;function U(o){return{current:o}}function Y(o){0>j||(o.current=W[j],W[j]=null,j--)}function ne(o,c){j++,W[j]=o.current,o.current=c}var re=U(null),Q=U(null),ee=U(null),Oe=U(null);function De(o,c){switch(ne(ee,c),ne(Q,o),ne(re,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?jT(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=jT(c),o=UT(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(re),ne(re,o)}function Be(){Y(re),Y(Q),Y(ee)}function Me(o){o.memoizedState!==null&&ne(Oe,o);var c=re.current,h=UT(c,o.type);c!==h&&(ne(Q,o),ne(re,h))}function Ye(o){Q.current===o&&(Y(re),Y(Q)),Oe.current===o&&(Y(Oe),Ru._currentValue=H)}var Ue=Object.prototype.hasOwnProperty,ye=t.unstable_scheduleCallback,Re=t.unstable_cancelCallback,gt=t.unstable_shouldYield,Le=t.unstable_requestPaint,Pe=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,bt=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,pt=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,Ut=t.unstable_IdlePriority,Se=t.log,pe=t.unstable_setDisableYieldValue,be=null,$e=null;function Ge(o){if(typeof Se=="function"&&pe(o),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(be,o)}catch{}}var We=Math.clz32?Math.clz32:It,Xe=Math.log,je=Math.LN2;function It(o){return o>>>=0,o===0?32:31-(Xe(o)/je|0)|0}var yt=256,Dt=4194304;function Qe(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Et(o,c,h){var m=o.pendingLanes;if(m===0)return 0;var E=0,A=o.suspendedLanes,B=o.pingedLanes;o=o.warmLanes;var V=m&134217727;return V!==0?(m=V&~A,m!==0?E=Qe(m):(B&=V,B!==0?E=Qe(B):h||(h=V&~o,h!==0&&(E=Qe(h))))):(V=m&~A,V!==0?E=Qe(V):B!==0?E=Qe(B):h||(h=m&~o,h!==0&&(E=Qe(h)))),E===0?0:c!==0&&c!==E&&(c&A)===0&&(A=E&-E,h=c&-c,A>=h||A===32&&(h&4194048)!==0)?c:E}function Lt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ln(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var o=yt;return yt<<=1,(yt&4194048)===0&&(yt=256),o}function dr(){var o=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),o}function Hn(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Ot(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function en(o,c,h,m,E,A){var B=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var V=o.entanglements,Z=o.expirationTimes,ce=o.hiddenUpdates;for(h=B&~h;0<h;){var Ee=31-We(h),Ie=1<<Ee;V[Ee]=0,Z[Ee]=-1;var he=ce[Ee];if(he!==null)for(ce[Ee]=null,Ee=0;Ee<he.length;Ee++){var me=he[Ee];me!==null&&(me.lane&=-536870913)}h&=~Ie}m!==0&&Nn(o,m,0),A!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=A&~(B&~c))}function Nn(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-We(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|h&4194090}function Bn(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var m=31-We(h),E=1<<m;E&c|o[m]&c&&(o[m]|=c),h&=~E}}function dn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Tt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function kn(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:aC(o.type))}function nt(o,c){var h=q.p;try{return q.p=o,c()}finally{q.p=h}}var ut=Math.random().toString(36).slice(2),X="__reactFiber$"+ut,J="__reactProps$"+ut,se="__reactContainer$"+ut,we="__reactEvents$"+ut,He="__reactListeners$"+ut,dt="__reactHandles$"+ut,St="__reactResources$"+ut,Ze="__reactMarker$"+ut;function qe(o){delete o[X],delete o[J],delete o[we],delete o[He],delete o[dt]}function ze(o){var c=o[X];if(c)return c;for(var h=o.parentNode;h;){if(c=h[se]||h[X]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=VT(o);o!==null;){if(h=o[X])return h;o=VT(o)}return c}o=h,h=o.parentNode}return null}function tt(o){if(o=o[X]||o[se]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function wt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function _t(o){var c=o[St];return c||(c=o[St]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Bt(o){o[Ze]=!0}var fe=new Set,ue={};function Ne(o,c){mt(o,c),mt(o+"Capture",c)}function mt(o,c){for(ue[o]=c,o=0;o<c.length;o++)fe.add(c[o])}var Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rn={},Zt={};function Tr(o){return Ue.call(Zt,o)?!0:Ue.call(rn,o)?!1:Ct.test(o)?Zt[o]=!0:(rn[o]=!0,!1)}function $r(o,c,h){if(Tr(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function jr(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Cr(o,c,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+m)}}var Zi,lt;function Gt(o){if(Zi===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Zi=c&&c[1]||"",lt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+o+lt}var fr=!1;function Ur(o,c){if(!o||fr)return"";fr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(me){var he=me}Reflect.construct(o,[],Ie)}else{try{Ie.call()}catch(me){he=me}o.call(Ie.prototype)}}else{try{throw Error()}catch(me){he=me}(Ie=o())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),B=A[0],V=A[1];if(B&&V){var Z=B.split(`
`),ce=V.split(`
`);for(E=m=0;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;for(;E<ce.length&&!ce[E].includes("DetermineComponentFrameRoot");)E++;if(m===Z.length||E===ce.length)for(m=Z.length-1,E=ce.length-1;1<=m&&0<=E&&Z[m]!==ce[E];)E--;for(;1<=m&&0<=E;m--,E--)if(Z[m]!==ce[E]){if(m!==1||E!==1)do if(m--,E--,0>E||Z[m]!==ce[E]){var Ee=`
`+Z[m].replace(" at new "," at ");return o.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",o.displayName)),Ee}while(1<=m&&0<=E);break}}}finally{fr=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Gt(h):""}function Gn(o){switch(o.tag){case 26:case 27:case 5:return Gt(o.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Ur(o.type,!1);case 11:return Ur(o.type.render,!1);case 1:return Ur(o.type,!0);case 31:return Gt("Activity");default:return""}}function Bs(o){try{var c="";do c+=Gn(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function zr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function tf(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function W_(o){var c=tf(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var E=h.get,A=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(B){m=""+B,A.call(this,B)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function nf(o){o._valueTracker||(o._valueTracker=W_(o))}function F1(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return o&&(m=tf(o)?o.checked?"true":"false":o.value),o=m,o!==h?(c.setValue(o),!0):!1}function rf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var q_=/[\n"\\]/g;function ki(o){return o.replace(q_,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function og(o,c,h,m,E,A,B,V){o.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?o.type=B:o.removeAttribute("type"),c!=null?B==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+zr(c)):o.value!==""+zr(c)&&(o.value=""+zr(c)):B!=="submit"&&B!=="reset"||o.removeAttribute("value"),c!=null?lg(o,B,zr(c)):h!=null?lg(o,B,zr(h)):m!=null&&o.removeAttribute("value"),E==null&&A!=null&&(o.defaultChecked=!!A),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.name=""+zr(V):o.removeAttribute("name")}function N1(o,c,h,m,E,A,B,V){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),c!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||c!=null))return;h=h!=null?""+zr(h):"",c=c!=null?""+zr(c):h,V||c===o.value||(o.value=c),o.defaultValue=c}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=V?o.checked:!!m,o.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(o.name=B)}function lg(o,c,h){c==="number"&&rf(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function cl(o,c,h,m){if(o=o.options,c){c={};for(var E=0;E<h.length;E++)c["$"+h[E]]=!0;for(h=0;h<o.length;h++)E=c.hasOwnProperty("$"+o[h].value),o[h].selected!==E&&(o[h].selected=E),E&&m&&(o[h].defaultSelected=!0)}else{for(h=""+zr(h),c=null,E=0;E<o.length;E++){if(o[E].value===h){o[E].selected=!0,m&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function B1(o,c,h){if(c!=null&&(c=""+zr(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+zr(h):""}function $1(o,c,h,m){if(c==null){if(m!=null){if(h!=null)throw Error(r(92));if(G(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),c=h}h=zr(c),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m)}function ul(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Y_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function j1(o,c,h){var m=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,h):typeof h!="number"||h===0||Y_.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function U1(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var E in c)m=c[E],c.hasOwnProperty(E)&&h[E]!==m&&j1(o,E,m)}else for(var A in c)c.hasOwnProperty(A)&&j1(o,A,c[A])}function cg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sf(o){return Q_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ug=null;function dg(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var dl=null,fl=null;function z1(o){var c=tt(o);if(c&&(o=c.stateNode)){var h=o[J]||null;e:switch(o=c.stateNode,c.type){case"input":if(og(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ki(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==o&&m.form===o.form){var E=m[J]||null;if(!E)throw Error(r(90));og(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<h.length;c++)m=h[c],m.form===o.form&&F1(m)}break e;case"textarea":B1(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&cl(o,!!h.multiple,c,!1)}}}var fg=!1;function H1(o,c,h){if(fg)return o(c,h);fg=!0;try{var m=o(c);return m}finally{if(fg=!1,(dl!==null||fl!==null)&&(Gf(),dl&&(c=dl,o=fl,fl=dl=null,z1(c),o)))for(c=0;c<o.length;c++)z1(o[c])}}function jc(o,c){var h=o.stateNode;if(h===null)return null;var m=h[J]||null;if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hg=!1;if($s)try{var Uc={};Object.defineProperty(Uc,"passive",{get:function(){hg=!0}}),window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{hg=!1}var pa=null,pg=null,af=null;function G1(){if(af)return af;var o,c=pg,h=c.length,m,E="value"in pa?pa.value:pa.textContent,A=E.length;for(o=0;o<h&&c[o]===E[o];o++);var B=h-o;for(m=1;m<=B&&c[h-m]===E[A-m];m++);return af=E.slice(o,1<m?1-m:void 0)}function of(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function lf(){return!0}function V1(){return!1}function Wr(o){function c(h,m,E,A,B){this._reactName=h,this._targetInst=E,this.type=m,this.nativeEvent=A,this.target=B,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(h=o[V],this[V]=h?h(A):A[V]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?lf:V1,this.isPropagationStopped=V1,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),c}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=Wr(lo),zc=f({},lo,{view:0,detail:0}),Z_=Wr(zc),mg,gg,Hc,uf=f({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Hc&&(Hc&&o.type==="mousemove"?(mg=o.screenX-Hc.screenX,gg=o.screenY-Hc.screenY):gg=mg=0,Hc=o),mg)},movementY:function(o){return"movementY"in o?o.movementY:gg}}),K1=Wr(uf),J_=f({},uf,{dataTransfer:0}),eP=Wr(J_),tP=f({},zc,{relatedTarget:0}),vg=Wr(tP),nP=f({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),rP=Wr(nP),iP=f({},lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),sP=Wr(iP),aP=f({},lo,{data:0}),W1=Wr(aP),oP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uP(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=cP[o])?!!c[o]:!1}function yg(){return uP}var dP=f({},zc,{key:function(o){if(o.key){var c=oP[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=of(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?lP[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yg,charCode:function(o){return o.type==="keypress"?of(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?of(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),fP=Wr(dP),hP=f({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=Wr(hP),pP=f({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yg}),mP=Wr(pP),gP=f({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vP=Wr(gP),yP=f({},uf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),xP=Wr(yP),bP=f({},lo,{newState:0,oldState:0}),SP=Wr(bP),EP=[9,13,27,32],xg=$s&&"CompositionEvent"in window,Gc=null;$s&&"documentMode"in document&&(Gc=document.documentMode);var TP=$s&&"TextEvent"in window&&!Gc,Y1=$s&&(!xg||Gc&&8<Gc&&11>=Gc),X1=" ",Q1=!1;function Z1(o,c){switch(o){case"keyup":return EP.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var hl=!1;function CP(o,c){switch(o){case"compositionend":return J1(c);case"keypress":return c.which!==32?null:(Q1=!0,X1);case"textInput":return o=c.data,o===X1&&Q1?null:o;default:return null}}function wP(o,c){if(hl)return o==="compositionend"||!xg&&Z1(o,c)?(o=G1(),af=pg=pa=null,hl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Y1&&c.locale!=="ko"?null:c.data;default:return null}}var AP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!AP[o.type]:c==="textarea"}function tS(o,c,h,m){dl?fl?fl.push(m):fl=[m]:dl=m,c=Xf(c,"onChange"),0<c.length&&(h=new cf("onChange","change",null,h,m),o.push({event:h,listeners:c}))}var Vc=null,Kc=null;function RP(o){MT(o,0)}function df(o){var c=wt(o);if(F1(c))return o}function nS(o,c){if(o==="change")return c}var rS=!1;if($s){var bg;if($s){var Sg="oninput"in document;if(!Sg){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),Sg=typeof iS.oninput=="function"}bg=Sg}else bg=!1;rS=bg&&(!document.documentMode||9<document.documentMode)}function sS(){Vc&&(Vc.detachEvent("onpropertychange",aS),Kc=Vc=null)}function aS(o){if(o.propertyName==="value"&&df(Kc)){var c=[];tS(c,Kc,o,dg(o)),H1(RP,c)}}function LP(o,c,h){o==="focusin"?(sS(),Vc=c,Kc=h,Vc.attachEvent("onpropertychange",aS)):o==="focusout"&&sS()}function IP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return df(Kc)}function kP(o,c){if(o==="click")return df(c)}function DP(o,c){if(o==="input"||o==="change")return df(c)}function _P(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var oi=typeof Object.is=="function"?Object.is:_P;function Wc(o,c){if(oi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var E=h[m];if(!Ue.call(c,E)||!oi(o[E],c[E]))return!1}return!0}function oS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function lS(o,c){var h=oS(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=c&&m>=c)return{node:h,offset:c-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=oS(h)}}function cS(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?cS(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function uS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=rf(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=rf(o.document)}return c}function Eg(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var PP=$s&&"documentMode"in document&&11>=document.documentMode,pl=null,Tg=null,qc=null,Cg=!1;function dS(o,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Cg||pl==null||pl!==rf(m)||(m=pl,"selectionStart"in m&&Eg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),qc&&Wc(qc,m)||(qc=m,m=Xf(Tg,"onSelect"),0<m.length&&(c=new cf("onSelect","select",null,c,h),o.push({event:c,listeners:m}),c.target=pl)))}function co(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ml={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionrun:co("Transition","TransitionRun"),transitionstart:co("Transition","TransitionStart"),transitioncancel:co("Transition","TransitionCancel"),transitionend:co("Transition","TransitionEnd")},wg={},fS={};$s&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function uo(o){if(wg[o])return wg[o];if(!ml[o])return o;var c=ml[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in fS)return wg[o]=c[h];return o}var hS=uo("animationend"),pS=uo("animationiteration"),mS=uo("animationstart"),OP=uo("transitionrun"),MP=uo("transitionstart"),FP=uo("transitioncancel"),gS=uo("transitionend"),vS=new Map,Ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ag.push("scrollEnd");function Ji(o,c){vS.set(o,c),Ne(c,[o])}var yS=new WeakMap;function Di(o,c){if(typeof o=="object"&&o!==null){var h=yS.get(o);return h!==void 0?h:(c={value:o,source:c,stack:Bs(c)},yS.set(o,c),c)}return{value:o,source:c,stack:Bs(c)}}var _i=[],gl=0,Rg=0;function ff(){for(var o=gl,c=Rg=gl=0;c<o;){var h=_i[c];_i[c++]=null;var m=_i[c];_i[c++]=null;var E=_i[c];_i[c++]=null;var A=_i[c];if(_i[c++]=null,m!==null&&E!==null){var B=m.pending;B===null?E.next=E:(E.next=B.next,B.next=E),m.pending=E}A!==0&&xS(h,E,A)}}function hf(o,c,h,m){_i[gl++]=o,_i[gl++]=c,_i[gl++]=h,_i[gl++]=m,Rg|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Lg(o,c,h,m){return hf(o,c,h,m),pf(o)}function vl(o,c){return hf(o,null,null,c),pf(o)}function xS(o,c,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var E=!1,A=o.return;A!==null;)A.childLanes|=h,m=A.alternate,m!==null&&(m.childLanes|=h),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(E=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,E&&c!==null&&(E=31-We(h),o=A.hiddenUpdates,m=o[E],m===null?o[E]=[c]:m.push(c),c.lane=h|536870912),A):null}function pf(o){if(50<xu)throw xu=0,O0=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var yl={};function NP(o,c,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(o,c,h,m){return new NP(o,c,h,m)}function Ig(o){return o=o.prototype,!(!o||!o.isReactComponent)}function js(o,c){var h=o.alternate;return h===null?(h=li(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function bS(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function mf(o,c,h,m,E,A){var B=0;if(m=o,typeof o=="function")Ig(o)&&(B=1);else if(typeof o=="string")B=$O(o,h,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=li(31,h,c,E),o.elementType=F,o.lanes=A,o;case y:return fo(h.children,E,A,c);case x:B=8,E|=24;break;case b:return o=li(12,h,c,E|2),o.elementType=b,o.lanes=A,o;case L:return o=li(13,h,c,E),o.elementType=L,o.lanes=A,o;case D:return o=li(19,h,c,E),o.elementType=D,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:case C:B=10;break e;case w:B=9;break e;case R:B=11;break e;case k:B=14;break e;case P:B=16,m=null;break e}B=29,h=Error(r(130,o===null?"null":typeof o,"")),m=null}return c=li(B,h,c,E),c.elementType=o,c.type=m,c.lanes=A,c}function fo(o,c,h,m){return o=li(7,o,m,c),o.lanes=h,o}function kg(o,c,h){return o=li(6,o,null,c),o.lanes=h,o}function Dg(o,c,h){return c=li(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var xl=[],bl=0,gf=null,vf=0,Pi=[],Oi=0,ho=null,Us=1,zs="";function po(o,c){xl[bl++]=vf,xl[bl++]=gf,gf=o,vf=c}function SS(o,c,h){Pi[Oi++]=Us,Pi[Oi++]=zs,Pi[Oi++]=ho,ho=o;var m=Us;o=zs;var E=32-We(m)-1;m&=~(1<<E),h+=1;var A=32-We(c)+E;if(30<A){var B=E-E%5;A=(m&(1<<B)-1).toString(32),m>>=B,E-=B,Us=1<<32-We(c)+E|h<<E|m,zs=A+o}else Us=1<<A|h<<E|m,zs=o}function _g(o){o.return!==null&&(po(o,1),SS(o,1,0))}function Pg(o){for(;o===gf;)gf=xl[--bl],xl[bl]=null,vf=xl[--bl],xl[bl]=null;for(;o===ho;)ho=Pi[--Oi],Pi[Oi]=null,zs=Pi[--Oi],Pi[Oi]=null,Us=Pi[--Oi],Pi[Oi]=null}var Hr=null,Vn=null,sn=!1,mo=null,ds=!1,Og=Error(r(519));function go(o){var c=Error(r(418,""));throw Qc(Di(c,o)),Og}function ES(o){var c=o.stateNode,h=o.type,m=o.memoizedProps;switch(c[X]=o,c[J]=m,h){case"dialog":qt("cancel",c),qt("close",c);break;case"iframe":case"object":case"embed":qt("load",c);break;case"video":case"audio":for(h=0;h<Su.length;h++)qt(Su[h],c);break;case"source":qt("error",c);break;case"img":case"image":case"link":qt("error",c),qt("load",c);break;case"details":qt("toggle",c);break;case"input":qt("invalid",c),N1(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),nf(c);break;case"select":qt("invalid",c);break;case"textarea":qt("invalid",c),$1(c,m.value,m.defaultValue,m.children),nf(c)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||m.suppressHydrationWarning===!0||$T(c.textContent,h)?(m.popover!=null&&(qt("beforetoggle",c),qt("toggle",c)),m.onScroll!=null&&qt("scroll",c),m.onScrollEnd!=null&&qt("scrollend",c),m.onClick!=null&&(c.onclick=Qf),c=!0):c=!1,c||go(o)}function TS(o){for(Hr=o.return;Hr;)switch(Hr.tag){case 5:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:Hr=Hr.return}}function Yc(o){if(o!==Hr)return!1;if(!sn)return TS(o),sn=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||X0(o.type,o.memoizedProps)),h=!h),h&&Vn&&go(o),TS(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){Vn=ts(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}Vn=null}}else c===27?(c=Vn,ka(o.type)?(o=ev,ev=null,Vn=o):Vn=c):Vn=Hr?ts(o.stateNode.nextSibling):null;return!0}function Xc(){Vn=Hr=null,sn=!1}function CS(){var o=mo;return o!==null&&(Xr===null?Xr=o:Xr.push.apply(Xr,o),mo=null),o}function Qc(o){mo===null?mo=[o]:mo.push(o)}var Mg=U(null),vo=null,Hs=null;function ma(o,c,h){ne(Mg,c._currentValue),c._currentValue=h}function Gs(o){o._currentValue=Mg.current,Y(Mg)}function Fg(o,c,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===h)break;o=o.return}}function Ng(o,c,h,m){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var A=E.dependencies;if(A!==null){var B=E.child;A=A.firstContext;e:for(;A!==null;){var V=A;A=E;for(var Z=0;Z<c.length;Z++)if(V.context===c[Z]){A.lanes|=h,V=A.alternate,V!==null&&(V.lanes|=h),Fg(A.return,h,o),m||(B=null);break e}A=V.next}}else if(E.tag===18){if(B=E.return,B===null)throw Error(r(341));B.lanes|=h,A=B.alternate,A!==null&&(A.lanes|=h),Fg(B,h,o),B=null}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===o){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}}function Zc(o,c,h,m){o=null;for(var E=c,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var B=E.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var V=E.type;oi(E.pendingProps.value,B.value)||(o!==null?o.push(V):o=[V])}}else if(E===Oe.current){if(B=E.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Ru):o=[Ru])}E=E.return}o!==null&&Ng(c,o,h,m),c.flags|=262144}function yf(o){for(o=o.firstContext;o!==null;){if(!oi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function yo(o){vo=o,Hs=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Or(o){return wS(vo,o)}function xf(o,c){return vo===null&&yo(o),wS(o,c)}function wS(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Hs===null){if(o===null)throw Error(r(308));Hs=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Hs=Hs.next=c;return h}var BP=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},$P=t.unstable_scheduleCallback,jP=t.unstable_NormalPriority,hr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bg(){return{controller:new BP,data:new Map,refCount:0}}function Jc(o){o.refCount--,o.refCount===0&&$P(jP,function(){o.controller.abort()})}var eu=null,$g=0,Sl=0,El=null;function UP(o,c){if(eu===null){var h=eu=[];$g=0,Sl=U0(),El={status:"pending",value:void 0,then:function(m){h.push(m)}}}return $g++,c.then(AS,AS),c}function AS(){if(--$g===0&&eu!==null){El!==null&&(El.status="fulfilled");var o=eu;eu=null,Sl=0,El=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function zP(o,c){var h=[],m={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var E=0;E<h.length;E++)(0,h[E])(c)},function(E){for(m.status="rejected",m.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),m}var RS=N.S;N.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&UP(o,c),RS!==null&&RS(o,c)};var xo=U(null);function jg(){var o=xo.current;return o!==null?o:Dn.pooledCache}function bf(o,c){c===null?ne(xo,xo.current):ne(xo,c.pool)}function LS(){var o=jg();return o===null?null:{parent:hr._currentValue,pool:o}}var tu=Error(r(460)),IS=Error(r(474)),Sf=Error(r(542)),Ug={then:function(){}};function kS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ef(){}function DS(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Ef,Ef),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,PS(o),o;default:if(typeof c.status=="string")c.then(Ef,Ef);else{if(o=Dn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=m}},function(m){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,PS(o),o}throw nu=c,tu}}var nu=null;function _S(){if(nu===null)throw Error(r(459));var o=nu;return nu=null,o}function PS(o){if(o===tu||o===Sf)throw Error(r(483))}var ga=!1;function zg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hg(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function va(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ya(o,c,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(fn&2)!==0){var E=m.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),m.pending=c,c=pf(o),xS(o,null,h),c}return hf(o,m,c,h),pf(o)}function ru(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,Bn(o,h)}}function Gg(o,c){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var E=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?E=A=B:A=A.next=B,h=h.next}while(h!==null);A===null?E=A=c:A=A.next=c}else E=A=c;h={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Vg=!1;function iu(){if(Vg){var o=El;if(o!==null)throw o}}function su(o,c,h,m){Vg=!1;var E=o.updateQueue;ga=!1;var A=E.firstBaseUpdate,B=E.lastBaseUpdate,V=E.shared.pending;if(V!==null){E.shared.pending=null;var Z=V,ce=Z.next;Z.next=null,B===null?A=ce:B.next=ce,B=Z;var Ee=o.alternate;Ee!==null&&(Ee=Ee.updateQueue,V=Ee.lastBaseUpdate,V!==B&&(V===null?Ee.firstBaseUpdate=ce:V.next=ce,Ee.lastBaseUpdate=Z))}if(A!==null){var Ie=E.baseState;B=0,Ee=ce=Z=null,V=A;do{var he=V.lane&-536870913,me=he!==V.lane;if(me?(Jt&he)===he:(m&he)===he){he!==0&&he===Sl&&(Vg=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var kt=o,At=V;he=c;var En=h;switch(At.tag){case 1:if(kt=At.payload,typeof kt=="function"){Ie=kt.call(En,Ie,he);break e}Ie=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=At.payload,he=typeof kt=="function"?kt.call(En,Ie,he):kt,he==null)break e;Ie=f({},Ie,he);break e;case 2:ga=!0}}he=V.callback,he!==null&&(o.flags|=64,me&&(o.flags|=8192),me=E.callbacks,me===null?E.callbacks=[he]:me.push(he))}else me={lane:he,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ee===null?(ce=Ee=me,Z=Ie):Ee=Ee.next=me,B|=he;if(V=V.next,V===null){if(V=E.shared.pending,V===null)break;me=V,V=me.next,me.next=null,E.lastBaseUpdate=me,E.shared.pending=null}}while(!0);Ee===null&&(Z=Ie),E.baseState=Z,E.firstBaseUpdate=ce,E.lastBaseUpdate=Ee,A===null&&(E.shared.lanes=0),Aa|=B,o.lanes=B,o.memoizedState=Ie}}function OS(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function MS(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)OS(h[o],c)}var Tl=U(null),Tf=U(0);function FS(o,c){o=Qs,ne(Tf,o),ne(Tl,c),Qs=o|c.baseLanes}function Kg(){ne(Tf,Qs),ne(Tl,Tl.current)}function Wg(){Qs=Tf.current,Y(Tl),Y(Tf)}var xa=0,zt=null,bn=null,ir=null,Cf=!1,Cl=!1,bo=!1,wf=0,au=0,wl=null,HP=0;function Jn(){throw Error(r(321))}function qg(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!oi(o[h],c[h]))return!1;return!0}function Yg(o,c,h,m,E,A){return xa=A,zt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,N.H=o===null||o.memoizedState===null?xE:bE,bo=!1,A=h(m,E),bo=!1,Cl&&(A=BS(c,h,m,E)),NS(o),A}function NS(o){N.H=Df;var c=bn!==null&&bn.next!==null;if(xa=0,ir=bn=zt=null,Cf=!1,au=0,wl=null,c)throw Error(r(300));o===null||vr||(o=o.dependencies,o!==null&&yf(o)&&(vr=!0))}function BS(o,c,h,m){zt=o;var E=0;do{if(Cl&&(wl=null),au=0,Cl=!1,25<=E)throw Error(r(301));if(E+=1,ir=bn=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}N.H=XP,A=c(h,m)}while(Cl);return A}function GP(){var o=N.H,c=o.useState()[0];return c=typeof c.then=="function"?ou(c):c,o=o.useState()[0],(bn!==null?bn.memoizedState:null)!==o&&(zt.flags|=1024),c}function Xg(){var o=wf!==0;return wf=0,o}function Qg(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Zg(o){if(Cf){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Cf=!1}xa=0,ir=bn=zt=null,Cl=!1,au=wf=0,wl=null}function qr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?zt.memoizedState=ir=o:ir=ir.next=o,ir}function sr(){if(bn===null){var o=zt.alternate;o=o!==null?o.memoizedState:null}else o=bn.next;var c=ir===null?zt.memoizedState:ir.next;if(c!==null)ir=c,bn=o;else{if(o===null)throw zt.alternate===null?Error(r(467)):Error(r(310));bn=o,o={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},ir===null?zt.memoizedState=ir=o:ir=ir.next=o}return ir}function Jg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(o){var c=au;return au+=1,wl===null&&(wl=[]),o=DS(wl,o,c),c=zt,(ir===null?c.memoizedState:ir.next)===null&&(c=c.alternate,N.H=c===null||c.memoizedState===null?xE:bE),o}function Af(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ou(o);if(o.$$typeof===C)return Or(o)}throw Error(r(438,String(o)))}function e0(o){var c=null,h=zt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var m=zt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Jg(),zt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),m=0;m<o;m++)h[m]=O;return c.index++,h}function Vs(o,c){return typeof c=="function"?c(o):c}function Rf(o){var c=sr();return t0(c,bn,o)}function t0(o,c,h){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var E=o.baseQueue,A=m.pending;if(A!==null){if(E!==null){var B=E.next;E.next=A.next,A.next=B}c.baseQueue=E=A,m.pending=null}if(A=o.baseState,E===null)o.memoizedState=A;else{c=E.next;var V=B=null,Z=null,ce=c,Ee=!1;do{var Ie=ce.lane&-536870913;if(Ie!==ce.lane?(Jt&Ie)===Ie:(xa&Ie)===Ie){var he=ce.revertLane;if(he===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ie===Sl&&(Ee=!0);else if((xa&he)===he){ce=ce.next,he===Sl&&(Ee=!0);continue}else Ie={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Z===null?(V=Z=Ie,B=A):Z=Z.next=Ie,zt.lanes|=he,Aa|=he;Ie=ce.action,bo&&h(A,Ie),A=ce.hasEagerState?ce.eagerState:h(A,Ie)}else he={lane:Ie,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Z===null?(V=Z=he,B=A):Z=Z.next=he,zt.lanes|=Ie,Aa|=Ie;ce=ce.next}while(ce!==null&&ce!==c);if(Z===null?B=A:Z.next=V,!oi(A,o.memoizedState)&&(vr=!0,Ee&&(h=El,h!==null)))throw h;o.memoizedState=A,o.baseState=B,o.baseQueue=Z,m.lastRenderedState=A}return E===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function n0(o){var c=sr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var m=h.dispatch,E=h.pending,A=c.memoizedState;if(E!==null){h.pending=null;var B=E=E.next;do A=o(A,B.action),B=B.next;while(B!==E);oi(A,c.memoizedState)||(vr=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,m]}function $S(o,c,h){var m=zt,E=sr(),A=sn;if(A){if(h===void 0)throw Error(r(407));h=h()}else h=c();var B=!oi((bn||E).memoizedState,h);B&&(E.memoizedState=h,vr=!0),E=E.queue;var V=zS.bind(null,m,E,o);if(lu(2048,8,V,[o]),E.getSnapshot!==c||B||ir!==null&&ir.memoizedState.tag&1){if(m.flags|=2048,Al(9,Lf(),US.bind(null,m,E,h,c),null),Dn===null)throw Error(r(349));A||(xa&124)!==0||jS(m,c,h)}return h}function jS(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=zt.updateQueue,c===null?(c=Jg(),zt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function US(o,c,h,m){c.value=h,c.getSnapshot=m,HS(c)&&GS(o)}function zS(o,c,h){return h(function(){HS(c)&&GS(o)})}function HS(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!oi(o,h)}catch{return!0}}function GS(o){var c=vl(o,2);c!==null&&hi(c,o,2)}function r0(o){var c=qr();if(typeof o=="function"){var h=o;if(o=h(),bo){Ge(!0);try{h()}finally{Ge(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:o},c}function VS(o,c,h,m){return o.baseState=h,t0(o,bn,typeof m=="function"?m:Vs)}function VP(o,c,h,m,E){if(kf(o))throw Error(r(485));if(o=c.action,o!==null){var A={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){A.listeners.push(B)}};N.T!==null?h(!0):A.isTransition=!1,m(A),h=c.pending,h===null?(A.next=c.pending=A,KS(c,A)):(A.next=h.next,c.pending=h.next=A)}}function KS(o,c){var h=c.action,m=c.payload,E=o.state;if(c.isTransition){var A=N.T,B={};N.T=B;try{var V=h(E,m),Z=N.S;Z!==null&&Z(B,V),WS(o,c,V)}catch(ce){i0(o,c,ce)}finally{N.T=A}}else try{A=h(E,m),WS(o,c,A)}catch(ce){i0(o,c,ce)}}function WS(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){qS(o,c,m)},function(m){return i0(o,c,m)}):qS(o,c,h)}function qS(o,c,h){c.status="fulfilled",c.value=h,YS(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,KS(o,h)))}function i0(o,c,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=h,YS(c),c=c.next;while(c!==m)}o.action=null}function YS(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function XS(o,c){return c}function QS(o,c){if(sn){var h=Dn.formState;if(h!==null){e:{var m=zt;if(sn){if(Vn){t:{for(var E=Vn,A=ds;E.nodeType!==8;){if(!A){E=null;break t}if(E=ts(E.nextSibling),E===null){E=null;break t}}A=E.data,E=A==="F!"||A==="F"?E:null}if(E){Vn=ts(E.nextSibling),m=E.data==="F!";break e}}go(m)}m=!1}m&&(c=h[0])}}return h=qr(),h.memoizedState=h.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XS,lastRenderedState:c},h.queue=m,h=gE.bind(null,zt,m),m.dispatch=h,m=r0(!1),A=c0.bind(null,zt,!1,m.queue),m=qr(),E={state:c,dispatch:null,action:o,pending:null},m.queue=E,h=VP.bind(null,zt,E,A,h),E.dispatch=h,m.memoizedState=o,[c,h,!1]}function ZS(o){var c=sr();return JS(c,bn,o)}function JS(o,c,h){if(c=t0(o,c,XS)[0],o=Rf(Vs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=ou(c)}catch(B){throw B===tu?Sf:B}else m=c;c=sr();var E=c.queue,A=E.dispatch;return h!==c.memoizedState&&(zt.flags|=2048,Al(9,Lf(),KP.bind(null,E,h),null)),[m,A,o]}function KP(o,c){o.action=c}function eE(o){var c=sr(),h=bn;if(h!==null)return JS(c,h,o);sr(),c=c.memoizedState,h=sr();var m=h.queue.dispatch;return h.memoizedState=o,[c,m,!1]}function Al(o,c,h,m){return o={tag:o,create:h,deps:m,inst:c,next:null},c=zt.updateQueue,c===null&&(c=Jg(),zt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,c.lastEffect=o),o}function Lf(){return{destroy:void 0,resource:void 0}}function tE(){return sr().memoizedState}function If(o,c,h,m){var E=qr();m=m===void 0?null:m,zt.flags|=o,E.memoizedState=Al(1|c,Lf(),h,m)}function lu(o,c,h,m){var E=sr();m=m===void 0?null:m;var A=E.memoizedState.inst;bn!==null&&m!==null&&qg(m,bn.memoizedState.deps)?E.memoizedState=Al(c,A,h,m):(zt.flags|=o,E.memoizedState=Al(1|c,A,h,m))}function nE(o,c){If(8390656,8,o,c)}function rE(o,c){lu(2048,8,o,c)}function iE(o,c){return lu(4,2,o,c)}function sE(o,c){return lu(4,4,o,c)}function aE(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function oE(o,c,h){h=h!=null?h.concat([o]):null,lu(4,4,aE.bind(null,c,o),h)}function s0(){}function lE(o,c){var h=sr();c=c===void 0?null:c;var m=h.memoizedState;return c!==null&&qg(c,m[1])?m[0]:(h.memoizedState=[o,c],o)}function cE(o,c){var h=sr();c=c===void 0?null:c;var m=h.memoizedState;if(c!==null&&qg(c,m[1]))return m[0];if(m=o(),bo){Ge(!0);try{o()}finally{Ge(!1)}}return h.memoizedState=[m,c],m}function a0(o,c,h){return h===void 0||(xa&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=fT(),zt.lanes|=o,Aa|=o,h)}function uE(o,c,h,m){return oi(h,c)?h:Tl.current!==null?(o=a0(o,h,m),oi(o,c)||(vr=!0),o):(xa&42)===0?(vr=!0,o.memoizedState=h):(o=fT(),zt.lanes|=o,Aa|=o,c)}function dE(o,c,h,m,E){var A=q.p;q.p=A!==0&&8>A?A:8;var B=N.T,V={};N.T=V,c0(o,!1,c,h);try{var Z=E(),ce=N.S;if(ce!==null&&ce(V,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ee=zP(Z,m);cu(o,c,Ee,fi(o))}else cu(o,c,m,fi(o))}catch(Ie){cu(o,c,{then:function(){},status:"rejected",reason:Ie},fi())}finally{q.p=A,N.T=B}}function WP(){}function o0(o,c,h,m){if(o.tag!==5)throw Error(r(476));var E=fE(o).queue;dE(o,E,c,H,h===null?WP:function(){return hE(o),h(m)})}function fE(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:H},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function hE(o){var c=fE(o).next.queue;cu(o,c,{},fi())}function l0(){return Or(Ru)}function pE(){return sr().memoizedState}function mE(){return sr().memoizedState}function qP(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=fi();o=va(h);var m=ya(c,o,h);m!==null&&(hi(m,c,h),ru(m,c,h)),c={cache:Bg()},o.payload=c;return}c=c.return}}function YP(o,c,h){var m=fi();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},kf(o)?vE(c,h):(h=Lg(o,c,h,m),h!==null&&(hi(h,o,m),yE(h,c,m)))}function gE(o,c,h){var m=fi();cu(o,c,h,m)}function cu(o,c,h,m){var E={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(kf(o))vE(c,E);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var B=c.lastRenderedState,V=A(B,h);if(E.hasEagerState=!0,E.eagerState=V,oi(V,B))return hf(o,c,E,0),Dn===null&&ff(),!1}catch{}finally{}if(h=Lg(o,c,E,m),h!==null)return hi(h,o,m),yE(h,c,m),!0}return!1}function c0(o,c,h,m){if(m={lane:2,revertLane:U0(),action:m,hasEagerState:!1,eagerState:null,next:null},kf(o)){if(c)throw Error(r(479))}else c=Lg(o,h,m,2),c!==null&&hi(c,o,2)}function kf(o){var c=o.alternate;return o===zt||c!==null&&c===zt}function vE(o,c){Cl=Cf=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function yE(o,c,h){if((h&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,Bn(o,h)}}var Df={readContext:Or,use:Af,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn},xE={readContext:Or,use:Af,useCallback:function(o,c){return qr().memoizedState=[o,c===void 0?null:c],o},useContext:Or,useEffect:nE,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,If(4194308,4,aE.bind(null,c,o),h)},useLayoutEffect:function(o,c){return If(4194308,4,o,c)},useInsertionEffect:function(o,c){If(4,2,o,c)},useMemo:function(o,c){var h=qr();c=c===void 0?null:c;var m=o();if(bo){Ge(!0);try{o()}finally{Ge(!1)}}return h.memoizedState=[m,c],m},useReducer:function(o,c,h){var m=qr();if(h!==void 0){var E=h(c);if(bo){Ge(!0);try{h(c)}finally{Ge(!1)}}}else E=c;return m.memoizedState=m.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},m.queue=o,o=o.dispatch=YP.bind(null,zt,o),[m.memoizedState,o]},useRef:function(o){var c=qr();return o={current:o},c.memoizedState=o},useState:function(o){o=r0(o);var c=o.queue,h=gE.bind(null,zt,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:s0,useDeferredValue:function(o,c){var h=qr();return a0(h,o,c)},useTransition:function(){var o=r0(!1);return o=dE.bind(null,zt,o.queue,!0,!1),qr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var m=zt,E=qr();if(sn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Dn===null)throw Error(r(349));(Jt&124)!==0||jS(m,c,h)}E.memoizedState=h;var A={value:h,getSnapshot:c};return E.queue=A,nE(zS.bind(null,m,A,o),[o]),m.flags|=2048,Al(9,Lf(),US.bind(null,m,A,h,c),null),h},useId:function(){var o=qr(),c=Dn.identifierPrefix;if(sn){var h=zs,m=Us;h=(m&~(1<<32-We(m)-1)).toString(32)+h,c=""+c+"R"+h,h=wf++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=HP++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:l0,useFormState:QS,useActionState:QS,useOptimistic:function(o){var c=qr();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=c0.bind(null,zt,!0,h),h.dispatch=c,[o,c]},useMemoCache:e0,useCacheRefresh:function(){return qr().memoizedState=qP.bind(null,zt)}},bE={readContext:Or,use:Af,useCallback:lE,useContext:Or,useEffect:rE,useImperativeHandle:oE,useInsertionEffect:iE,useLayoutEffect:sE,useMemo:cE,useReducer:Rf,useRef:tE,useState:function(){return Rf(Vs)},useDebugValue:s0,useDeferredValue:function(o,c){var h=sr();return uE(h,bn.memoizedState,o,c)},useTransition:function(){var o=Rf(Vs)[0],c=sr().memoizedState;return[typeof o=="boolean"?o:ou(o),c]},useSyncExternalStore:$S,useId:pE,useHostTransitionStatus:l0,useFormState:ZS,useActionState:ZS,useOptimistic:function(o,c){var h=sr();return VS(h,bn,o,c)},useMemoCache:e0,useCacheRefresh:mE},XP={readContext:Or,use:Af,useCallback:lE,useContext:Or,useEffect:rE,useImperativeHandle:oE,useInsertionEffect:iE,useLayoutEffect:sE,useMemo:cE,useReducer:n0,useRef:tE,useState:function(){return n0(Vs)},useDebugValue:s0,useDeferredValue:function(o,c){var h=sr();return bn===null?a0(h,o,c):uE(h,bn.memoizedState,o,c)},useTransition:function(){var o=n0(Vs)[0],c=sr().memoizedState;return[typeof o=="boolean"?o:ou(o),c]},useSyncExternalStore:$S,useId:pE,useHostTransitionStatus:l0,useFormState:eE,useActionState:eE,useOptimistic:function(o,c){var h=sr();return bn!==null?VS(h,bn,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:e0,useCacheRefresh:mE},Rl=null,uu=0;function _f(o){var c=uu;return uu+=1,Rl===null&&(Rl=[]),DS(Rl,o,c)}function du(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Pf(o,c){throw c.$$typeof===p?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function SE(o){var c=o._init;return c(o._payload)}function EE(o){function c(ie,te){if(o){var le=ie.deletions;le===null?(ie.deletions=[te],ie.flags|=16):le.push(te)}}function h(ie,te){if(!o)return null;for(;te!==null;)c(ie,te),te=te.sibling;return null}function m(ie){for(var te=new Map;ie!==null;)ie.key!==null?te.set(ie.key,ie):te.set(ie.index,ie),ie=ie.sibling;return te}function E(ie,te){return ie=js(ie,te),ie.index=0,ie.sibling=null,ie}function A(ie,te,le){return ie.index=le,o?(le=ie.alternate,le!==null?(le=le.index,le<te?(ie.flags|=67108866,te):le):(ie.flags|=67108866,te)):(ie.flags|=1048576,te)}function B(ie){return o&&ie.alternate===null&&(ie.flags|=67108866),ie}function V(ie,te,le,Ae){return te===null||te.tag!==6?(te=kg(le,ie.mode,Ae),te.return=ie,te):(te=E(te,le),te.return=ie,te)}function Z(ie,te,le,Ae){var ft=le.type;return ft===y?Ee(ie,te,le.props.children,Ae,le.key):te!==null&&(te.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===P&&SE(ft)===te.type)?(te=E(te,le.props),du(te,le),te.return=ie,te):(te=mf(le.type,le.key,le.props,null,ie.mode,Ae),du(te,le),te.return=ie,te)}function ce(ie,te,le,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=Dg(le,ie.mode,Ae),te.return=ie,te):(te=E(te,le.children||[]),te.return=ie,te)}function Ee(ie,te,le,Ae,ft){return te===null||te.tag!==7?(te=fo(le,ie.mode,Ae,ft),te.return=ie,te):(te=E(te,le),te.return=ie,te)}function Ie(ie,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=kg(""+te,ie.mode,le),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case g:return le=mf(te.type,te.key,te.props,null,ie.mode,le),du(le,te),le.return=ie,le;case v:return te=Dg(te,ie.mode,le),te.return=ie,te;case P:var Ae=te._init;return te=Ae(te._payload),Ie(ie,te,le)}if(G(te)||_(te))return te=fo(te,ie.mode,le,null),te.return=ie,te;if(typeof te.then=="function")return Ie(ie,_f(te),le);if(te.$$typeof===C)return Ie(ie,xf(ie,te),le);Pf(ie,te)}return null}function he(ie,te,le,Ae){var ft=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return ft!==null?null:V(ie,te,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case g:return le.key===ft?Z(ie,te,le,Ae):null;case v:return le.key===ft?ce(ie,te,le,Ae):null;case P:return ft=le._init,le=ft(le._payload),he(ie,te,le,Ae)}if(G(le)||_(le))return ft!==null?null:Ee(ie,te,le,Ae,null);if(typeof le.then=="function")return he(ie,te,_f(le),Ae);if(le.$$typeof===C)return he(ie,te,xf(ie,le),Ae);Pf(ie,le)}return null}function me(ie,te,le,Ae,ft){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ie=ie.get(le)||null,V(te,ie,""+Ae,ft);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return ie=ie.get(Ae.key===null?le:Ae.key)||null,Z(te,ie,Ae,ft);case v:return ie=ie.get(Ae.key===null?le:Ae.key)||null,ce(te,ie,Ae,ft);case P:var Vt=Ae._init;return Ae=Vt(Ae._payload),me(ie,te,le,Ae,ft)}if(G(Ae)||_(Ae))return ie=ie.get(le)||null,Ee(te,ie,Ae,ft,null);if(typeof Ae.then=="function")return me(ie,te,le,_f(Ae),ft);if(Ae.$$typeof===C)return me(ie,te,le,xf(te,Ae),ft);Pf(te,Ae)}return null}function kt(ie,te,le,Ae){for(var ft=null,Vt=null,xt=te,Rt=te=0,xr=null;xt!==null&&Rt<le.length;Rt++){xt.index>Rt?(xr=xt,xt=null):xr=xt.sibling;var nn=he(ie,xt,le[Rt],Ae);if(nn===null){xt===null&&(xt=xr);break}o&&xt&&nn.alternate===null&&c(ie,xt),te=A(nn,te,Rt),Vt===null?ft=nn:Vt.sibling=nn,Vt=nn,xt=xr}if(Rt===le.length)return h(ie,xt),sn&&po(ie,Rt),ft;if(xt===null){for(;Rt<le.length;Rt++)xt=Ie(ie,le[Rt],Ae),xt!==null&&(te=A(xt,te,Rt),Vt===null?ft=xt:Vt.sibling=xt,Vt=xt);return sn&&po(ie,Rt),ft}for(xt=m(xt);Rt<le.length;Rt++)xr=me(xt,ie,Rt,le[Rt],Ae),xr!==null&&(o&&xr.alternate!==null&&xt.delete(xr.key===null?Rt:xr.key),te=A(xr,te,Rt),Vt===null?ft=xr:Vt.sibling=xr,Vt=xr);return o&&xt.forEach(function(Ma){return c(ie,Ma)}),sn&&po(ie,Rt),ft}function At(ie,te,le,Ae){if(le==null)throw Error(r(151));for(var ft=null,Vt=null,xt=te,Rt=te=0,xr=null,nn=le.next();xt!==null&&!nn.done;Rt++,nn=le.next()){xt.index>Rt?(xr=xt,xt=null):xr=xt.sibling;var Ma=he(ie,xt,nn.value,Ae);if(Ma===null){xt===null&&(xt=xr);break}o&&xt&&Ma.alternate===null&&c(ie,xt),te=A(Ma,te,Rt),Vt===null?ft=Ma:Vt.sibling=Ma,Vt=Ma,xt=xr}if(nn.done)return h(ie,xt),sn&&po(ie,Rt),ft;if(xt===null){for(;!nn.done;Rt++,nn=le.next())nn=Ie(ie,nn.value,Ae),nn!==null&&(te=A(nn,te,Rt),Vt===null?ft=nn:Vt.sibling=nn,Vt=nn);return sn&&po(ie,Rt),ft}for(xt=m(xt);!nn.done;Rt++,nn=le.next())nn=me(xt,ie,Rt,nn.value,Ae),nn!==null&&(o&&nn.alternate!==null&&xt.delete(nn.key===null?Rt:nn.key),te=A(nn,te,Rt),Vt===null?ft=nn:Vt.sibling=nn,Vt=nn);return o&&xt.forEach(function(QO){return c(ie,QO)}),sn&&po(ie,Rt),ft}function En(ie,te,le,Ae){if(typeof le=="object"&&le!==null&&le.type===y&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case g:e:{for(var ft=le.key;te!==null;){if(te.key===ft){if(ft=le.type,ft===y){if(te.tag===7){h(ie,te.sibling),Ae=E(te,le.props.children),Ae.return=ie,ie=Ae;break e}}else if(te.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===P&&SE(ft)===te.type){h(ie,te.sibling),Ae=E(te,le.props),du(Ae,le),Ae.return=ie,ie=Ae;break e}h(ie,te);break}else c(ie,te);te=te.sibling}le.type===y?(Ae=fo(le.props.children,ie.mode,Ae,le.key),Ae.return=ie,ie=Ae):(Ae=mf(le.type,le.key,le.props,null,ie.mode,Ae),du(Ae,le),Ae.return=ie,ie=Ae)}return B(ie);case v:e:{for(ft=le.key;te!==null;){if(te.key===ft)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){h(ie,te.sibling),Ae=E(te,le.children||[]),Ae.return=ie,ie=Ae;break e}else{h(ie,te);break}else c(ie,te);te=te.sibling}Ae=Dg(le,ie.mode,Ae),Ae.return=ie,ie=Ae}return B(ie);case P:return ft=le._init,le=ft(le._payload),En(ie,te,le,Ae)}if(G(le))return kt(ie,te,le,Ae);if(_(le)){if(ft=_(le),typeof ft!="function")throw Error(r(150));return le=ft.call(le),At(ie,te,le,Ae)}if(typeof le.then=="function")return En(ie,te,_f(le),Ae);if(le.$$typeof===C)return En(ie,te,xf(ie,le),Ae);Pf(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(h(ie,te.sibling),Ae=E(te,le),Ae.return=ie,ie=Ae):(h(ie,te),Ae=kg(le,ie.mode,Ae),Ae.return=ie,ie=Ae),B(ie)):h(ie,te)}return function(ie,te,le,Ae){try{uu=0;var ft=En(ie,te,le,Ae);return Rl=null,ft}catch(xt){if(xt===tu||xt===Sf)throw xt;var Vt=li(29,xt,null,ie.mode);return Vt.lanes=Ae,Vt.return=ie,Vt}finally{}}}var Ll=EE(!0),TE=EE(!1),Mi=U(null),fs=null;function ba(o){var c=o.alternate;ne(pr,pr.current&1),ne(Mi,o),fs===null&&(c===null||Tl.current!==null||c.memoizedState!==null)&&(fs=o)}function CE(o){if(o.tag===22){if(ne(pr,pr.current),ne(Mi,o),fs===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(fs=o)}}else Sa()}function Sa(){ne(pr,pr.current),ne(Mi,Mi.current)}function Ks(o){Y(Mi),fs===o&&(fs=null),Y(pr)}var pr=U(0);function Of(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||J0(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function u0(o,c,h,m){c=o.memoizedState,h=h(m,c),h=h==null?c:f({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var d0={enqueueSetState:function(o,c,h){o=o._reactInternals;var m=fi(),E=va(m);E.payload=c,h!=null&&(E.callback=h),c=ya(o,E,m),c!==null&&(hi(c,o,m),ru(c,o,m))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var m=fi(),E=va(m);E.tag=1,E.payload=c,h!=null&&(E.callback=h),c=ya(o,E,m),c!==null&&(hi(c,o,m),ru(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=fi(),m=va(h);m.tag=2,c!=null&&(m.callback=c),c=ya(o,m,h),c!==null&&(hi(c,o,h),ru(c,o,h))}};function wE(o,c,h,m,E,A,B){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,A,B):c.prototype&&c.prototype.isPureReactComponent?!Wc(h,m)||!Wc(E,A):!0}function AE(o,c,h,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==o&&d0.enqueueReplaceState(c,c.state,null)}function So(o,c){var h=c;if("ref"in c){h={};for(var m in c)m!=="ref"&&(h[m]=c[m])}if(o=o.defaultProps){h===c&&(h=f({},h));for(var E in o)h[E]===void 0&&(h[E]=o[E])}return h}var Mf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function RE(o){Mf(o)}function LE(o){console.error(o)}function IE(o){Mf(o)}function Ff(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function kE(o,c,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function f0(o,c,h){return h=va(h),h.tag=3,h.payload={element:null},h.callback=function(){Ff(o,c)},h}function DE(o){return o=va(o),o.tag=3,o}function _E(o,c,h,m){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var A=m.value;o.payload=function(){return E(A)},o.callback=function(){kE(c,h,m)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(o.callback=function(){kE(c,h,m),typeof E!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function QP(o,c,h,m,E){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=h.alternate,c!==null&&Zc(c,h,E,!0),h=Mi.current,h!==null){switch(h.tag){case 13:return fs===null?F0():h.alternate===null&&Kn===0&&(Kn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,m===Ug?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([m]):c.add(m),B0(o,m,E)),!1;case 22:return h.flags|=65536,m===Ug?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([m]):h.add(m)),B0(o,m,E)),!1}throw Error(r(435,h.tag))}return B0(o,m,E),F0(),!1}if(sn)return c=Mi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,m!==Og&&(o=Error(r(422),{cause:m}),Qc(Di(o,h)))):(m!==Og&&(c=Error(r(423),{cause:m}),Qc(Di(c,h))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,m=Di(m,h),E=f0(o.stateNode,m,E),Gg(o,E),Kn!==4&&(Kn=2)),!1;var A=Error(r(520),{cause:m});if(A=Di(A,h),yu===null?yu=[A]:yu.push(A),Kn!==4&&(Kn=2),c===null)return!0;m=Di(m,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=E&-E,h.lanes|=o,o=f0(h.stateNode,m,o),Gg(h,o),!1;case 1:if(c=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ra===null||!Ra.has(A))))return h.flags|=65536,E&=-E,h.lanes|=E,E=DE(E),_E(E,o,h,m),Gg(h,E),!1}h=h.return}while(h!==null);return!1}var PE=Error(r(461)),vr=!1;function wr(o,c,h,m){c.child=o===null?TE(c,null,h,m):Ll(c,o.child,h,m)}function OE(o,c,h,m,E){h=h.render;var A=c.ref;if("ref"in m){var B={};for(var V in m)V!=="ref"&&(B[V]=m[V])}else B=m;return yo(c),m=Yg(o,c,h,B,A,E),V=Xg(),o!==null&&!vr?(Qg(o,c,E),Ws(o,c,E)):(sn&&V&&_g(c),c.flags|=1,wr(o,c,m,E),c.child)}function ME(o,c,h,m,E){if(o===null){var A=h.type;return typeof A=="function"&&!Ig(A)&&A.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=A,FE(o,c,A,m,E)):(o=mf(h.type,null,m,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!b0(o,E)){var B=A.memoizedProps;if(h=h.compare,h=h!==null?h:Wc,h(B,m)&&o.ref===c.ref)return Ws(o,c,E)}return c.flags|=1,o=js(A,m),o.ref=c.ref,o.return=c,c.child=o}function FE(o,c,h,m,E){if(o!==null){var A=o.memoizedProps;if(Wc(A,m)&&o.ref===c.ref)if(vr=!1,c.pendingProps=m=A,b0(o,E))(o.flags&131072)!==0&&(vr=!0);else return c.lanes=o.lanes,Ws(o,c,E)}return h0(o,c,h,m,E)}function NE(o,c,h){var m=c.pendingProps,E=m.children,A=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=A!==null?A.baseLanes|h:h,o!==null){for(E=c.child=o.child,A=0;E!==null;)A=A|E.lanes|E.childLanes,E=E.sibling;c.childLanes=A&~m}else c.childLanes=0,c.child=null;return BE(o,c,m,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&bf(c,A!==null?A.cachePool:null),A!==null?FS(c,A):Kg(),CE(c);else return c.lanes=c.childLanes=536870912,BE(o,c,A!==null?A.baseLanes|h:h,h)}else A!==null?(bf(c,A.cachePool),FS(c,A),Sa(),c.memoizedState=null):(o!==null&&bf(c,null),Kg(),Sa());return wr(o,c,E,h),c.child}function BE(o,c,h,m){var E=jg();return E=E===null?null:{parent:hr._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},o!==null&&bf(c,null),Kg(),CE(c),o!==null&&Zc(o,c,m,!0),null}function Nf(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function h0(o,c,h,m,E){return yo(c),h=Yg(o,c,h,m,void 0,E),m=Xg(),o!==null&&!vr?(Qg(o,c,E),Ws(o,c,E)):(sn&&m&&_g(c),c.flags|=1,wr(o,c,h,E),c.child)}function $E(o,c,h,m,E,A){return yo(c),c.updateQueue=null,h=BS(c,m,h,E),NS(o),m=Xg(),o!==null&&!vr?(Qg(o,c,A),Ws(o,c,A)):(sn&&m&&_g(c),c.flags|=1,wr(o,c,h,A),c.child)}function jE(o,c,h,m,E){if(yo(c),c.stateNode===null){var A=yl,B=h.contextType;typeof B=="object"&&B!==null&&(A=Or(B)),A=new h(m,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=d0,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=m,A.state=c.memoizedState,A.refs={},zg(c),B=h.contextType,A.context=typeof B=="object"&&B!==null?Or(B):yl,A.state=c.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(u0(c,h,B,m),A.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(B=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),B!==A.state&&d0.enqueueReplaceState(A,A.state,null),su(c,m,A,E),iu(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){A=c.stateNode;var V=c.memoizedProps,Z=So(h,V);A.props=Z;var ce=A.context,Ee=h.contextType;B=yl,typeof Ee=="object"&&Ee!==null&&(B=Or(Ee));var Ie=h.getDerivedStateFromProps;Ee=typeof Ie=="function"||typeof A.getSnapshotBeforeUpdate=="function",V=c.pendingProps!==V,Ee||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V||ce!==B)&&AE(c,A,m,B),ga=!1;var he=c.memoizedState;A.state=he,su(c,m,A,E),iu(),ce=c.memoizedState,V||he!==ce||ga?(typeof Ie=="function"&&(u0(c,h,Ie,m),ce=c.memoizedState),(Z=ga||wE(c,h,Z,m,he,ce,B))?(Ee||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ce),A.props=m,A.state=ce,A.context=B,m=Z):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{A=c.stateNode,Hg(o,c),B=c.memoizedProps,Ee=So(h,B),A.props=Ee,Ie=c.pendingProps,he=A.context,ce=h.contextType,Z=yl,typeof ce=="object"&&ce!==null&&(Z=Or(ce)),V=h.getDerivedStateFromProps,(ce=typeof V=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==Ie||he!==Z)&&AE(c,A,m,Z),ga=!1,he=c.memoizedState,A.state=he,su(c,m,A,E),iu();var me=c.memoizedState;B!==Ie||he!==me||ga||o!==null&&o.dependencies!==null&&yf(o.dependencies)?(typeof V=="function"&&(u0(c,h,V,m),me=c.memoizedState),(Ee=ga||wE(c,h,Ee,m,he,me,Z)||o!==null&&o.dependencies!==null&&yf(o.dependencies))?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,me,Z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,me,Z)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=me),A.props=m,A.state=me,A.context=Z,m=Ee):(typeof A.componentDidUpdate!="function"||B===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),m=!1)}return A=m,Nf(o,c),m=(c.flags&128)!==0,A||m?(A=c.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&m?(c.child=Ll(c,o.child,null,E),c.child=Ll(c,null,h,E)):wr(o,c,h,E),c.memoizedState=A.state,o=c.child):o=Ws(o,c,E),o}function UE(o,c,h,m){return Xc(),c.flags|=256,wr(o,c,h,m),c.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m0(o){return{baseLanes:o,cachePool:LS()}}function g0(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Fi),o}function zE(o,c,h){var m=c.pendingProps,E=!1,A=(c.flags&128)!==0,B;if((B=A)||(B=o!==null&&o.memoizedState===null?!1:(pr.current&2)!==0),B&&(E=!0,c.flags&=-129),B=(c.flags&32)!==0,c.flags&=-33,o===null){if(sn){if(E?ba(c):Sa(),sn){var V=Vn,Z;if(Z=V){e:{for(Z=V,V=ds;Z.nodeType!==8;){if(!V){V=null;break e}if(Z=ts(Z.nextSibling),Z===null){V=null;break e}}V=Z}V!==null?(c.memoizedState={dehydrated:V,treeContext:ho!==null?{id:Us,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},Z=li(18,null,null,0),Z.stateNode=V,Z.return=c,c.child=Z,Hr=c,Vn=null,Z=!0):Z=!1}Z||go(c)}if(V=c.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return J0(V)?c.lanes=32:c.lanes=536870912,null;Ks(c)}return V=m.children,m=m.fallback,E?(Sa(),E=c.mode,V=Bf({mode:"hidden",children:V},E),m=fo(m,E,h,null),V.return=c,m.return=c,V.sibling=m,c.child=V,E=c.child,E.memoizedState=m0(h),E.childLanes=g0(o,B,h),c.memoizedState=p0,m):(ba(c),v0(c,V))}if(Z=o.memoizedState,Z!==null&&(V=Z.dehydrated,V!==null)){if(A)c.flags&256?(ba(c),c.flags&=-257,c=y0(o,c,h)):c.memoizedState!==null?(Sa(),c.child=o.child,c.flags|=128,c=null):(Sa(),E=m.fallback,V=c.mode,m=Bf({mode:"visible",children:m.children},V),E=fo(E,V,h,null),E.flags|=2,m.return=c,E.return=c,m.sibling=E,c.child=m,Ll(c,o.child,null,h),m=c.child,m.memoizedState=m0(h),m.childLanes=g0(o,B,h),c.memoizedState=p0,c=E);else if(ba(c),J0(V)){if(B=V.nextSibling&&V.nextSibling.dataset,B)var ce=B.dgst;B=ce,m=Error(r(419)),m.stack="",m.digest=B,Qc({value:m,source:null,stack:null}),c=y0(o,c,h)}else if(vr||Zc(o,c,h,!1),B=(h&o.childLanes)!==0,vr||B){if(B=Dn,B!==null&&(m=h&-h,m=(m&42)!==0?1:dn(m),m=(m&(B.suspendedLanes|h))!==0?0:m,m!==0&&m!==Z.retryLane))throw Z.retryLane=m,vl(o,m),hi(B,o,m),PE;V.data==="$?"||F0(),c=y0(o,c,h)}else V.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=Z.treeContext,Vn=ts(V.nextSibling),Hr=c,sn=!0,mo=null,ds=!1,o!==null&&(Pi[Oi++]=Us,Pi[Oi++]=zs,Pi[Oi++]=ho,Us=o.id,zs=o.overflow,ho=c),c=v0(c,m.children),c.flags|=4096);return c}return E?(Sa(),E=m.fallback,V=c.mode,Z=o.child,ce=Z.sibling,m=js(Z,{mode:"hidden",children:m.children}),m.subtreeFlags=Z.subtreeFlags&65011712,ce!==null?E=js(ce,E):(E=fo(E,V,h,null),E.flags|=2),E.return=c,m.return=c,m.sibling=E,c.child=m,m=E,E=c.child,V=o.child.memoizedState,V===null?V=m0(h):(Z=V.cachePool,Z!==null?(ce=hr._currentValue,Z=Z.parent!==ce?{parent:ce,pool:ce}:Z):Z=LS(),V={baseLanes:V.baseLanes|h,cachePool:Z}),E.memoizedState=V,E.childLanes=g0(o,B,h),c.memoizedState=p0,m):(ba(c),h=o.child,o=h.sibling,h=js(h,{mode:"visible",children:m.children}),h.return=c,h.sibling=null,o!==null&&(B=c.deletions,B===null?(c.deletions=[o],c.flags|=16):B.push(o)),c.child=h,c.memoizedState=null,h)}function v0(o,c){return c=Bf({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Bf(o,c){return o=li(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function y0(o,c,h){return Ll(c,o.child,null,h),o=v0(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function HE(o,c,h){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),Fg(o.return,c,h)}function x0(o,c,h,m,E){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=h,A.tailMode=E)}function GE(o,c,h){var m=c.pendingProps,E=m.revealOrder,A=m.tail;if(wr(o,c,m.children,h),m=pr.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&HE(o,h,c);else if(o.tag===19)HE(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(ne(pr,m),E){case"forwards":for(h=c.child,E=null;h!==null;)o=h.alternate,o!==null&&Of(o)===null&&(E=h),h=h.sibling;h=E,h===null?(E=c.child,c.child=null):(E=h.sibling,h.sibling=null),x0(c,!1,E,h,A);break;case"backwards":for(h=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Of(o)===null){c.child=E;break}o=E.sibling,E.sibling=h,h=E,E=o}x0(c,!0,h,null,A);break;case"together":x0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ws(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Aa|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Zc(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=js(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=js(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function b0(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&yf(o)))}function ZP(o,c,h){switch(c.tag){case 3:De(c,c.stateNode.containerInfo),ma(c,hr,o.memoizedState.cache),Xc();break;case 27:case 5:Me(c);break;case 4:De(c,c.stateNode.containerInfo);break;case 10:ma(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(ba(c),c.flags|=128,null):(h&c.child.childLanes)!==0?zE(o,c,h):(ba(c),o=Ws(o,c,h),o!==null?o.sibling:null);ba(c);break;case 19:var E=(o.flags&128)!==0;if(m=(h&c.childLanes)!==0,m||(Zc(o,c,h,!1),m=(h&c.childLanes)!==0),E){if(m)return GE(o,c,h);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ne(pr,pr.current),m)break;return null;case 22:case 23:return c.lanes=0,NE(o,c,h);case 24:ma(c,hr,o.memoizedState.cache)}return Ws(o,c,h)}function VE(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)vr=!0;else{if(!b0(o,h)&&(c.flags&128)===0)return vr=!1,ZP(o,c,h);vr=(o.flags&131072)!==0}else vr=!1,sn&&(c.flags&1048576)!==0&&SS(c,vf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var m=c.elementType,E=m._init;if(m=E(m._payload),c.type=m,typeof m=="function")Ig(m)?(o=So(m,o),c.tag=1,c=jE(null,c,m,o,h)):(c.tag=0,c=h0(null,c,m,o,h));else{if(m!=null){if(E=m.$$typeof,E===R){c.tag=11,c=OE(null,c,m,o,h);break e}else if(E===k){c.tag=14,c=ME(null,c,m,o,h);break e}}throw c=z(m)||m,Error(r(306,c,""))}}return c;case 0:return h0(o,c,c.type,c.pendingProps,h);case 1:return m=c.type,E=So(m,c.pendingProps),jE(o,c,m,E,h);case 3:e:{if(De(c,c.stateNode.containerInfo),o===null)throw Error(r(387));m=c.pendingProps;var A=c.memoizedState;E=A.element,Hg(o,c),su(c,m,null,h);var B=c.memoizedState;if(m=B.cache,ma(c,hr,m),m!==A.cache&&Ng(c,[hr],h,!0),iu(),m=B.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:B.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=UE(o,c,m,h);break e}else if(m!==E){E=Di(Error(r(424)),c),Qc(E),c=UE(o,c,m,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Vn=ts(o.firstChild),Hr=c,sn=!0,mo=null,ds=!0,h=TE(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Xc(),m===E){c=Ws(o,c,h);break e}wr(o,c,m,h)}c=c.child}return c;case 26:return Nf(o,c),o===null?(h=YT(c.type,null,c.pendingProps,null))?c.memoizedState=h:sn||(h=c.type,o=c.pendingProps,m=Zf(ee.current).createElement(h),m[X]=c,m[J]=o,Rr(m,h,o),Bt(m),c.stateNode=m):c.memoizedState=YT(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Me(c),o===null&&sn&&(m=c.stateNode=KT(c.type,c.pendingProps,ee.current),Hr=c,ds=!0,E=Vn,ka(c.type)?(ev=E,Vn=ts(m.firstChild)):Vn=E),wr(o,c,c.pendingProps.children,h),Nf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&sn&&((E=m=Vn)&&(m=AO(m,c.type,c.pendingProps,ds),m!==null?(c.stateNode=m,Hr=c,Vn=ts(m.firstChild),ds=!1,E=!0):E=!1),E||go(c)),Me(c),E=c.type,A=c.pendingProps,B=o!==null?o.memoizedProps:null,m=A.children,X0(E,A)?m=null:B!==null&&X0(E,B)&&(c.flags|=32),c.memoizedState!==null&&(E=Yg(o,c,GP,null,null,h),Ru._currentValue=E),Nf(o,c),wr(o,c,m,h),c.child;case 6:return o===null&&sn&&((o=h=Vn)&&(h=RO(h,c.pendingProps,ds),h!==null?(c.stateNode=h,Hr=c,Vn=null,o=!0):o=!1),o||go(c)),null;case 13:return zE(o,c,h);case 4:return De(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Ll(c,null,m,h):wr(o,c,m,h),c.child;case 11:return OE(o,c,c.type,c.pendingProps,h);case 7:return wr(o,c,c.pendingProps,h),c.child;case 8:return wr(o,c,c.pendingProps.children,h),c.child;case 12:return wr(o,c,c.pendingProps.children,h),c.child;case 10:return m=c.pendingProps,ma(c,c.type,m.value),wr(o,c,m.children,h),c.child;case 9:return E=c.type._context,m=c.pendingProps.children,yo(c),E=Or(E),m=m(E),c.flags|=1,wr(o,c,m,h),c.child;case 14:return ME(o,c,c.type,c.pendingProps,h);case 15:return FE(o,c,c.type,c.pendingProps,h);case 19:return GE(o,c,h);case 31:return m=c.pendingProps,h=c.mode,m={mode:m.mode,children:m.children},o===null?(h=Bf(m,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=js(o.child,m),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return NE(o,c,h);case 24:return yo(c),m=Or(hr),o===null?(E=jg(),E===null&&(E=Dn,A=Bg(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=h),E=A),c.memoizedState={parent:m,cache:E},zg(c),ma(c,hr,E)):((o.lanes&h)!==0&&(Hg(o,c),su(c,null,null,h),iu()),E=o.memoizedState,A=c.memoizedState,E.parent!==m?(E={parent:m,cache:m},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),ma(c,hr,m)):(m=A.cache,ma(c,hr,m),m!==E.cache&&Ng(c,[hr],h,!0))),wr(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function qs(o){o.flags|=4}function KE(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!eC(c)){if(c=Mi.current,c!==null&&((Jt&4194048)===Jt?fs!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||c!==fs))throw nu=Ug,IS;o.flags|=8192}}function $f(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?dr():536870912,o.lanes|=c,_l|=c)}function fu(o,c){if(!sn)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function $n(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(c)for(var E=o.child;E!==null;)h|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)h|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=m,o.childLanes=h,c}function JP(o,c,h){var m=c.pendingProps;switch(Pg(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(c),null;case 1:return $n(c),null;case 3:return h=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Gs(hr),Be(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Yc(c)?qs(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,CS())),$n(c),null;case 26:return h=c.memoizedState,o===null?(qs(c),h!==null?($n(c),KE(c,h)):($n(c),c.flags&=-16777217)):h?h!==o.memoizedState?(qs(c),$n(c),KE(c,h)):($n(c),c.flags&=-16777217):(o.memoizedProps!==m&&qs(c),$n(c),c.flags&=-16777217),null;case 27:Ye(c),h=ee.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==m&&qs(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return $n(c),null}o=re.current,Yc(c)?ES(c):(o=KT(E,m,h),c.stateNode=o,qs(c))}return $n(c),null;case 5:if(Ye(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&qs(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return $n(c),null}if(o=re.current,Yc(c))ES(c);else{switch(E=Zf(ee.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?E.createElement(h,{is:m.is}):E.createElement(h)}}o[X]=c,o[J]=m;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(Rr(o,h,m),h){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qs(c)}}return $n(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&qs(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(o=ee.current,Yc(c)){if(o=c.stateNode,h=c.memoizedProps,m=null,E=Hr,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}o[X]=c,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||$T(o.nodeValue,h)),o||go(c)}else o=Zf(o).createTextNode(m),o[X]=c,c.stateNode=o}return $n(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Yc(c),m!==null&&m.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[X]=c}else Xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$n(c),E=!1}else E=CS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ks(c),c):(Ks(c),null)}if(Ks(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=m!==null,o=o!==null&&o.memoizedState!==null,h){m=c.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool);var A=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==E&&(m.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),$f(c,c.updateQueue),$n(c),null;case 4:return Be(),o===null&&V0(c.stateNode.containerInfo),$n(c),null;case 10:return Gs(c.type),$n(c),null;case 19:if(Y(pr),E=c.memoizedState,E===null)return $n(c),null;if(m=(c.flags&128)!==0,A=E.rendering,A===null)if(m)fu(E,!1);else{if(Kn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=Of(o),A!==null){for(c.flags|=128,fu(E,!1),o=A.updateQueue,c.updateQueue=o,$f(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)bS(h,o),h=h.sibling;return ne(pr,pr.current&1|2),c.child}o=o.sibling}E.tail!==null&&Pe()>zf&&(c.flags|=128,m=!0,fu(E,!1),c.lanes=4194304)}else{if(!m)if(o=Of(A),o!==null){if(c.flags|=128,m=!0,o=o.updateQueue,c.updateQueue=o,$f(c,o),fu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!sn)return $n(c),null}else 2*Pe()-E.renderingStartTime>zf&&h!==536870912&&(c.flags|=128,m=!0,fu(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(o=E.last,o!==null?o.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Pe(),c.sibling=null,o=pr.current,ne(pr,m?o&1|2:o&1),c):($n(c),null);case 22:case 23:return Ks(c),Wg(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(h&536870912)!==0&&(c.flags&128)===0&&($n(c),c.subtreeFlags&6&&(c.flags|=8192)):$n(c),h=c.updateQueue,h!==null&&$f(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048),o!==null&&Y(xo),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Gs(hr),$n(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function eO(o,c){switch(Pg(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Gs(hr),Be(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ye(c),null;case 13:if(Ks(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Xc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Y(pr),null;case 4:return Be(),null;case 10:return Gs(c.type),null;case 22:case 23:return Ks(c),Wg(),o!==null&&Y(xo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Gs(hr),null;case 25:return null;default:return null}}function WE(o,c){switch(Pg(c),c.tag){case 3:Gs(hr),Be();break;case 26:case 27:case 5:Ye(c);break;case 4:Be();break;case 13:Ks(c);break;case 19:Y(pr);break;case 10:Gs(c.type);break;case 22:case 23:Ks(c),Wg(),o!==null&&Y(xo);break;case 24:Gs(hr)}}function hu(o,c){try{var h=c.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var E=m.next;h=E;do{if((h.tag&o)===o){m=void 0;var A=h.create,B=h.inst;m=A(),B.destroy=m}h=h.next}while(h!==E)}}catch(V){An(c,c.return,V)}}function Ea(o,c,h){try{var m=c.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var A=E.next;m=A;do{if((m.tag&o)===o){var B=m.inst,V=B.destroy;if(V!==void 0){B.destroy=void 0,E=c;var Z=h,ce=V;try{ce()}catch(Ee){An(E,Z,Ee)}}}m=m.next}while(m!==A)}}catch(Ee){An(c,c.return,Ee)}}function qE(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{MS(c,h)}catch(m){An(o,o.return,m)}}}function YE(o,c,h){h.props=So(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){An(o,c,m)}}function pu(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(E){An(o,c,E)}}function hs(o,c){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(E){An(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){An(o,c,E)}else h.current=null}function XE(o){var c=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(E){An(o,o.return,E)}}function S0(o,c,h){try{var m=o.stateNode;SO(m,o.type,h,c),m[J]=c}catch(E){An(o,o.return,E)}}function QE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ka(o.type)||o.tag===4}function E0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||QE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ka(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function T0(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Qf));else if(m!==4&&(m===27&&ka(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(T0(o,c,h),o=o.sibling;o!==null;)T0(o,c,h),o=o.sibling}function jf(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(m!==4&&(m===27&&ka(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(jf(o,c,h),o=o.sibling;o!==null;)jf(o,c,h),o=o.sibling}function ZE(o){var c=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);Rr(c,m,h),c[X]=o,c[J]=h}catch(A){An(o,o.return,A)}}var Ys=!1,er=!1,C0=!1,JE=typeof WeakSet=="function"?WeakSet:Set,yr=null;function tO(o,c){if(o=o.containerInfo,q0=ih,o=uS(o),Eg(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var E=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var B=0,V=-1,Z=-1,ce=0,Ee=0,Ie=o,he=null;t:for(;;){for(var me;Ie!==h||E!==0&&Ie.nodeType!==3||(V=B+E),Ie!==A||m!==0&&Ie.nodeType!==3||(Z=B+m),Ie.nodeType===3&&(B+=Ie.nodeValue.length),(me=Ie.firstChild)!==null;)he=Ie,Ie=me;for(;;){if(Ie===o)break t;if(he===h&&++ce===E&&(V=B),he===A&&++Ee===m&&(Z=B),(me=Ie.nextSibling)!==null)break;Ie=he,he=Ie.parentNode}Ie=me}h=V===-1||Z===-1?null:{start:V,end:Z}}else h=null}h=h||{start:0,end:0}}else h=null;for(Y0={focusedElem:o,selectionRange:h},ih=!1,yr=c;yr!==null;)if(c=yr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,yr=o;else for(;yr!==null;){switch(c=yr,A=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,h=c,E=A.memoizedProps,A=A.memoizedState,m=h.stateNode;try{var kt=So(h.type,E,h.elementType===h.type);o=m.getSnapshotBeforeUpdate(kt,A),m.__reactInternalSnapshotBeforeUpdate=o}catch(At){An(h,h.return,At)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Z0(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Z0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,yr=o;break}yr=c.return}}function eT(o,c,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ta(o,h),m&4&&hu(5,h);break;case 1:if(Ta(o,h),m&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(B){An(h,h.return,B)}else{var E=So(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(B){An(h,h.return,B)}}m&64&&qE(h),m&512&&pu(h,h.return);break;case 3:if(Ta(o,h),m&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{MS(o,c)}catch(B){An(h,h.return,B)}}break;case 27:c===null&&m&4&&ZE(h);case 26:case 5:Ta(o,h),c===null&&m&4&&XE(h),m&512&&pu(h,h.return);break;case 12:Ta(o,h);break;case 13:Ta(o,h),m&4&&rT(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=uO.bind(null,h),LO(o,h))));break;case 22:if(m=h.memoizedState!==null||Ys,!m){c=c!==null&&c.memoizedState!==null||er,E=Ys;var A=er;Ys=m,(er=c)&&!A?Ca(o,h,(h.subtreeFlags&8772)!==0):Ta(o,h),Ys=E,er=A}break;case 30:break;default:Ta(o,h)}}function tT(o){var c=o.alternate;c!==null&&(o.alternate=null,tT(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&qe(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Pn=null,Yr=!1;function Xs(o,c,h){for(h=h.child;h!==null;)nT(o,c,h),h=h.sibling}function nT(o,c,h){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(be,h)}catch{}switch(h.tag){case 26:er||hs(h,c),Xs(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:er||hs(h,c);var m=Pn,E=Yr;ka(h.type)&&(Pn=h.stateNode,Yr=!1),Xs(o,c,h),Tu(h.stateNode),Pn=m,Yr=E;break;case 5:er||hs(h,c);case 6:if(m=Pn,E=Yr,Pn=null,Xs(o,c,h),Pn=m,Yr=E,Pn!==null)if(Yr)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(h.stateNode)}catch(A){An(h,c,A)}else try{Pn.removeChild(h.stateNode)}catch(A){An(h,c,A)}break;case 18:Pn!==null&&(Yr?(o=Pn,GT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Du(o)):GT(Pn,h.stateNode));break;case 4:m=Pn,E=Yr,Pn=h.stateNode.containerInfo,Yr=!0,Xs(o,c,h),Pn=m,Yr=E;break;case 0:case 11:case 14:case 15:er||Ea(2,h,c),er||Ea(4,h,c),Xs(o,c,h);break;case 1:er||(hs(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"&&YE(h,c,m)),Xs(o,c,h);break;case 21:Xs(o,c,h);break;case 22:er=(m=er)||h.memoizedState!==null,Xs(o,c,h),er=m;break;default:Xs(o,c,h)}}function rT(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Du(o)}catch(h){An(c,c.return,h)}}function nO(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new JE),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new JE),c;default:throw Error(r(435,o.tag))}}function w0(o,c){var h=nO(o);c.forEach(function(m){var E=dO.bind(null,o,m);h.has(m)||(h.add(m),m.then(E,E))})}function ci(o,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var E=h[m],A=o,B=c,V=B;e:for(;V!==null;){switch(V.tag){case 27:if(ka(V.type)){Pn=V.stateNode,Yr=!1;break e}break;case 5:Pn=V.stateNode,Yr=!1;break e;case 3:case 4:Pn=V.stateNode.containerInfo,Yr=!0;break e}V=V.return}if(Pn===null)throw Error(r(160));nT(A,B,E),Pn=null,Yr=!1,A=E.alternate,A!==null&&(A.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)iT(c,o),c=c.sibling}var es=null;function iT(o,c){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ci(c,o),ui(o),m&4&&(Ea(3,o,o.return),hu(3,o),Ea(5,o,o.return));break;case 1:ci(c,o),ui(o),m&512&&(er||h===null||hs(h,h.return)),m&64&&Ys&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var E=es;if(ci(c,o),ui(o),m&512&&(er||h===null||hs(h,h.return)),m&4){var A=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":A=E.getElementsByTagName("title")[0],(!A||A[Ze]||A[X]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=E.createElement(m),E.head.insertBefore(A,E.querySelector("head > title"))),Rr(A,m,h),A[X]=o,Bt(A),m=A;break e;case"link":var B=ZT("link","href",E).get(m+(h.href||""));if(B){for(var V=0;V<B.length;V++)if(A=B[V],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(V,1);break t}}A=E.createElement(m),Rr(A,m,h),E.head.appendChild(A);break;case"meta":if(B=ZT("meta","content",E).get(m+(h.content||""))){for(V=0;V<B.length;V++)if(A=B[V],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(V,1);break t}}A=E.createElement(m),Rr(A,m,h),E.head.appendChild(A);break;default:throw Error(r(468,m))}A[X]=o,Bt(A),m=A}o.stateNode=m}else JT(E,o.type,o.stateNode);else o.stateNode=QT(E,m,o.memoizedProps);else A!==m?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,m===null?JT(E,o.type,o.stateNode):QT(E,m,o.memoizedProps)):m===null&&o.stateNode!==null&&S0(o,o.memoizedProps,h.memoizedProps)}break;case 27:ci(c,o),ui(o),m&512&&(er||h===null||hs(h,h.return)),h!==null&&m&4&&S0(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ci(c,o),ui(o),m&512&&(er||h===null||hs(h,h.return)),o.flags&32){E=o.stateNode;try{ul(E,"")}catch(me){An(o,o.return,me)}}m&4&&o.stateNode!=null&&(E=o.memoizedProps,S0(o,E,h!==null?h.memoizedProps:E)),m&1024&&(C0=!0);break;case 6:if(ci(c,o),ui(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(me){An(o,o.return,me)}}break;case 3:if(th=null,E=es,es=Jf(c.containerInfo),ci(c,o),es=E,ui(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Du(c.containerInfo)}catch(me){An(o,o.return,me)}C0&&(C0=!1,sT(o));break;case 4:m=es,es=Jf(o.stateNode.containerInfo),ci(c,o),ui(o),es=m;break;case 12:ci(c,o),ui(o);break;case 13:ci(c,o),ui(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(D0=Pe()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,w0(o,m)));break;case 22:E=o.memoizedState!==null;var Z=h!==null&&h.memoizedState!==null,ce=Ys,Ee=er;if(Ys=ce||E,er=Ee||Z,ci(c,o),er=Ee,Ys=ce,ui(o),m&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(h===null||Z||Ys||er||Eo(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){Z=h=c;try{if(A=Z.stateNode,E)B=A.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{V=Z.stateNode;var Ie=Z.memoizedProps.style,he=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;V.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(me){An(Z,Z.return,me)}}}else if(c.tag===6){if(h===null){Z=c;try{Z.stateNode.nodeValue=E?"":Z.memoizedProps}catch(me){An(Z,Z.return,me)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,w0(o,h))));break;case 19:ci(c,o),ui(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,w0(o,m)));break;case 30:break;case 21:break;default:ci(c,o),ui(o)}}function ui(o){var c=o.flags;if(c&2){try{for(var h,m=o.return;m!==null;){if(QE(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var E=h.stateNode,A=E0(o);jf(o,A,E);break;case 5:var B=h.stateNode;h.flags&32&&(ul(B,""),h.flags&=-33);var V=E0(o);jf(o,V,B);break;case 3:case 4:var Z=h.stateNode.containerInfo,ce=E0(o);T0(o,ce,Z);break;default:throw Error(r(161))}}catch(Ee){An(o,o.return,Ee)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function sT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;sT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ta(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)eT(o,c.alternate,c),c=c.sibling}function Eo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ea(4,c,c.return),Eo(c);break;case 1:hs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&YE(c,c.return,h),Eo(c);break;case 27:Tu(c.stateNode);case 26:case 5:hs(c,c.return),Eo(c);break;case 22:c.memoizedState===null&&Eo(c);break;case 30:Eo(c);break;default:Eo(c)}o=o.sibling}}function Ca(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,E=o,A=c,B=A.flags;switch(A.tag){case 0:case 11:case 15:Ca(E,A,h),hu(4,A);break;case 1:if(Ca(E,A,h),m=A,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ce){An(m,m.return,ce)}if(m=A,E=m.updateQueue,E!==null){var V=m.stateNode;try{var Z=E.shared.hiddenCallbacks;if(Z!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Z.length;E++)OS(Z[E],V)}catch(ce){An(m,m.return,ce)}}h&&B&64&&qE(A),pu(A,A.return);break;case 27:ZE(A);case 26:case 5:Ca(E,A,h),h&&m===null&&B&4&&XE(A),pu(A,A.return);break;case 12:Ca(E,A,h);break;case 13:Ca(E,A,h),h&&B&4&&rT(E,A);break;case 22:A.memoizedState===null&&Ca(E,A,h),pu(A,A.return);break;case 30:break;default:Ca(E,A,h)}c=c.sibling}}function A0(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Jc(h))}function R0(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Jc(o))}function ps(o,c,h,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)aT(o,c,h,m),c=c.sibling}function aT(o,c,h,m){var E=c.flags;switch(c.tag){case 0:case 11:case 15:ps(o,c,h,m),E&2048&&hu(9,c);break;case 1:ps(o,c,h,m);break;case 3:ps(o,c,h,m),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Jc(o)));break;case 12:if(E&2048){ps(o,c,h,m),o=c.stateNode;try{var A=c.memoizedProps,B=A.id,V=A.onPostCommit;typeof V=="function"&&V(B,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Z){An(c,c.return,Z)}}else ps(o,c,h,m);break;case 13:ps(o,c,h,m);break;case 23:break;case 22:A=c.stateNode,B=c.alternate,c.memoizedState!==null?A._visibility&2?ps(o,c,h,m):mu(o,c):A._visibility&2?ps(o,c,h,m):(A._visibility|=2,Il(o,c,h,m,(c.subtreeFlags&10256)!==0)),E&2048&&A0(B,c);break;case 24:ps(o,c,h,m),E&2048&&R0(c.alternate,c);break;default:ps(o,c,h,m)}}function Il(o,c,h,m,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,B=c,V=h,Z=m,ce=B.flags;switch(B.tag){case 0:case 11:case 15:Il(A,B,V,Z,E),hu(8,B);break;case 23:break;case 22:var Ee=B.stateNode;B.memoizedState!==null?Ee._visibility&2?Il(A,B,V,Z,E):mu(A,B):(Ee._visibility|=2,Il(A,B,V,Z,E)),E&&ce&2048&&A0(B.alternate,B);break;case 24:Il(A,B,V,Z,E),E&&ce&2048&&R0(B.alternate,B);break;default:Il(A,B,V,Z,E)}c=c.sibling}}function mu(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,m=c,E=m.flags;switch(m.tag){case 22:mu(h,m),E&2048&&A0(m.alternate,m);break;case 24:mu(h,m),E&2048&&R0(m.alternate,m);break;default:mu(h,m)}c=c.sibling}}var gu=8192;function kl(o){if(o.subtreeFlags&gu)for(o=o.child;o!==null;)oT(o),o=o.sibling}function oT(o){switch(o.tag){case 26:kl(o),o.flags&gu&&o.memoizedState!==null&&UO(es,o.memoizedState,o.memoizedProps);break;case 5:kl(o);break;case 3:case 4:var c=es;es=Jf(o.stateNode.containerInfo),kl(o),es=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=gu,gu=16777216,kl(o),gu=c):kl(o));break;default:kl(o)}}function lT(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function vu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];yr=m,uT(m,o)}lT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cT(o),o=o.sibling}function cT(o){switch(o.tag){case 0:case 11:case 15:vu(o),o.flags&2048&&Ea(9,o,o.return);break;case 3:vu(o);break;case 12:vu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Uf(o)):vu(o);break;default:vu(o)}}function Uf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];yr=m,uT(m,o)}lT(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ea(8,c,c.return),Uf(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Uf(c));break;default:Uf(c)}o=o.sibling}}function uT(o,c){for(;yr!==null;){var h=yr;switch(h.tag){case 0:case 11:case 15:Ea(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Jc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,yr=m;else e:for(h=o;yr!==null;){m=yr;var E=m.sibling,A=m.return;if(tT(m),m===h){yr=null;break e}if(E!==null){E.return=A,yr=E;break e}yr=A}}}var rO={getCacheForType:function(o){var c=Or(hr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},iO=typeof WeakMap=="function"?WeakMap:Map,fn=0,Dn=null,Wt=null,Jt=0,hn=0,di=null,wa=!1,Dl=!1,L0=!1,Qs=0,Kn=0,Aa=0,To=0,I0=0,Fi=0,_l=0,yu=null,Xr=null,k0=!1,D0=0,zf=1/0,Hf=null,Ra=null,Ar=0,La=null,Pl=null,Ol=0,_0=0,P0=null,dT=null,xu=0,O0=null;function fi(){if((fn&2)!==0&&Jt!==0)return Jt&-Jt;if(N.T!==null){var o=Sl;return o!==0?o:U0()}return kn()}function fT(){Fi===0&&(Fi=(Jt&536870912)===0||sn?wn():536870912);var o=Mi.current;return o!==null&&(o.flags|=32),Fi}function hi(o,c,h){(o===Dn&&(hn===2||hn===9)||o.cancelPendingCommit!==null)&&(Ml(o,0),Ia(o,Jt,Fi,!1)),Ot(o,h),((fn&2)===0||o!==Dn)&&(o===Dn&&((fn&2)===0&&(To|=h),Kn===4&&Ia(o,Jt,Fi,!1)),ms(o))}function hT(o,c,h){if((fn&6)!==0)throw Error(r(327));var m=!h&&(c&124)===0&&(c&o.expiredLanes)===0||Lt(o,c),E=m?oO(o,c):N0(o,c,!0),A=m;do{if(E===0){Dl&&!m&&Ia(o,c,0,!1);break}else{if(h=o.current.alternate,A&&!sO(h)){E=N0(o,c,!1),A=!1;continue}if(E===2){if(A=c,o.errorRecoveryDisabledLanes&A)var B=0;else B=o.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){c=B;e:{var V=o;E=yu;var Z=V.current.memoizedState.isDehydrated;if(Z&&(Ml(V,B).flags|=256),B=N0(V,B,!1),B!==2){if(L0&&!Z){V.errorRecoveryDisabledLanes|=A,To|=A,E=4;break e}A=Xr,Xr=E,A!==null&&(Xr===null?Xr=A:Xr.push.apply(Xr,A))}E=B}if(A=!1,E!==2)continue}}if(E===1){Ml(o,0),Ia(o,c,0,!0);break}e:{switch(m=o,A=E,A){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ia(m,c,Fi,!wa);break e;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=D0+300-Pe(),10<E)){if(Ia(m,c,Fi,!wa),Et(m,0,!0)!==0)break e;m.timeoutHandle=zT(pT.bind(null,m,h,Xr,Hf,k0,c,Fi,To,_l,wa,A,2,-0,0),E);break e}pT(m,h,Xr,Hf,k0,c,Fi,To,_l,wa,A,0,-0,0)}}break}while(!0);ms(o)}function pT(o,c,h,m,E,A,B,V,Z,ce,Ee,Ie,he,me){if(o.timeoutHandle=-1,Ie=c.subtreeFlags,(Ie&8192||(Ie&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:jO},oT(c),Ie=zO(),Ie!==null)){o.cancelPendingCommit=Ie(ST.bind(null,o,c,A,h,m,E,B,V,Z,Ee,1,he,me)),Ia(o,A,B,!ce);return}ST(o,c,A,h,m,E,B,V,Z)}function sO(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var E=h[m],A=E.getSnapshot;E=E.value;try{if(!oi(A(),E))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ia(o,c,h,m){c&=~I0,c&=~To,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var E=c;0<E;){var A=31-We(E),B=1<<A;m[A]=-1,E&=~B}h!==0&&Nn(o,h,c)}function Gf(){return(fn&6)===0?(bu(0),!1):!0}function M0(){if(Wt!==null){if(hn===0)var o=Wt.return;else o=Wt,Hs=vo=null,Zg(o),Rl=null,uu=0,o=Wt;for(;o!==null;)WE(o.alternate,o),o=o.return;Wt=null}}function Ml(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,TO(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),M0(),Dn=o,Wt=h=js(o.current,null),Jt=c,hn=0,di=null,wa=!1,Dl=Lt(o,c),L0=!1,_l=Fi=I0=To=Aa=Kn=0,Xr=yu=null,k0=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var E=31-We(m),A=1<<E;c|=o[E],m&=~A}return Qs=c,ff(),h}function mT(o,c){zt=null,N.H=Df,c===tu||c===Sf?(c=_S(),hn=3):c===IS?(c=_S(),hn=4):hn=c===PE?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,di=c,Wt===null&&(Kn=1,Ff(o,Di(c,o.current)))}function gT(){var o=N.H;return N.H=Df,o===null?Df:o}function vT(){var o=N.A;return N.A=rO,o}function F0(){Kn=4,wa||(Jt&4194048)!==Jt&&Mi.current!==null||(Dl=!0),(Aa&134217727)===0&&(To&134217727)===0||Dn===null||Ia(Dn,Jt,Fi,!1)}function N0(o,c,h){var m=fn;fn|=2;var E=gT(),A=vT();(Dn!==o||Jt!==c)&&(Hf=null,Ml(o,c)),c=!1;var B=Kn;e:do try{if(hn!==0&&Wt!==null){var V=Wt,Z=di;switch(hn){case 8:M0(),B=6;break e;case 3:case 2:case 9:case 6:Mi.current===null&&(c=!0);var ce=hn;if(hn=0,di=null,Fl(o,V,Z,ce),h&&Dl){B=0;break e}break;default:ce=hn,hn=0,di=null,Fl(o,V,Z,ce)}}aO(),B=Kn;break}catch(Ee){mT(o,Ee)}while(!0);return c&&o.shellSuspendCounter++,Hs=vo=null,fn=m,N.H=E,N.A=A,Wt===null&&(Dn=null,Jt=0,ff()),B}function aO(){for(;Wt!==null;)yT(Wt)}function oO(o,c){var h=fn;fn|=2;var m=gT(),E=vT();Dn!==o||Jt!==c?(Hf=null,zf=Pe()+500,Ml(o,c)):Dl=Lt(o,c);e:do try{if(hn!==0&&Wt!==null){c=Wt;var A=di;t:switch(hn){case 1:hn=0,di=null,Fl(o,c,A,1);break;case 2:case 9:if(kS(A)){hn=0,di=null,xT(c);break}c=function(){hn!==2&&hn!==9||Dn!==o||(hn=7),ms(o)},A.then(c,c);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:kS(A)?(hn=0,di=null,xT(c)):(hn=0,di=null,Fl(o,c,A,7));break;case 5:var B=null;switch(Wt.tag){case 26:B=Wt.memoizedState;case 5:case 27:var V=Wt;if(!B||eC(B)){hn=0,di=null;var Z=V.sibling;if(Z!==null)Wt=Z;else{var ce=V.return;ce!==null?(Wt=ce,Vf(ce)):Wt=null}break t}}hn=0,di=null,Fl(o,c,A,5);break;case 6:hn=0,di=null,Fl(o,c,A,6);break;case 8:M0(),Kn=6;break e;default:throw Error(r(462))}}lO();break}catch(Ee){mT(o,Ee)}while(!0);return Hs=vo=null,N.H=m,N.A=E,fn=h,Wt!==null?0:(Dn=null,Jt=0,ff(),Kn)}function lO(){for(;Wt!==null&&!gt();)yT(Wt)}function yT(o){var c=VE(o.alternate,o,Qs);o.memoizedProps=o.pendingProps,c===null?Vf(o):Wt=c}function xT(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=$E(h,c,c.pendingProps,c.type,void 0,Jt);break;case 11:c=$E(h,c,c.pendingProps,c.type.render,c.ref,Jt);break;case 5:Zg(c);default:WE(h,c),c=Wt=bS(c,Qs),c=VE(h,c,Qs)}o.memoizedProps=o.pendingProps,c===null?Vf(o):Wt=c}function Fl(o,c,h,m){Hs=vo=null,Zg(c),Rl=null,uu=0;var E=c.return;try{if(QP(o,E,c,h,Jt)){Kn=1,Ff(o,Di(h,o.current)),Wt=null;return}}catch(A){if(E!==null)throw Wt=E,A;Kn=1,Ff(o,Di(h,o.current)),Wt=null;return}c.flags&32768?(sn||m===1?o=!0:Dl||(Jt&536870912)!==0?o=!1:(wa=o=!0,(m===2||m===9||m===3||m===6)&&(m=Mi.current,m!==null&&m.tag===13&&(m.flags|=16384))),bT(c,o)):Vf(c)}function Vf(o){var c=o;do{if((c.flags&32768)!==0){bT(c,wa);return}o=c.return;var h=JP(c.alternate,c,Qs);if(h!==null){Wt=h;return}if(c=c.sibling,c!==null){Wt=c;return}Wt=c=o}while(c!==null);Kn===0&&(Kn=5)}function bT(o,c){do{var h=eO(o.alternate,o);if(h!==null){h.flags&=32767,Wt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Wt=o;return}Wt=o=h}while(o!==null);Kn=6,Wt=null}function ST(o,c,h,m,E,A,B,V,Z){o.cancelPendingCommit=null;do Kf();while(Ar!==0);if((fn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(A=c.lanes|c.childLanes,A|=Rg,en(o,h,A,B,V,Z),o===Dn&&(Wt=Dn=null,Jt=0),Pl=c,La=o,Ol=h,_0=A,P0=E,dT=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,fO(pt,function(){return AT(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=N.T,N.T=null,E=q.p,q.p=2,B=fn,fn|=4;try{tO(o,c,h)}finally{fn=B,q.p=E,N.T=m}}Ar=1,ET(),TT(),CT()}}function ET(){if(Ar===1){Ar=0;var o=La,c=Pl,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=N.T,N.T=null;var m=q.p;q.p=2;var E=fn;fn|=4;try{iT(c,o);var A=Y0,B=uS(o.containerInfo),V=A.focusedElem,Z=A.selectionRange;if(B!==V&&V&&V.ownerDocument&&cS(V.ownerDocument.documentElement,V)){if(Z!==null&&Eg(V)){var ce=Z.start,Ee=Z.end;if(Ee===void 0&&(Ee=ce),"selectionStart"in V)V.selectionStart=ce,V.selectionEnd=Math.min(Ee,V.value.length);else{var Ie=V.ownerDocument||document,he=Ie&&Ie.defaultView||window;if(he.getSelection){var me=he.getSelection(),kt=V.textContent.length,At=Math.min(Z.start,kt),En=Z.end===void 0?At:Math.min(Z.end,kt);!me.extend&&At>En&&(B=En,En=At,At=B);var ie=lS(V,At),te=lS(V,En);if(ie&&te&&(me.rangeCount!==1||me.anchorNode!==ie.node||me.anchorOffset!==ie.offset||me.focusNode!==te.node||me.focusOffset!==te.offset)){var le=Ie.createRange();le.setStart(ie.node,ie.offset),me.removeAllRanges(),At>En?(me.addRange(le),me.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),me.addRange(le))}}}}for(Ie=[],me=V;me=me.parentNode;)me.nodeType===1&&Ie.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Ie.length;V++){var Ae=Ie[V];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}ih=!!q0,Y0=q0=null}finally{fn=E,q.p=m,N.T=h}}o.current=c,Ar=2}}function TT(){if(Ar===2){Ar=0;var o=La,c=Pl,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=N.T,N.T=null;var m=q.p;q.p=2;var E=fn;fn|=4;try{eT(o,c.alternate,c)}finally{fn=E,q.p=m,N.T=h}}Ar=3}}function CT(){if(Ar===4||Ar===3){Ar=0,Le();var o=La,c=Pl,h=Ol,m=dT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ar=5:(Ar=0,Pl=La=null,wT(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Ra=null),Tt(h),c=c.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(be,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=N.T,E=q.p,q.p=2,N.T=null;try{for(var A=o.onRecoverableError,B=0;B<m.length;B++){var V=m[B];A(V.value,{componentStack:V.stack})}}finally{N.T=c,q.p=E}}(Ol&3)!==0&&Kf(),ms(o),E=o.pendingLanes,(h&4194090)!==0&&(E&42)!==0?o===O0?xu++:(xu=0,O0=o):xu=0,bu(0)}}function wT(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Jc(c)))}function Kf(o){return ET(),TT(),CT(),AT()}function AT(){if(Ar!==5)return!1;var o=La,c=_0;_0=0;var h=Tt(Ol),m=N.T,E=q.p;try{q.p=32>h?32:h,N.T=null,h=P0,P0=null;var A=La,B=Ol;if(Ar=0,Pl=La=null,Ol=0,(fn&6)!==0)throw Error(r(331));var V=fn;if(fn|=4,cT(A.current),aT(A,A.current,B,h),fn=V,bu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(be,A)}catch{}return!0}finally{q.p=E,N.T=m,wT(o,c)}}function RT(o,c,h){c=Di(h,c),c=f0(o.stateNode,c,2),o=ya(o,c,2),o!==null&&(Ot(o,2),ms(o))}function An(o,c,h){if(o.tag===3)RT(o,o,h);else for(;c!==null;){if(c.tag===3){RT(c,o,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ra===null||!Ra.has(m))){o=Di(h,o),h=DE(2),m=ya(c,h,2),m!==null&&(_E(h,m,c,o),Ot(m,2),ms(m));break}}c=c.return}}function B0(o,c,h){var m=o.pingCache;if(m===null){m=o.pingCache=new iO;var E=new Set;m.set(c,E)}else E=m.get(c),E===void 0&&(E=new Set,m.set(c,E));E.has(h)||(L0=!0,E.add(h),o=cO.bind(null,o,c,h),c.then(o,o))}function cO(o,c,h){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Dn===o&&(Jt&h)===h&&(Kn===4||Kn===3&&(Jt&62914560)===Jt&&300>Pe()-D0?(fn&2)===0&&Ml(o,0):I0|=h,_l===Jt&&(_l=0)),ms(o)}function LT(o,c){c===0&&(c=dr()),o=vl(o,c),o!==null&&(Ot(o,c),ms(o))}function uO(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),LT(o,h)}function dO(o,c){var h=0;switch(o.tag){case 13:var m=o.stateNode,E=o.memoizedState;E!==null&&(h=E.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),LT(o,h)}function fO(o,c){return ye(o,c)}var Wf=null,Nl=null,$0=!1,qf=!1,j0=!1,Co=0;function ms(o){o!==Nl&&o.next===null&&(Nl===null?Wf=Nl=o:Nl=Nl.next=o),qf=!0,$0||($0=!0,pO())}function bu(o,c){if(!j0&&qf){j0=!0;do for(var h=!1,m=Wf;m!==null;){if(o!==0){var E=m.pendingLanes;if(E===0)var A=0;else{var B=m.suspendedLanes,V=m.pingedLanes;A=(1<<31-We(42|o)+1)-1,A&=E&~(B&~V),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,_T(m,A))}else A=Jt,A=Et(m,m===Dn?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Lt(m,A)||(h=!0,_T(m,A));m=m.next}while(h);j0=!1}}function hO(){IT()}function IT(){qf=$0=!1;var o=0;Co!==0&&(EO()&&(o=Co),Co=0);for(var c=Pe(),h=null,m=Wf;m!==null;){var E=m.next,A=kT(m,c);A===0?(m.next=null,h===null?Wf=E:h.next=E,E===null&&(Nl=h)):(h=m,(o!==0||(A&3)!==0)&&(qf=!0)),m=E}bu(o)}function kT(o,c){for(var h=o.suspendedLanes,m=o.pingedLanes,E=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var B=31-We(A),V=1<<B,Z=E[B];Z===-1?((V&h)===0||(V&m)!==0)&&(E[B]=ln(V,c)):Z<=c&&(o.expiredLanes|=V),A&=~V}if(c=Dn,h=Jt,h=Et(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===c&&(hn===2||hn===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Re(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Lt(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(m!==null&&Re(m),Tt(h)){case 2:case 8:h=Ve;break;case 32:h=pt;break;case 268435456:h=Ut;break;default:h=pt}return m=DT.bind(null,o),h=ye(h,m),o.callbackPriority=c,o.callbackNode=h,c}return m!==null&&m!==null&&Re(m),o.callbackPriority=2,o.callbackNode=null,2}function DT(o,c){if(Ar!==0&&Ar!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Kf()&&o.callbackNode!==h)return null;var m=Jt;return m=Et(o,o===Dn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(hT(o,m,c),kT(o,Pe()),o.callbackNode!=null&&o.callbackNode===h?DT.bind(null,o):null)}function _T(o,c){if(Kf())return null;hT(o,c,!0)}function pO(){CO(function(){(fn&6)!==0?ye(bt,hO):IT()})}function U0(){return Co===0&&(Co=wn()),Co}function PT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:sf(""+o)}function OT(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function mO(o,c,h,m,E){if(c==="submit"&&h&&h.stateNode===E){var A=PT((E[J]||null).action),B=m.submitter;B&&(c=(c=B[J]||null)?PT(c.formAction):B.getAttribute("formAction"),c!==null&&(A=c,B=null));var V=new cf("action","action",null,m,E);o.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Co!==0){var Z=B?OT(E,B):new FormData(E);o0(h,{pending:!0,data:Z,method:E.method,action:A},null,Z)}}else typeof A=="function"&&(V.preventDefault(),Z=B?OT(E,B):new FormData(E),o0(h,{pending:!0,data:Z,method:E.method,action:A},A,Z))},currentTarget:E}]})}}for(var z0=0;z0<Ag.length;z0++){var H0=Ag[z0],gO=H0.toLowerCase(),vO=H0[0].toUpperCase()+H0.slice(1);Ji(gO,"on"+vO)}Ji(hS,"onAnimationEnd"),Ji(pS,"onAnimationIteration"),Ji(mS,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(OP,"onTransitionRun"),Ji(MP,"onTransitionStart"),Ji(FP,"onTransitionCancel"),Ji(gS,"onTransitionEnd"),mt("onMouseEnter",["mouseout","mouseover"]),mt("onMouseLeave",["mouseout","mouseover"]),mt("onPointerEnter",["pointerout","pointerover"]),mt("onPointerLeave",["pointerout","pointerover"]),Ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function MT(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],E=m.event;m=m.listeners;e:{var A=void 0;if(c)for(var B=m.length-1;0<=B;B--){var V=m[B],Z=V.instance,ce=V.currentTarget;if(V=V.listener,Z!==A&&E.isPropagationStopped())break e;A=V,E.currentTarget=ce;try{A(E)}catch(Ee){Mf(Ee)}E.currentTarget=null,A=Z}else for(B=0;B<m.length;B++){if(V=m[B],Z=V.instance,ce=V.currentTarget,V=V.listener,Z!==A&&E.isPropagationStopped())break e;A=V,E.currentTarget=ce;try{A(E)}catch(Ee){Mf(Ee)}E.currentTarget=null,A=Z}}}}function qt(o,c){var h=c[we];h===void 0&&(h=c[we]=new Set);var m=o+"__bubble";h.has(m)||(FT(c,o,2,!1),h.add(m))}function G0(o,c,h){var m=0;c&&(m|=4),FT(h,o,m,c)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function V0(o){if(!o[Yf]){o[Yf]=!0,fe.forEach(function(h){h!=="selectionchange"&&(yO.has(h)||G0(h,!1,o),G0(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Yf]||(c[Yf]=!0,G0("selectionchange",!1,c))}}function FT(o,c,h,m){switch(aC(c)){case 2:var E=VO;break;case 8:E=KO;break;default:E=sv}h=E.bind(null,c,h,o),E=void 0,!hg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),m?E!==void 0?o.addEventListener(c,h,{capture:!0,passive:E}):o.addEventListener(c,h,!0):E!==void 0?o.addEventListener(c,h,{passive:E}):o.addEventListener(c,h,!1)}function K0(o,c,h,m,E){var A=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var V=m.stateNode.containerInfo;if(V===E)break;if(B===4)for(B=m.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&B.stateNode.containerInfo===E)return;B=B.return}for(;V!==null;){if(B=ze(V),B===null)return;if(Z=B.tag,Z===5||Z===6||Z===26||Z===27){m=A=B;continue e}V=V.parentNode}}m=m.return}H1(function(){var ce=A,Ee=dg(h),Ie=[];e:{var he=vS.get(o);if(he!==void 0){var me=cf,kt=o;switch(o){case"keypress":if(of(h)===0)break e;case"keydown":case"keyup":me=fP;break;case"focusin":kt="focus",me=vg;break;case"focusout":kt="blur",me=vg;break;case"beforeblur":case"afterblur":me=vg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=K1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=eP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=mP;break;case hS:case pS:case mS:me=rP;break;case gS:me=vP;break;case"scroll":case"scrollend":me=Z_;break;case"wheel":me=xP;break;case"copy":case"cut":case"paste":me=sP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=q1;break;case"toggle":case"beforetoggle":me=SP}var At=(c&4)!==0,En=!At&&(o==="scroll"||o==="scrollend"),ie=At?he!==null?he+"Capture":null:he;At=[];for(var te=ce,le;te!==null;){var Ae=te;if(le=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||le===null||ie===null||(Ae=jc(te,ie),Ae!=null&&At.push(Eu(te,Ae,le))),En)break;te=te.return}0<At.length&&(he=new me(he,kt,null,h,Ee),Ie.push({event:he,listeners:At}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",he&&h!==ug&&(kt=h.relatedTarget||h.fromElement)&&(ze(kt)||kt[se]))break e;if((me||he)&&(he=Ee.window===Ee?Ee:(he=Ee.ownerDocument)?he.defaultView||he.parentWindow:window,me?(kt=h.relatedTarget||h.toElement,me=ce,kt=kt?ze(kt):null,kt!==null&&(En=s(kt),At=kt.tag,kt!==En||At!==5&&At!==27&&At!==6)&&(kt=null)):(me=null,kt=ce),me!==kt)){if(At=K1,Ae="onMouseLeave",ie="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(At=q1,Ae="onPointerLeave",ie="onPointerEnter",te="pointer"),En=me==null?he:wt(me),le=kt==null?he:wt(kt),he=new At(Ae,te+"leave",me,h,Ee),he.target=En,he.relatedTarget=le,Ae=null,ze(Ee)===ce&&(At=new At(ie,te+"enter",kt,h,Ee),At.target=le,At.relatedTarget=En,Ae=At),En=Ae,me&&kt)t:{for(At=me,ie=kt,te=0,le=At;le;le=Bl(le))te++;for(le=0,Ae=ie;Ae;Ae=Bl(Ae))le++;for(;0<te-le;)At=Bl(At),te--;for(;0<le-te;)ie=Bl(ie),le--;for(;te--;){if(At===ie||ie!==null&&At===ie.alternate)break t;At=Bl(At),ie=Bl(ie)}At=null}else At=null;me!==null&&NT(Ie,he,me,At,!1),kt!==null&&En!==null&&NT(Ie,En,kt,At,!0)}}e:{if(he=ce?wt(ce):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var ft=nS;else if(eS(he))if(rS)ft=DP;else{ft=IP;var Vt=LP}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&cg(ce.elementType)&&(ft=nS):ft=kP;if(ft&&(ft=ft(o,ce))){tS(Ie,ft,h,Ee);break e}Vt&&Vt(o,he,ce),o==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&lg(he,"number",he.value)}switch(Vt=ce?wt(ce):window,o){case"focusin":(eS(Vt)||Vt.contentEditable==="true")&&(pl=Vt,Tg=ce,qc=null);break;case"focusout":qc=Tg=pl=null;break;case"mousedown":Cg=!0;break;case"contextmenu":case"mouseup":case"dragend":Cg=!1,dS(Ie,h,Ee);break;case"selectionchange":if(PP)break;case"keydown":case"keyup":dS(Ie,h,Ee)}var xt;if(xg)e:{switch(o){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else hl?Z1(o,h)&&(Rt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Rt="onCompositionStart");Rt&&(Y1&&h.locale!=="ko"&&(hl||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&hl&&(xt=G1()):(pa=Ee,pg="value"in pa?pa.value:pa.textContent,hl=!0)),Vt=Xf(ce,Rt),0<Vt.length&&(Rt=new W1(Rt,o,null,h,Ee),Ie.push({event:Rt,listeners:Vt}),xt?Rt.data=xt:(xt=J1(h),xt!==null&&(Rt.data=xt)))),(xt=TP?CP(o,h):wP(o,h))&&(Rt=Xf(ce,"onBeforeInput"),0<Rt.length&&(Vt=new W1("onBeforeInput","beforeinput",null,h,Ee),Ie.push({event:Vt,listeners:Rt}),Vt.data=xt)),mO(Ie,o,ce,h,Ee)}MT(Ie,c)})}function Eu(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Xf(o,c){for(var h=c+"Capture",m=[];o!==null;){var E=o,A=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||A===null||(E=jc(o,h),E!=null&&m.unshift(Eu(o,E,A)),E=jc(o,c),E!=null&&m.push(Eu(o,E,A))),o.tag===3)return m;o=o.return}return[]}function Bl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function NT(o,c,h,m,E){for(var A=c._reactName,B=[];h!==null&&h!==m;){var V=h,Z=V.alternate,ce=V.stateNode;if(V=V.tag,Z!==null&&Z===m)break;V!==5&&V!==26&&V!==27||ce===null||(Z=ce,E?(ce=jc(h,A),ce!=null&&B.unshift(Eu(h,ce,Z))):E||(ce=jc(h,A),ce!=null&&B.push(Eu(h,ce,Z)))),h=h.return}B.length!==0&&o.push({event:c,listeners:B})}var xO=/\r\n?/g,bO=/\u0000|\uFFFD/g;function BT(o){return(typeof o=="string"?o:""+o).replace(xO,`
`).replace(bO,"")}function $T(o,c){return c=BT(c),BT(o)===c}function Qf(){}function Sn(o,c,h,m,E,A){switch(h){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||ul(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&ul(o,""+m);break;case"className":jr(o,"class",m);break;case"tabIndex":jr(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(o,h,m);break;case"style":U1(o,m,A);break;case"data":if(c!=="object"){jr(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=sf(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(c!=="input"&&Sn(o,c,"name",E.name,E,null),Sn(o,c,"formEncType",E.formEncType,E,null),Sn(o,c,"formMethod",E.formMethod,E,null),Sn(o,c,"formTarget",E.formTarget,E,null)):(Sn(o,c,"encType",E.encType,E,null),Sn(o,c,"method",E.method,E,null),Sn(o,c,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=sf(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=Qf);break;case"onScroll":m!=null&&qt("scroll",o);break;case"onScrollEnd":m!=null&&qt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=sf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":qt("beforetoggle",o),qt("toggle",o),$r(o,"popover",m);break;case"xlinkActuate":Cr(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Cr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Cr(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Cr(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Cr(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Cr(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Cr(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Cr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Cr(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$r(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=X_.get(h)||h,$r(o,h,m))}}function W0(o,c,h,m,E,A){switch(h){case"style":U1(o,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof m=="string"?ul(o,m):(typeof m=="number"||typeof m=="bigint")&&ul(o,""+m);break;case"onScroll":m!=null&&qt("scroll",o);break;case"onScrollEnd":m!=null&&qt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ue.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),c=h.slice(2,E?h.length-7:void 0),A=o[J]||null,A=A!=null?A[h]:null,typeof A=="function"&&o.removeEventListener(c,A,E),typeof m=="function")){typeof A!="function"&&A!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,m,E);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):$r(o,h,m)}}}function Rr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",o),qt("load",o);var m=!1,E=!1,A;for(A in h)if(h.hasOwnProperty(A)){var B=h[A];if(B!=null)switch(A){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Sn(o,c,A,B,h,null)}}E&&Sn(o,c,"srcSet",h.srcSet,h,null),m&&Sn(o,c,"src",h.src,h,null);return;case"input":qt("invalid",o);var V=A=B=E=null,Z=null,ce=null;for(m in h)if(h.hasOwnProperty(m)){var Ee=h[m];if(Ee!=null)switch(m){case"name":E=Ee;break;case"type":B=Ee;break;case"checked":Z=Ee;break;case"defaultChecked":ce=Ee;break;case"value":A=Ee;break;case"defaultValue":V=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,c));break;default:Sn(o,c,m,Ee,h,null)}}N1(o,A,V,Z,ce,B,E,!1),nf(o);return;case"select":qt("invalid",o),m=B=A=null;for(E in h)if(h.hasOwnProperty(E)&&(V=h[E],V!=null))switch(E){case"value":A=V;break;case"defaultValue":B=V;break;case"multiple":m=V;default:Sn(o,c,E,V,h,null)}c=A,h=B,o.multiple=!!m,c!=null?cl(o,!!m,c,!1):h!=null&&cl(o,!!m,h,!0);return;case"textarea":qt("invalid",o),A=E=m=null;for(B in h)if(h.hasOwnProperty(B)&&(V=h[B],V!=null))switch(B){case"value":m=V;break;case"defaultValue":E=V;break;case"children":A=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Sn(o,c,B,V,h,null)}$1(o,m,E,A),nf(o);return;case"option":for(Z in h)if(h.hasOwnProperty(Z)&&(m=h[Z],m!=null))switch(Z){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Sn(o,c,Z,m,h,null)}return;case"dialog":qt("beforetoggle",o),qt("toggle",o),qt("cancel",o),qt("close",o);break;case"iframe":case"object":qt("load",o);break;case"video":case"audio":for(m=0;m<Su.length;m++)qt(Su[m],o);break;case"image":qt("error",o),qt("load",o);break;case"details":qt("toggle",o);break;case"embed":case"source":case"link":qt("error",o),qt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in h)if(h.hasOwnProperty(ce)&&(m=h[ce],m!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Sn(o,c,ce,m,h,null)}return;default:if(cg(c)){for(Ee in h)h.hasOwnProperty(Ee)&&(m=h[Ee],m!==void 0&&W0(o,c,Ee,m,h,void 0));return}}for(V in h)h.hasOwnProperty(V)&&(m=h[V],m!=null&&Sn(o,c,V,m,h,null))}function SO(o,c,h,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,A=null,B=null,V=null,Z=null,ce=null,Ee=null;for(me in h){var Ie=h[me];if(h.hasOwnProperty(me)&&Ie!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=Ie;default:m.hasOwnProperty(me)||Sn(o,c,me,null,m,Ie)}}for(var he in m){var me=m[he];if(Ie=h[he],m.hasOwnProperty(he)&&(me!=null||Ie!=null))switch(he){case"type":A=me;break;case"name":E=me;break;case"checked":ce=me;break;case"defaultChecked":Ee=me;break;case"value":B=me;break;case"defaultValue":V=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,c));break;default:me!==Ie&&Sn(o,c,he,me,m,Ie)}}og(o,B,V,Z,ce,Ee,A,E);return;case"select":me=B=V=he=null;for(A in h)if(Z=h[A],h.hasOwnProperty(A)&&Z!=null)switch(A){case"value":break;case"multiple":me=Z;default:m.hasOwnProperty(A)||Sn(o,c,A,null,m,Z)}for(E in m)if(A=m[E],Z=h[E],m.hasOwnProperty(E)&&(A!=null||Z!=null))switch(E){case"value":he=A;break;case"defaultValue":V=A;break;case"multiple":B=A;default:A!==Z&&Sn(o,c,E,A,m,Z)}c=V,h=B,m=me,he!=null?cl(o,!!h,he,!1):!!m!=!!h&&(c!=null?cl(o,!!h,c,!0):cl(o,!!h,h?[]:"",!1));return;case"textarea":me=he=null;for(V in h)if(E=h[V],h.hasOwnProperty(V)&&E!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Sn(o,c,V,null,m,E)}for(B in m)if(E=m[B],A=h[B],m.hasOwnProperty(B)&&(E!=null||A!=null))switch(B){case"value":he=E;break;case"defaultValue":me=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==A&&Sn(o,c,B,E,m,A)}B1(o,he,me);return;case"option":for(var kt in h)if(he=h[kt],h.hasOwnProperty(kt)&&he!=null&&!m.hasOwnProperty(kt))switch(kt){case"selected":o.selected=!1;break;default:Sn(o,c,kt,null,m,he)}for(Z in m)if(he=m[Z],me=h[Z],m.hasOwnProperty(Z)&&he!==me&&(he!=null||me!=null))switch(Z){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Sn(o,c,Z,he,m,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in h)he=h[At],h.hasOwnProperty(At)&&he!=null&&!m.hasOwnProperty(At)&&Sn(o,c,At,null,m,he);for(ce in m)if(he=m[ce],me=h[ce],m.hasOwnProperty(ce)&&he!==me&&(he!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:Sn(o,c,ce,he,m,me)}return;default:if(cg(c)){for(var En in h)he=h[En],h.hasOwnProperty(En)&&he!==void 0&&!m.hasOwnProperty(En)&&W0(o,c,En,void 0,m,he);for(Ee in m)he=m[Ee],me=h[Ee],!m.hasOwnProperty(Ee)||he===me||he===void 0&&me===void 0||W0(o,c,Ee,he,m,me);return}}for(var ie in h)he=h[ie],h.hasOwnProperty(ie)&&he!=null&&!m.hasOwnProperty(ie)&&Sn(o,c,ie,null,m,he);for(Ie in m)he=m[Ie],me=h[Ie],!m.hasOwnProperty(Ie)||he===me||he==null&&me==null||Sn(o,c,Ie,he,m,me)}var q0=null,Y0=null;function Zf(o){return o.nodeType===9?o:o.ownerDocument}function jT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UT(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function X0(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Q0=null;function EO(){var o=window.event;return o&&o.type==="popstate"?o===Q0?!1:(Q0=o,!0):(Q0=null,!1)}var zT=typeof setTimeout=="function"?setTimeout:void 0,TO=typeof clearTimeout=="function"?clearTimeout:void 0,HT=typeof Promise=="function"?Promise:void 0,CO=typeof queueMicrotask=="function"?queueMicrotask:typeof HT<"u"?function(o){return HT.resolve(null).then(o).catch(wO)}:zT;function wO(o){setTimeout(function(){throw o})}function ka(o){return o==="head"}function GT(o,c){var h=c,m=0,E=0;do{var A=h.nextSibling;if(o.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"){if(0<m&&8>m){h=m;var B=o.ownerDocument;if(h&1&&Tu(B.documentElement),h&2&&Tu(B.body),h&4)for(h=B.head,Tu(h),B=h.firstChild;B;){var V=B.nextSibling,Z=B.nodeName;B[Ze]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&B.rel.toLowerCase()==="stylesheet"||h.removeChild(B),B=V}}if(E===0){o.removeChild(A),Du(c);return}E--}else h==="$"||h==="$?"||h==="$!"?E++:m=h.charCodeAt(0)-48;else m=0;h=A}while(h);Du(c)}function Z0(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Z0(h),qe(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function AO(o,c,h,m){for(;o.nodeType===1;){var E=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Ze])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var A=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=ts(o.nextSibling),o===null)break}return null}function RO(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=ts(o.nextSibling),o===null))return null;return o}function J0(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function LO(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var m=function(){c(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function ts(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var ev=null;function VT(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function KT(o,c,h){switch(c=Zf(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Tu(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);qe(o)}var Ni=new Map,WT=new Set;function Jf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zs=q.d;q.d={f:IO,r:kO,D:DO,C:_O,L:PO,m:OO,X:FO,S:MO,M:NO};function IO(){var o=Zs.f(),c=Gf();return o||c}function kO(o){var c=tt(o);c!==null&&c.tag===5&&c.type==="form"?hE(c):Zs.r(o)}var $l=typeof document>"u"?null:document;function qT(o,c,h){var m=$l;if(m&&typeof c=="string"&&c){var E=ki(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),WT.has(E)||(WT.add(E),o={rel:o,crossOrigin:h,href:c},m.querySelector(E)===null&&(c=m.createElement("link"),Rr(c,"link",o),Bt(c),m.head.appendChild(c)))}}function DO(o){Zs.D(o),qT("dns-prefetch",o,null)}function _O(o,c){Zs.C(o,c),qT("preconnect",o,c)}function PO(o,c,h){Zs.L(o,c,h);var m=$l;if(m&&o&&c){var E='link[rel="preload"][as="'+ki(c)+'"]';c==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+ki(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+ki(h.imageSizes)+'"]')):E+='[href="'+ki(o)+'"]';var A=E;switch(c){case"style":A=jl(o);break;case"script":A=Ul(o)}Ni.has(A)||(o=f({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Ni.set(A,o),m.querySelector(E)!==null||c==="style"&&m.querySelector(Cu(A))||c==="script"&&m.querySelector(wu(A))||(c=m.createElement("link"),Rr(c,"link",o),Bt(c),m.head.appendChild(c)))}}function OO(o,c){Zs.m(o,c);var h=$l;if(h&&o){var m=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+ki(m)+'"][href="'+ki(o)+'"]',A=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Ul(o)}if(!Ni.has(A)&&(o=f({rel:"modulepreload",href:o},c),Ni.set(A,o),h.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(wu(A)))return}m=h.createElement("link"),Rr(m,"link",o),Bt(m),h.head.appendChild(m)}}}function MO(o,c,h){Zs.S(o,c,h);var m=$l;if(m&&o){var E=_t(m).hoistableStyles,A=jl(o);c=c||"default";var B=E.get(A);if(!B){var V={loading:0,preload:null};if(B=m.querySelector(Cu(A)))V.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Ni.get(A))&&tv(o,h);var Z=B=m.createElement("link");Bt(Z),Rr(Z,"link",o),Z._p=new Promise(function(ce,Ee){Z.onload=ce,Z.onerror=Ee}),Z.addEventListener("load",function(){V.loading|=1}),Z.addEventListener("error",function(){V.loading|=2}),V.loading|=4,eh(B,c,m)}B={type:"stylesheet",instance:B,count:1,state:V},E.set(A,B)}}}function FO(o,c){Zs.X(o,c);var h=$l;if(h&&o){var m=_t(h).hoistableScripts,E=Ul(o),A=m.get(E);A||(A=h.querySelector(wu(E)),A||(o=f({src:o,async:!0},c),(c=Ni.get(E))&&nv(o,c),A=h.createElement("script"),Bt(A),Rr(A,"link",o),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(E,A))}}function NO(o,c){Zs.M(o,c);var h=$l;if(h&&o){var m=_t(h).hoistableScripts,E=Ul(o),A=m.get(E);A||(A=h.querySelector(wu(E)),A||(o=f({src:o,async:!0,type:"module"},c),(c=Ni.get(E))&&nv(o,c),A=h.createElement("script"),Bt(A),Rr(A,"link",o),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(E,A))}}function YT(o,c,h,m){var E=(E=ee.current)?Jf(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=jl(h.href),h=_t(E).hoistableStyles,m=h.get(c),m||(m={type:"style",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=jl(h.href);var A=_t(E).hoistableStyles,B=A.get(o);if(B||(E=E.ownerDocument||E,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,B),(A=E.querySelector(Cu(o)))&&!A._p&&(B.instance=A,B.state.loading=5),Ni.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ni.set(o,h),A||BO(E,o,h,B.state))),c&&m===null)throw Error(r(528,""));return B}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ul(h),h=_t(E).hoistableScripts,m=h.get(c),m||(m={type:"script",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function jl(o){return'href="'+ki(o)+'"'}function Cu(o){return'link[rel="stylesheet"]['+o+"]"}function XT(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function BO(o,c,h,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Rr(c,"link",h),Bt(c),o.head.appendChild(c))}function Ul(o){return'[src="'+ki(o)+'"]'}function wu(o){return"script[async]"+o}function QT(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+ki(h.href)+'"]');if(m)return c.instance=m,Bt(m),m;var E=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Bt(m),Rr(m,"style",E),eh(m,h.precedence,o),c.instance=m;case"stylesheet":E=jl(h.href);var A=o.querySelector(Cu(E));if(A)return c.state.loading|=4,c.instance=A,Bt(A),A;m=XT(h),(E=Ni.get(E))&&tv(m,E),A=(o.ownerDocument||o).createElement("link"),Bt(A);var B=A;return B._p=new Promise(function(V,Z){B.onload=V,B.onerror=Z}),Rr(A,"link",m),c.state.loading|=4,eh(A,h.precedence,o),c.instance=A;case"script":return A=Ul(h.src),(E=o.querySelector(wu(A)))?(c.instance=E,Bt(E),E):(m=h,(E=Ni.get(A))&&(m=f({},h),nv(m,E)),o=o.ownerDocument||o,E=o.createElement("script"),Bt(E),Rr(E,"link",m),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,eh(m,h.precedence,o));return c.instance}function eh(o,c,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,A=E,B=0;B<m.length;B++){var V=m[B];if(V.dataset.precedence===c)A=V;else if(A!==E)break}A?A.parentNode.insertBefore(o,A.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function tv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function nv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var th=null;function ZT(o,c,h){if(th===null){var m=new Map,E=th=new Map;E.set(h,m)}else E=th,m=E.get(h),m||(m=new Map,E.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),E=0;E<h.length;E++){var A=h[E];if(!(A[Ze]||A[X]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var B=A.getAttribute(c)||"";B=o+B;var V=m.get(B);V?V.push(A):m.set(B,[A])}}return m}function JT(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function $O(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function eC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Au=null;function jO(){}function UO(o,c,h){if(Au===null)throw Error(r(475));var m=Au;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=jl(h.href),A=o.querySelector(Cu(E));if(A){o=A._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=nh.bind(m),o.then(m,m)),c.state.loading|=4,c.instance=A,Bt(A);return}A=o.ownerDocument||o,h=XT(h),(E=Ni.get(E))&&tv(h,E),A=A.createElement("link"),Bt(A);var B=A;B._p=new Promise(function(V,Z){B.onload=V,B.onerror=Z}),Rr(A,"link",h),c.instance=A}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=nh.bind(m),o.addEventListener("load",c),o.addEventListener("error",c))}}function zO(){if(Au===null)throw Error(r(475));var o=Au;return o.stylesheets&&o.count===0&&rv(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&rv(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)rv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var rh=null;function rv(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,rh=new Map,c.forEach(HO,o),rh=null,nh.call(o))}function HO(o,c){if(!(c.state.loading&4)){var h=rh.get(o);if(h)var m=h.get(null);else{h=new Map,rh.set(o,h);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<E.length;A++){var B=E[A];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),m=B)}m&&h.set(null,m)}E=c.instance,B=E.getAttribute("data-precedence"),A=h.get(B)||m,A===m&&h.set(null,E),h.set(B,E),this.count++,m=nh.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),A?A.parentNode.insertBefore(E,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var Ru={$$typeof:C,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function GO(o,c,h,m,E,A,B,V){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function tC(o,c,h,m,E,A,B,V,Z,ce,Ee,Ie){return o=new GO(o,c,h,B,V,Z,ce,Ie),c=1,A===!0&&(c|=24),A=li(3,null,null,c),o.current=A,A.stateNode=o,c=Bg(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:m,isDehydrated:h,cache:c},zg(A),o}function nC(o){return o?(o=yl,o):yl}function rC(o,c,h,m,E,A){E=nC(E),m.context===null?m.context=E:m.pendingContext=E,m=va(c),m.payload={element:h},A=A===void 0?null:A,A!==null&&(m.callback=A),h=ya(o,m,c),h!==null&&(hi(h,o,c),ru(h,o,c))}function iC(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function iv(o,c){iC(o,c),(o=o.alternate)&&iC(o,c)}function sC(o){if(o.tag===13){var c=vl(o,67108864);c!==null&&hi(c,o,67108864),iv(o,67108864)}}var ih=!0;function VO(o,c,h,m){var E=N.T;N.T=null;var A=q.p;try{q.p=2,sv(o,c,h,m)}finally{q.p=A,N.T=E}}function KO(o,c,h,m){var E=N.T;N.T=null;var A=q.p;try{q.p=8,sv(o,c,h,m)}finally{q.p=A,N.T=E}}function sv(o,c,h,m){if(ih){var E=av(m);if(E===null)K0(o,c,m,sh,h),oC(o,m);else if(qO(E,o,c,h,m))m.stopPropagation();else if(oC(o,m),c&4&&-1<WO.indexOf(o)){for(;E!==null;){var A=tt(E);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var B=Qe(A.pendingLanes);if(B!==0){var V=A;for(V.pendingLanes|=2,V.entangledLanes|=2;B;){var Z=1<<31-We(B);V.entanglements[1]|=Z,B&=~Z}ms(A),(fn&6)===0&&(zf=Pe()+500,bu(0))}}break;case 13:V=vl(A,2),V!==null&&hi(V,A,2),Gf(),iv(A,2)}if(A=av(m),A===null&&K0(o,c,m,sh,h),A===E)break;E=A}E!==null&&m.stopPropagation()}else K0(o,c,m,null,h)}}function av(o){return o=dg(o),ov(o)}var sh=null;function ov(o){if(sh=null,o=ze(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return sh=o,null}function aC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case bt:return 2;case Ve:return 8;case pt:case Ke:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var lv=!1,Da=null,_a=null,Pa=null,Lu=new Map,Iu=new Map,Oa=[],WO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oC(o,c){switch(o){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Lu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(c.pointerId)}}function ku(o,c,h,m,E,A){return o===null||o.nativeEvent!==A?(o={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:A,targetContainers:[E]},c!==null&&(c=tt(c),c!==null&&sC(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function qO(o,c,h,m,E){switch(c){case"focusin":return Da=ku(Da,o,c,h,m,E),!0;case"dragenter":return _a=ku(_a,o,c,h,m,E),!0;case"mouseover":return Pa=ku(Pa,o,c,h,m,E),!0;case"pointerover":var A=E.pointerId;return Lu.set(A,ku(Lu.get(A)||null,o,c,h,m,E)),!0;case"gotpointercapture":return A=E.pointerId,Iu.set(A,ku(Iu.get(A)||null,o,c,h,m,E)),!0}return!1}function lC(o){var c=ze(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,nt(o.priority,function(){if(h.tag===13){var m=fi();m=dn(m);var E=vl(h,m);E!==null&&hi(E,h,m),iv(h,m)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ah(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=av(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);ug=m,h.target.dispatchEvent(m),ug=null}else return c=tt(h),c!==null&&sC(c),o.blockedOn=h,!1;c.shift()}return!0}function cC(o,c,h){ah(o)&&h.delete(c)}function YO(){lv=!1,Da!==null&&ah(Da)&&(Da=null),_a!==null&&ah(_a)&&(_a=null),Pa!==null&&ah(Pa)&&(Pa=null),Lu.forEach(cC),Iu.forEach(cC)}function oh(o,c){o.blockedOn===c&&(o.blockedOn=null,lv||(lv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YO)))}var lh=null;function uC(o){lh!==o&&(lh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lh===o&&(lh=null);for(var c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],E=o[c+2];if(typeof m!="function"){if(ov(m||h)===null)continue;break}var A=tt(h);A!==null&&(o.splice(c,3),c-=3,o0(A,{pending:!0,data:E,method:h.method,action:m},m,E))}}))}function Du(o){function c(Z){return oh(Z,o)}Da!==null&&oh(Da,o),_a!==null&&oh(_a,o),Pa!==null&&oh(Pa,o),Lu.forEach(c),Iu.forEach(c);for(var h=0;h<Oa.length;h++){var m=Oa[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Oa.length&&(h=Oa[0],h.blockedOn===null);)lC(h),h.blockedOn===null&&Oa.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var E=h[m],A=h[m+1],B=E[J]||null;if(typeof A=="function")B||uC(h);else if(B){var V=null;if(A&&A.hasAttribute("formAction")){if(E=A,B=A[J]||null)V=B.formAction;else if(ov(E)!==null)continue}else V=B.action;typeof V=="function"?h[m+1]=V:(h.splice(m,3),m-=3),uC(h)}}}function cv(o){this._internalRoot=o}ch.prototype.render=cv.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,m=fi();rC(h,m,o,c,null,null)},ch.prototype.unmount=cv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;rC(o.current,2,null,o,null,null),Gf(),c[se]=null}};function ch(o){this._internalRoot=o}ch.prototype.unstable_scheduleHydration=function(o){if(o){var c=kn();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Oa.length&&c!==0&&c<Oa[h].priority;h++);Oa.splice(h,0,o),h===0&&lC(o)}};var dC=e.version;if(dC!=="19.1.1")throw Error(r(527,dC,"19.1.1"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var XO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{be=uh.inject(XO),$e=uh}catch{}}return Pu.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,m="",E=RE,A=LE,B=IE,V=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(V=c.unstable_transitionCallbacks)),c=tC(o,1,!1,null,null,h,m,E,A,B,V,null),o[se]=c.current,V0(o),new cv(c)},Pu.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var m=!1,E="",A=RE,B=LE,V=IE,Z=null,ce=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(V=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Z=h.unstable_transitionCallbacks),h.formState!==void 0&&(ce=h.formState)),c=tC(o,1,!0,c,h??null,m,E,A,B,V,Z,ce),c.context=nC(null),h=c.current,m=fi(),m=dn(m),E=va(m),E.callback=null,ya(h,E,m),h=m,c.current.lanes=h,Ot(c,h),ms(c),o[se]=c.current,V0(o),new ch(c)},Pu.version="19.1.1",Pu}var SC;function sM(){if(SC)return fv.exports;SC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fv.exports=iM(),fv.exports}var aM=sM(),gv={exports:{}},vv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function oM(){if(EC)return vv;EC=1;var t=am();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return vv.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=a(function(){function b(L){if(!T){if(T=!0,w=L,L=p(L),g!==void 0&&y.hasValue){var D=y.value;if(g(D,L))return C=D}return C=L}if(D=C,n(w,L))return D;var k=p(L);return g!==void 0&&g(D,k)?(w=L,D):(w=L,C=k)}var T=!1,w,C,R=f===void 0?null:f;return[function(){return b(d())},R===null?void 0:function(){return b(R())}]},[d,f,p,g]);var x=r(u,v[0],v[1]);return s(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},vv}var TC;function lM(){return TC||(TC=1,gv.exports=oM()),gv.exports}var cM=lM();function uM(t){t()}function dM(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uM(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var CC={notify(){},get:()=>[]};function fM(t,e){let n,r=CC,i=0,s=!1;function a(x){f();const b=r.subscribe(x);let T=!1;return()=>{T||(T=!0,b(),p())}}function l(){r.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(u),r=dM())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=CC)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,p())}const y={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return y}var hM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pM=hM(),mM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gM=mM(),vM=()=>pM||gM?I.useLayoutEffect:I.useEffect,yM=vM(),xM=Symbol.for("react-redux-context"),bM=typeof globalThis<"u"?globalThis:{};function SM(){if(!I.createContext)return{};const t=bM[xM]??=new Map;let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var Xa=SM();function EM(t){const{children:e,context:n,serverState:r,store:i}=t,s=I.useMemo(()=>{const u=fM(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=I.useMemo(()=>i.getState(),[i]);yM(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=n||Xa;return I.createElement(l.Provider,{value:s},e)}var TM=EM;function Qx(t=Xa){return function(){return I.useContext(t)}}var tL=Qx();function nL(t=Xa){const e=t===Xa?tL:Qx(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var CM=nL();function wM(t=Xa){const e=t===Xa?CM:nL(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Kr=wM(),AM=(t,e)=>t===e;function RM(t=Xa){const e=t===Xa?tL:Qx(t),n=(r,i={})=>{const{equalityFn:s=AM}=typeof i=="function"?{equalityFn:i}:i,a=e(),{store:l,subscription:u,getServerState:d}=a;I.useRef(!0);const f=I.useCallback({[r.name](g){return r(g)}}[r.name],[r]),p=cM.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,d||l.getState,f,s);return I.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var Xt=RM(),Zx=eL();const qu=sm(Zx),LM=J2({__proto__:null,default:qu},[Zx]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mn(){return Mn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mn.apply(this,arguments)}var ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ar||(ar={}));const wC="popstate";function IM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return md("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Od(i)}return DM(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kM(){return Math.random().toString(36).substr(2,8)}function AC(t,e){return{usr:t.state,key:t.key,idx:e}}function md(t,e,n,r){return n===void 0&&(n=null),Mn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:n,key:e&&e.key||r||kM()})}function Od(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=ar.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(Mn({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){l=ar.Pop;let b=f(),T=b==null?null:b-d;d=b,u&&u({action:l,location:x.location,delta:T})}function g(b,T){l=ar.Push;let w=md(x.location,b,T);d=f()+1;let C=AC(w,d),R=x.createHref(w);try{a.pushState(C,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(R)}s&&u&&u({action:l,location:x.location,delta:1})}function v(b,T){l=ar.Replace;let w=md(x.location,b,T);d=f();let C=AC(w,d),R=x.createHref(w);a.replaceState(C,"",R),s&&u&&u({action:l,location:x.location,delta:0})}function y(b){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Od(b);return w=w.replace(/ $/,"%20"),Qt(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let x={get action(){return l},get location(){return t(i,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(wC,p),u=b,()=>{i.removeEventListener(wC,p),u=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let T=y(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:v,go(b){return a.go(b)}};return x}var vn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vn||(vn={}));const _M=new Set(["lazy","caseSensitive","path","id","index","children"]);function PM(t){return t.index===!0}function yp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],l=typeof i.id=="string"?i.id:a.join("-");if(Qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Qt(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),PM(i)){let u=Mn({},i,e(i),{id:l});return r[l]=u,u}else{let u=Mn({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=yp(i.children,e,a,r)),u}})}function Po(t,e,n){return n===void 0&&(n="/"),Zh(t,e,n,!1)}function Zh(t,e,n,r){let i=typeof e=="string"?ro(e):e,s=Md(i.pathname||"/",n);if(s==null)return null;let a=rL(t);MM(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=KM(s);l=GM(a[u],d,r)}return l}function OM(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function rL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Qt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ka([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rL(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:zM(d,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of iL(s.path))i(s,a,u)}),e}function iL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=iL(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function MM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FM=/^:[\w-]+$/,NM=3,BM=2,$M=1,jM=10,UM=-2,RC=t=>t==="*";function zM(t,e){let n=t.split("/"),r=n.length;return n.some(RC)&&(r+=UM),e&&(r+=BM),n.filter(i=>!RC(i)).reduce((i,s)=>i+(FM.test(s)?NM:s===""?$M:jM),r)}function HM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GM(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=LC({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=LC({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Ka([s,p.pathname]),pathnameBase:YM(Ka([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Ka([s,p.pathnameBase]))}return a}function LC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let x=l[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[p];return v&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function VM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Md(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ro(t):t;return{pathname:n?n.startsWith("/")?n:qM(n,e):e,search:XM(r),hash:QM(i)}}function qM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jx(t,e){let n=sL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ro(t):(i=Mn({},t),Qt(!i.pathname||!i.pathname.includes("?"),yv("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),yv("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),yv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=WM(i,l),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Ka=t=>t.join("/").replace(/\/\/+/g,"/"),YM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class xp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function gd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aL=["post","put","patch","delete"],ZM=new Set(aL),JM=["get",...aL],e5=new Set(JM),t5=new Set([301,302,303,307,308]),n5=new Set([307,308]),xv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},r5={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i5=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),oL="remix-router-transitions";function s5(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let X=t.detectErrorBoundary;i=J=>({hasErrorBoundary:X(J)})}else i=i5;let s={},a=yp(t.routes,i,void 0,s),l,u=t.basename||"/",d=t.dataStrategy||c5,f=t.patchRoutesOnNavigation,p=Mn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,v=new Set,y=null,x=null,b=null,T=t.hydrationData!=null,w=Po(a,t.history.location,u),C=!1,R=null;if(w==null&&!f){let X=Zr(404,{pathname:t.history.location.pathname}),{matches:J,route:se}=$C(a);w=J,R={[se.id]:X}}w&&!t.hydrationData&&Tt(w,a,t.history.location.pathname).active&&(w=null);let L;if(w)if(w.some(X=>X.route.lazy))L=!1;else if(!w.some(X=>X.route.loader))L=!0;else if(p.v7_partialHydration){let X=t.hydrationData?t.hydrationData.loaderData:null,J=t.hydrationData?t.hydrationData.errors:null;if(J){let se=w.findIndex(we=>J[we.route.id]!==void 0);L=w.slice(0,se+1).every(we=>!Oy(we.route,X,J))}else L=w.every(se=>!Oy(se.route,X,J))}else L=t.hydrationData!=null;else if(L=!1,w=[],p.v7_partialHydration){let X=Tt(null,a,t.history.location.pathname);X.active&&X.matches&&(C=!0,w=X.matches)}let D,k={historyAction:t.history.action,location:t.history.location,matches:w,initialized:L,navigation:xv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},P=ar.Pop,F=!1,O,$=!1,_=new Map,K=null,z=!1,G=!1,N=[],q=new Set,H=new Map,W=0,j=-1,U=new Map,Y=new Set,ne=new Map,re=new Map,Q=new Set,ee=new Map,Oe=new Map,De;function Be(){if(g=t.history.listen(X=>{let{action:J,location:se,delta:we}=X;if(De){De(),De=void 0;return}mc(Oe.size===0||we!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let He=dr({currentLocation:k.location,nextLocation:se,historyAction:J});if(He&&we!=null){let dt=new Promise(St=>{De=St});t.history.go(we*-1),wn(He,{state:"blocked",location:se,proceed(){wn(He,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),dt.then(()=>t.history.go(we))},reset(){let St=new Map(k.blockers);St.set(He,Ou),Ue({blockers:St})}});return}return Le(J,se)}),n){T5(e,_);let X=()=>C5(e,_);e.addEventListener("pagehide",X),K=()=>e.removeEventListener("pagehide",X)}return k.initialized||Le(ar.Pop,k.location,{initialHydration:!0}),D}function Me(){g&&g(),K&&K(),v.clear(),O&&O.abort(),k.fetchers.forEach((X,J)=>je(J)),k.blockers.forEach((X,J)=>ln(J))}function Ye(X){return v.add(X),()=>v.delete(X)}function Ue(X,J){J===void 0&&(J={}),k=Mn({},k,X);let se=[],we=[];p.v7_fetcherPersist&&k.fetchers.forEach((He,dt)=>{He.state==="idle"&&(Q.has(dt)?we.push(dt):se.push(dt))}),Q.forEach(He=>{!k.fetchers.has(He)&&!H.has(He)&&we.push(He)}),[...v].forEach(He=>He(k,{deletedFetchers:we,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),p.v7_fetcherPersist?(se.forEach(He=>k.fetchers.delete(He)),we.forEach(He=>je(He))):we.forEach(He=>Q.delete(He))}function ye(X,J,se){var we,He;let{flushSync:dt}=se===void 0?{}:se,St=k.actionData!=null&&k.navigation.formMethod!=null&&is(k.navigation.formMethod)&&k.navigation.state==="loading"&&((we=X.state)==null?void 0:we._isRedirect)!==!0,Ze;J.actionData?Object.keys(J.actionData).length>0?Ze=J.actionData:Ze=null:St?Ze=k.actionData:Ze=null;let qe=J.loaderData?NC(k.loaderData,J.loaderData,J.matches||[],J.errors):k.loaderData,ze=k.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((_t,Bt)=>ze.set(Bt,Ou)));let tt=F===!0||k.navigation.formMethod!=null&&is(k.navigation.formMethod)&&((He=X.state)==null?void 0:He._isRedirect)!==!0;l&&(a=l,l=void 0),z||P===ar.Pop||(P===ar.Push?t.history.push(X,X.state):P===ar.Replace&&t.history.replace(X,X.state));let wt;if(P===ar.Pop){let _t=_.get(k.location.pathname);_t&&_t.has(X.pathname)?wt={currentLocation:k.location,nextLocation:X}:_.has(X.pathname)&&(wt={currentLocation:X,nextLocation:k.location})}else if($){let _t=_.get(k.location.pathname);_t?_t.add(X.pathname):(_t=new Set([X.pathname]),_.set(k.location.pathname,_t)),wt={currentLocation:k.location,nextLocation:X}}Ue(Mn({},J,{actionData:Ze,loaderData:qe,historyAction:P,location:X,initialized:!0,navigation:xv,revalidation:"idle",restoreScrollPosition:dn(X,J.matches||k.matches),preventScrollReset:tt,blockers:ze}),{viewTransitionOpts:wt,flushSync:dt===!0}),P=ar.Pop,F=!1,$=!1,z=!1,G=!1,N=[]}async function Re(X,J){if(typeof X=="number"){t.history.go(X);return}let se=Py(k.location,k.matches,u,p.v7_prependBasename,X,p.v7_relativeSplatPath,J?.fromRouteId,J?.relative),{path:we,submission:He,error:dt}=IC(p.v7_normalizeFormMethod,!1,se,J),St=k.location,Ze=md(k.location,we,J&&J.state);Ze=Mn({},Ze,t.history.encodeLocation(Ze));let qe=J&&J.replace!=null?J.replace:void 0,ze=ar.Push;qe===!0?ze=ar.Replace:qe===!1||He!=null&&is(He.formMethod)&&He.formAction===k.location.pathname+k.location.search&&(ze=ar.Replace);let tt=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,wt=(J&&J.flushSync)===!0,_t=dr({currentLocation:St,nextLocation:Ze,historyAction:ze});if(_t){wn(_t,{state:"blocked",location:Ze,proceed(){wn(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),Re(X,J)},reset(){let Bt=new Map(k.blockers);Bt.set(_t,Ou),Ue({blockers:Bt})}});return}return await Le(ze,Ze,{submission:He,pendingError:dt,preventScrollReset:tt,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:wt})}function gt(){if($e(),Ue({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Le(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Le(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:$===!0})}}async function Le(X,J,se){O&&O.abort(),O=null,P=X,z=(se&&se.startUninterruptedRevalidation)===!0,Bn(k.location,k.matches),F=(se&&se.preventScrollReset)===!0,$=(se&&se.enableViewTransition)===!0;let we=l||a,He=se&&se.overrideNavigation,dt=se!=null&&se.initialHydration&&k.matches&&k.matches.length>0&&!C?k.matches:Po(we,J,u),St=(se&&se.flushSync)===!0;if(dt&&k.initialized&&!G&&m5(k.location,J)&&!(se&&se.submission&&is(se.submission.formMethod))){ye(J,{matches:dt},{flushSync:St});return}let Ze=Tt(dt,we,J.pathname);if(Ze.active&&Ze.matches&&(dt=Ze.matches),!dt){let{error:fe,notFoundMatches:ue,route:Ne}=Hn(J.pathname);ye(J,{matches:ue,loaderData:{},errors:{[Ne.id]:fe}},{flushSync:St});return}O=new AbortController;let qe=zl(t.history,J,O.signal,se&&se.submission),ze;if(se&&se.pendingError)ze=[Oo(dt).route.id,{type:vn.error,error:se.pendingError}];else if(se&&se.submission&&is(se.submission.formMethod)){let fe=await Pe(qe,J,se.submission,dt,Ze.active,{replace:se.replace,flushSync:St});if(fe.shortCircuited)return;if(fe.pendingActionResult){let[ue,Ne]=fe.pendingActionResult;if(vi(Ne)&&gd(Ne.error)&&Ne.error.status===404){O=null,ye(J,{matches:fe.matches,loaderData:{},errors:{[ue]:Ne.error}});return}}dt=fe.matches||dt,ze=fe.pendingActionResult,He=bv(J,se.submission),St=!1,Ze.active=!1,qe=zl(t.history,qe.url,qe.signal)}let{shortCircuited:tt,matches:wt,loaderData:_t,errors:Bt}=await ke(qe,J,dt,Ze.active,He,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,St,ze);tt||(O=null,ye(J,Mn({matches:wt||dt},BC(ze),{loaderData:_t,errors:Bt})))}async function Pe(X,J,se,we,He,dt){dt===void 0&&(dt={}),$e();let St=S5(J,se);if(Ue({navigation:St},{flushSync:dt.flushSync===!0}),He){let ze=await kn(we,J.pathname,X.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let tt=Oo(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[tt,{type:vn.error,error:ze.error}]}}else if(ze.matches)we=ze.matches;else{let{notFoundMatches:tt,error:wt,route:_t}=Hn(J.pathname);return{matches:tt,pendingActionResult:[_t.id,{type:vn.error,error:wt}]}}}let Ze,qe=Yu(we,J);if(!qe.route.action&&!qe.route.lazy)Ze={type:vn.error,error:Zr(405,{method:X.method,pathname:J.pathname,routeId:qe.route.id})};else if(Ze=(await pe("action",k,X,[qe],we,null))[qe.route.id],X.signal.aborted)return{shortCircuited:!0};if(Fo(Ze)){let ze;return dt&&dt.replace!=null?ze=dt.replace:ze=OC(Ze.response.headers.get("Location"),new URL(X.url),u)===k.location.pathname+k.location.search,await Se(X,Ze,!0,{submission:se,replace:ze}),{shortCircuited:!0}}if(Ga(Ze))throw Zr(400,{type:"defer-action"});if(vi(Ze)){let ze=Oo(we,qe.route.id);return(dt&&dt.replace)!==!0&&(P=ar.Push),{matches:we,pendingActionResult:[ze.route.id,Ze]}}return{matches:we,pendingActionResult:[qe.route.id,Ze]}}async function ke(X,J,se,we,He,dt,St,Ze,qe,ze,tt){let wt=He||bv(J,dt),_t=dt||St||UC(wt),Bt=!z&&(!p.v7_partialHydration||!qe);if(we){if(Bt){let Gt=bt(tt);Ue(Mn({navigation:wt},Gt!==void 0?{actionData:Gt}:{}),{flushSync:ze})}let lt=await kn(se,J.pathname,X.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let Gt=Oo(lt.partialMatches).route.id;return{matches:lt.partialMatches,loaderData:{},errors:{[Gt]:lt.error}}}else if(lt.matches)se=lt.matches;else{let{error:Gt,notFoundMatches:fr,route:Ur}=Hn(J.pathname);return{matches:fr,loaderData:{},errors:{[Ur.id]:Gt}}}}let fe=l||a,[ue,Ne]=DC(t.history,k,se,_t,J,p.v7_partialHydration&&qe===!0,p.v7_skipActionErrorRevalidation,G,N,q,Q,ne,Y,fe,u,tt);if(Ot(lt=>!(se&&se.some(Gt=>Gt.route.id===lt))||ue&&ue.some(Gt=>Gt.route.id===lt)),j=++W,ue.length===0&&Ne.length===0){let lt=Qe();return ye(J,Mn({matches:se,loaderData:{},errors:tt&&vi(tt[1])?{[tt[0]]:tt[1].error}:null},BC(tt),lt?{fetchers:new Map(k.fetchers)}:{}),{flushSync:ze}),{shortCircuited:!0}}if(Bt){let lt={};if(!we){lt.navigation=wt;let Gt=bt(tt);Gt!==void 0&&(lt.actionData=Gt)}Ne.length>0&&(lt.fetchers=Ve(Ne)),Ue(lt,{flushSync:ze})}Ne.forEach(lt=>{yt(lt.key),lt.controller&&H.set(lt.key,lt.controller)});let mt=()=>Ne.forEach(lt=>yt(lt.key));O&&O.signal.addEventListener("abort",mt);let{loaderResults:Ct,fetcherResults:rn}=await be(k,se,ue,Ne,X);if(X.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",mt),Ne.forEach(lt=>H.delete(lt.key));let Zt=dh(Ct);if(Zt)return await Se(X,Zt.result,!0,{replace:Ze}),{shortCircuited:!0};if(Zt=dh(rn),Zt)return Y.add(Zt.key),await Se(X,Zt.result,!0,{replace:Ze}),{shortCircuited:!0};let{loaderData:Tr,errors:$r}=FC(k,se,Ct,tt,Ne,rn,ee);ee.forEach((lt,Gt)=>{lt.subscribe(fr=>{(fr||lt.done)&&ee.delete(Gt)})}),p.v7_partialHydration&&qe&&k.errors&&($r=Mn({},k.errors,$r));let jr=Qe(),Cr=Et(j),Zi=jr||Cr||Ne.length>0;return Mn({matches:se,loaderData:Tr,errors:$r},Zi?{fetchers:new Map(k.fetchers)}:{})}function bt(X){if(X&&!vi(X[1]))return{[X[0]]:X[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ve(X){return X.forEach(J=>{let se=k.fetchers.get(J.key),we=Mu(void 0,se?se.data:void 0);k.fetchers.set(J.key,we)}),new Map(k.fetchers)}function pt(X,J,se,we){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");yt(X);let He=(we&&we.flushSync)===!0,dt=l||a,St=Py(k.location,k.matches,u,p.v7_prependBasename,se,p.v7_relativeSplatPath,J,we?.relative),Ze=Po(dt,St,u),qe=Tt(Ze,dt,St);if(qe.active&&qe.matches&&(Ze=qe.matches),!Ze){We(X,J,Zr(404,{pathname:St}),{flushSync:He});return}let{path:ze,submission:tt,error:wt}=IC(p.v7_normalizeFormMethod,!0,St,we);if(wt){We(X,J,wt,{flushSync:He});return}let _t=Yu(Ze,ze),Bt=(we&&we.preventScrollReset)===!0;if(tt&&is(tt.formMethod)){Ke(X,J,ze,_t,Ze,qe.active,He,Bt,tt);return}ne.set(X,{routeId:J,path:ze}),Ut(X,J,ze,_t,Ze,qe.active,He,Bt,tt)}async function Ke(X,J,se,we,He,dt,St,Ze,qe){$e(),ne.delete(X);function ze(Gn){if(!Gn.route.action&&!Gn.route.lazy){let Bs=Zr(405,{method:qe.formMethod,pathname:se,routeId:J});return We(X,J,Bs,{flushSync:St}),!0}return!1}if(!dt&&ze(we))return;let tt=k.fetchers.get(X);Ge(X,E5(qe,tt),{flushSync:St});let wt=new AbortController,_t=zl(t.history,se,wt.signal,qe);if(dt){let Gn=await kn(He,new URL(_t.url).pathname,_t.signal,X);if(Gn.type==="aborted")return;if(Gn.type==="error"){We(X,J,Gn.error,{flushSync:St});return}else if(Gn.matches){if(He=Gn.matches,we=Yu(He,se),ze(we))return}else{We(X,J,Zr(404,{pathname:se}),{flushSync:St});return}}H.set(X,wt);let Bt=W,ue=(await pe("action",k,_t,[we],He,X))[we.route.id];if(_t.signal.aborted){H.get(X)===wt&&H.delete(X);return}if(p.v7_fetcherPersist&&Q.has(X)){if(Fo(ue)||vi(ue)){Ge(X,ja(void 0));return}}else{if(Fo(ue))if(H.delete(X),j>Bt){Ge(X,ja(void 0));return}else return Y.add(X),Ge(X,Mu(qe)),Se(_t,ue,!1,{fetcherSubmission:qe,preventScrollReset:Ze});if(vi(ue)){We(X,J,ue.error);return}}if(Ga(ue))throw Zr(400,{type:"defer-action"});let Ne=k.navigation.location||k.location,mt=zl(t.history,Ne,wt.signal),Ct=l||a,rn=k.navigation.state!=="idle"?Po(Ct,k.navigation.location,u):k.matches;Qt(rn,"Didn't find any matches after fetcher action");let Zt=++W;U.set(X,Zt);let Tr=Mu(qe,ue.data);k.fetchers.set(X,Tr);let[$r,jr]=DC(t.history,k,rn,qe,Ne,!1,p.v7_skipActionErrorRevalidation,G,N,q,Q,ne,Y,Ct,u,[we.route.id,ue]);jr.filter(Gn=>Gn.key!==X).forEach(Gn=>{let Bs=Gn.key,zr=k.fetchers.get(Bs),tf=Mu(void 0,zr?zr.data:void 0);k.fetchers.set(Bs,tf),yt(Bs),Gn.controller&&H.set(Bs,Gn.controller)}),Ue({fetchers:new Map(k.fetchers)});let Cr=()=>jr.forEach(Gn=>yt(Gn.key));wt.signal.addEventListener("abort",Cr);let{loaderResults:Zi,fetcherResults:lt}=await be(k,rn,$r,jr,mt);if(wt.signal.aborted)return;wt.signal.removeEventListener("abort",Cr),U.delete(X),H.delete(X),jr.forEach(Gn=>H.delete(Gn.key));let Gt=dh(Zi);if(Gt)return Se(mt,Gt.result,!1,{preventScrollReset:Ze});if(Gt=dh(lt),Gt)return Y.add(Gt.key),Se(mt,Gt.result,!1,{preventScrollReset:Ze});let{loaderData:fr,errors:Ur}=FC(k,rn,Zi,void 0,jr,lt,ee);if(k.fetchers.has(X)){let Gn=ja(ue.data);k.fetchers.set(X,Gn)}Et(Zt),k.navigation.state==="loading"&&Zt>j?(Qt(P,"Expected pending action"),O&&O.abort(),ye(k.navigation.location,{matches:rn,loaderData:fr,errors:Ur,fetchers:new Map(k.fetchers)})):(Ue({errors:Ur,loaderData:NC(k.loaderData,fr,rn,Ur),fetchers:new Map(k.fetchers)}),G=!1)}async function Ut(X,J,se,we,He,dt,St,Ze,qe){let ze=k.fetchers.get(X);Ge(X,Mu(qe,ze?ze.data:void 0),{flushSync:St});let tt=new AbortController,wt=zl(t.history,se,tt.signal);if(dt){let ue=await kn(He,new URL(wt.url).pathname,wt.signal,X);if(ue.type==="aborted")return;if(ue.type==="error"){We(X,J,ue.error,{flushSync:St});return}else if(ue.matches)He=ue.matches,we=Yu(He,se);else{We(X,J,Zr(404,{pathname:se}),{flushSync:St});return}}H.set(X,tt);let _t=W,fe=(await pe("loader",k,wt,[we],He,X))[we.route.id];if(Ga(fe)&&(fe=await nb(fe,wt.signal,!0)||fe),H.get(X)===tt&&H.delete(X),!wt.signal.aborted){if(Q.has(X)){Ge(X,ja(void 0));return}if(Fo(fe))if(j>_t){Ge(X,ja(void 0));return}else{Y.add(X),await Se(wt,fe,!1,{preventScrollReset:Ze});return}if(vi(fe)){We(X,J,fe.error);return}Qt(!Ga(fe),"Unhandled fetcher deferred data"),Ge(X,ja(fe.data))}}async function Se(X,J,se,we){let{submission:He,fetcherSubmission:dt,preventScrollReset:St,replace:Ze}=we===void 0?{}:we;J.response.headers.has("X-Remix-Revalidate")&&(G=!0);let qe=J.response.headers.get("Location");Qt(qe,"Expected a Location header on the redirect Response"),qe=OC(qe,new URL(X.url),u);let ze=md(k.location,qe,{_isRedirect:!0});if(n){let ue=!1;if(J.response.headers.has("X-Remix-Reload-Document"))ue=!0;else if(tb.test(qe)){const Ne=t.history.createURL(qe);ue=Ne.origin!==e.location.origin||Md(Ne.pathname,u)==null}if(ue){Ze?e.location.replace(qe):e.location.assign(qe);return}}O=null;let tt=Ze===!0||J.response.headers.has("X-Remix-Replace")?ar.Replace:ar.Push,{formMethod:wt,formAction:_t,formEncType:Bt}=k.navigation;!He&&!dt&&wt&&_t&&Bt&&(He=UC(k.navigation));let fe=He||dt;if(n5.has(J.response.status)&&fe&&is(fe.formMethod))await Le(tt,ze,{submission:Mn({},fe,{formAction:qe}),preventScrollReset:St||F,enableViewTransition:se?$:void 0});else{let ue=bv(ze,He);await Le(tt,ze,{overrideNavigation:ue,fetcherSubmission:dt,preventScrollReset:St||F,enableViewTransition:se?$:void 0})}}async function pe(X,J,se,we,He,dt){let St,Ze={};try{St=await u5(d,X,J,se,we,He,dt,s,i)}catch(qe){return we.forEach(ze=>{Ze[ze.route.id]={type:vn.error,error:qe}}),Ze}for(let[qe,ze]of Object.entries(St))if(g5(ze)){let tt=ze.result;Ze[qe]={type:vn.redirect,response:h5(tt,se,qe,He,u,p.v7_relativeSplatPath)}}else Ze[qe]=await f5(ze);return Ze}async function be(X,J,se,we,He){let dt=X.matches,St=pe("loader",X,He,se,J,null),Ze=Promise.all(we.map(async tt=>{if(tt.matches&&tt.match&&tt.controller){let _t=(await pe("loader",X,zl(t.history,tt.path,tt.controller.signal),[tt.match],tt.matches,tt.key))[tt.match.route.id];return{[tt.key]:_t}}else return Promise.resolve({[tt.key]:{type:vn.error,error:Zr(404,{pathname:tt.path})}})})),qe=await St,ze=(await Ze).reduce((tt,wt)=>Object.assign(tt,wt),{});return await Promise.all([x5(J,qe,He.signal,dt,X.loaderData),b5(J,ze,we)]),{loaderResults:qe,fetcherResults:ze}}function $e(){G=!0,N.push(...Ot()),ne.forEach((X,J)=>{H.has(J)&&q.add(J),yt(J)})}function Ge(X,J,se){se===void 0&&(se={}),k.fetchers.set(X,J),Ue({fetchers:new Map(k.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function We(X,J,se,we){we===void 0&&(we={});let He=Oo(k.matches,J);je(X),Ue({errors:{[He.route.id]:se},fetchers:new Map(k.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function Xe(X){return re.set(X,(re.get(X)||0)+1),Q.has(X)&&Q.delete(X),k.fetchers.get(X)||r5}function je(X){let J=k.fetchers.get(X);H.has(X)&&!(J&&J.state==="loading"&&U.has(X))&&yt(X),ne.delete(X),U.delete(X),Y.delete(X),p.v7_fetcherPersist&&Q.delete(X),q.delete(X),k.fetchers.delete(X)}function It(X){let J=(re.get(X)||0)-1;J<=0?(re.delete(X),Q.add(X),p.v7_fetcherPersist||je(X)):re.set(X,J),Ue({fetchers:new Map(k.fetchers)})}function yt(X){let J=H.get(X);J&&(J.abort(),H.delete(X))}function Dt(X){for(let J of X){let se=Xe(J),we=ja(se.data);k.fetchers.set(J,we)}}function Qe(){let X=[],J=!1;for(let se of Y){let we=k.fetchers.get(se);Qt(we,"Expected fetcher: "+se),we.state==="loading"&&(Y.delete(se),X.push(se),J=!0)}return Dt(X),J}function Et(X){let J=[];for(let[se,we]of U)if(we<X){let He=k.fetchers.get(se);Qt(He,"Expected fetcher: "+se),He.state==="loading"&&(yt(se),U.delete(se),J.push(se))}return Dt(J),J.length>0}function Lt(X,J){let se=k.blockers.get(X)||Ou;return Oe.get(X)!==J&&Oe.set(X,J),se}function ln(X){k.blockers.delete(X),Oe.delete(X)}function wn(X,J){let se=k.blockers.get(X)||Ou;Qt(se.state==="unblocked"&&J.state==="blocked"||se.state==="blocked"&&J.state==="blocked"||se.state==="blocked"&&J.state==="proceeding"||se.state==="blocked"&&J.state==="unblocked"||se.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+se.state+" -> "+J.state);let we=new Map(k.blockers);we.set(X,J),Ue({blockers:we})}function dr(X){let{currentLocation:J,nextLocation:se,historyAction:we}=X;if(Oe.size===0)return;Oe.size>1&&mc(!1,"A router only supports one blocker at a time");let He=Array.from(Oe.entries()),[dt,St]=He[He.length-1],Ze=k.blockers.get(dt);if(!(Ze&&Ze.state==="proceeding")&&St({currentLocation:J,nextLocation:se,historyAction:we}))return dt}function Hn(X){let J=Zr(404,{pathname:X}),se=l||a,{matches:we,route:He}=$C(se);return Ot(),{notFoundMatches:we,route:He,error:J}}function Ot(X){let J=[];return ee.forEach((se,we)=>{(!X||X(we))&&(se.cancel(),J.push(we),ee.delete(we))}),J}function en(X,J,se){if(y=X,b=J,x=se||null,!T&&k.navigation===xv){T=!0;let we=dn(k.location,k.matches);we!=null&&Ue({restoreScrollPosition:we})}return()=>{y=null,b=null,x=null}}function Nn(X,J){return x&&x(X,J.map(we=>OM(we,k.loaderData)))||X.key}function Bn(X,J){if(y&&b){let se=Nn(X,J);y[se]=b()}}function dn(X,J){if(y){let se=Nn(X,J),we=y[se];if(typeof we=="number")return we}return null}function Tt(X,J,se){if(f)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Zh(J,se,u,!0)}}else return{active:!0,matches:Zh(J,se,u,!0)||[]};return{active:!1,matches:null}}async function kn(X,J,se,we){if(!f)return{type:"success",matches:X};let He=X;for(;;){let dt=l==null,St=l||a,Ze=s;try{await f({signal:se,path:J,matches:He,fetcherKey:we,patch:(tt,wt)=>{se.aborted||PC(tt,wt,St,Ze,i)}})}catch(tt){return{type:"error",error:tt,partialMatches:He}}finally{dt&&!se.aborted&&(a=[...a])}if(se.aborted)return{type:"aborted"};let qe=Po(St,J,u);if(qe)return{type:"success",matches:qe};let ze=Zh(St,J,u,!0);if(!ze||He.length===ze.length&&He.every((tt,wt)=>tt.route.id===ze[wt].route.id))return{type:"success",matches:null};He=ze}}function nt(X){s={},l=yp(X,i,void 0,s)}function ut(X,J){let se=l==null;PC(X,J,l||a,s,i),se&&(a=[...a],Ue({}))}return D={get basename(){return u},get future(){return p},get state(){return k},get routes(){return a},get window(){return e},initialize:Be,subscribe:Ye,enableScrollRestoration:en,navigate:Re,fetch:pt,revalidate:gt,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:Xe,deleteFetcher:It,dispose:Me,getBlocker:Lt,deleteBlocker:ln,patchRoutes:ut,_internalFetchControllers:H,_internalActiveDeferreds:ee,_internalSetRoutes:nt},D}function a5(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Py(t,e,n,r,i,s,a,l){let u,d;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){d=p;break}}else u=e,d=e[e.length-1];let f=eb(i||".",Jx(u,s),Md(t.pathname,n)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let p=rb(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(x=>x).forEach(x=>g.append("index",x));let y=g.toString();f.search=y?"?"+y:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Ka([n,f.pathname])),Od(f)}function IC(t,e,n,r){if(!r||!a5(r))return{path:n};if(r.formMethod&&!y5(r.formMethod))return{path:n,error:Zr(405,{method:r.formMethod})};let i=()=>({path:n,error:Zr(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),l=uL(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!is(a))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,y)=>{let[x,b]=y;return""+v+x+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!is(a))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Qt(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=My(r.formData),d=r.formData;else if(r.body instanceof FormData)u=My(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=MC(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=MC(u)}catch{return i()}let f={formMethod:a,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(is(f.formMethod))return{path:n,submission:f};let p=ro(n);return e&&p.search&&rb(p.search)&&u.append("index",""),p.search="?"+u,{path:Od(p),submission:f}}function kC(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function DC(t,e,n,r,i,s,a,l,u,d,f,p,g,v,y,x){let b=x?vi(x[1])?x[1].error:x[1].data:void 0,T=t.createURL(e.location),w=t.createURL(i),C=n;s&&e.errors?C=kC(n,Object.keys(e.errors)[0],!0):x&&vi(x[1])&&(C=kC(n,x[0]));let R=x?x[1].statusCode:void 0,L=a&&R&&R>=400,D=C.filter((P,F)=>{let{route:O}=P;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return Oy(O,e.loaderData,e.errors);if(o5(e.loaderData,e.matches[F],P)||u.some(K=>K===P.route.id))return!0;let $=e.matches[F],_=P;return _C(P,Mn({currentUrl:T,currentParams:$.params,nextUrl:w,nextParams:_.params},r,{actionResult:b,actionStatus:R,defaultShouldRevalidate:L?!1:l||T.pathname+T.search===w.pathname+w.search||T.search!==w.search||lL($,_)}))}),k=[];return p.forEach((P,F)=>{if(s||!n.some(z=>z.route.id===P.routeId)||f.has(F))return;let O=Po(v,P.path,y);if(!O){k.push({key:F,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let $=e.fetchers.get(F),_=Yu(O,P.path),K=!1;g.has(F)?K=!1:d.has(F)?(d.delete(F),K=!0):$&&$.state!=="idle"&&$.data===void 0?K=l:K=_C(_,Mn({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:R,defaultShouldRevalidate:L?!1:l})),K&&k.push({key:F,routeId:P.routeId,path:P.path,matches:O,match:_,controller:new AbortController})}),[D,k]}function Oy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function o5(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function lL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function _C(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function PC(t,e,n,r,i){var s;let a;if(t){let d=r[t];Qt(d,"No route found to patch children into: routeId = "+t),d.children||(d.children=[]),a=d.children}else a=n;let l=e.filter(d=>!a.some(f=>cL(d,f))),u=yp(l,i,[t||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],r);a.push(...u)}function cL(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>cL(n,s))}):!1}async function l5(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Qt(i,"No route found in manifest");let s={};for(let a in r){let u=i[a]!==void 0&&a!=="hasErrorBoundary";mc(!u,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!_M.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,Mn({},e(i),{lazy:void 0}))}async function c5(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[n[a].route.id]:s}),{})}async function u5(t,e,n,r,i,s,a,l,u,d){let f=s.map(v=>v.route.lazy?l5(v.route,u,l):void 0),p=s.map((v,y)=>{let x=f[y],b=i.some(w=>w.route.id===v.route.id);return Mn({},v,{shouldLoad:b,resolve:async w=>(w&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(b=!0),b?d5(e,r,v,x,w,d):Promise.resolve({type:vn.data,result:void 0}))})}),g=await t({matches:p,request:r,params:s[0].params,fetcherKey:a,context:d});try{await Promise.all(f)}catch{}return g}async function d5(t,e,n,r,i,s){let a,l,u=d=>{let f,p=new Promise((y,x)=>f=x);l=()=>f(),e.signal.addEventListener("abort",l);let g=y=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(x=>g(x)):g())}}catch(y){return{type:"error",result:y}}})();return Promise.race([v,p])};try{let d=n.route[t];if(r)if(d){let f,[p]=await Promise.all([u(d).catch(g=>{f=g}),r]);if(f!==void 0)throw f;a=p}else if(await r,d=n.route[t],d)a=await u(d);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw Zr(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:vn.data,result:void 0};else if(d)a=await u(d);else{let f=new URL(e.url),p=f.pathname+f.search;throw Zr(404,{pathname:p})}Qt(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:vn.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function f5(t){let{result:e,type:n}=t;if(dL(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:vn.error,error:g}}return n===vn.error?{type:vn.error,error:new xp(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:vn.data,data:p,statusCode:e.status,headers:e.headers}}if(n===vn.error){if(jC(e)){var r,i;if(e.data instanceof Error){var s,a;return{type:vn.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:vn.error,error:new xp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:gd(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:vn.error,error:e,statusCode:gd(e)?e.status:void 0}}if(v5(e)){var l,u;return{type:vn.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((u=e.init)==null?void 0:u.headers)&&new Headers(e.init.headers)}}if(jC(e)){var d,f;return{type:vn.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:vn.data,data:e}}function h5(t,e,n,r,i,s){let a=t.headers.get("Location");if(Qt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!tb.test(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Py(new URL(e.url),l,i,!0,a,s),t.headers.set("Location",a)}return t}function OC(t,e,n){if(tb.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Md(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function zl(t,e,n,r){let i=t.createURL(uL(e)).toString(),s={signal:n};if(r&&is(r.formMethod)){let{formMethod:a,formEncType:l}=r;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=My(r.formData):s.body=r.formData}return new Request(i,s)}function My(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function MC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function p5(t,e,n,r,i){let s={},a=null,l,u=!1,d={},f=n&&vi(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,v=e[g];if(Qt(!Fo(v),"Cannot handle redirect results in processLoaderData"),vi(v)){let y=v.error;f!==void 0&&(y=f,f=void 0),a=a||{};{let x=Oo(t,g);a[x.route.id]==null&&(a[x.route.id]=y)}s[g]=void 0,u||(u=!0,l=gd(v.error)?v.error.status:500),v.headers&&(d[g]=v.headers)}else Ga(v)?(r.set(g,v.deferredData),s[g]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[g]=v.headers)):(s[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[g]=v.headers))}),f!==void 0&&n&&(a={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:d}}function FC(t,e,n,r,i,s,a){let{loaderData:l,errors:u}=p5(e,n,r,a);return i.forEach(d=>{let{key:f,match:p,controller:g}=d,v=s[f];if(Qt(v,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(vi(v)){let y=Oo(t.matches,p?.route.id);u&&u[y.route.id]||(u=Mn({},u,{[y.route.id]:v.error})),t.fetchers.delete(f)}else if(Fo(v))Qt(!1,"Unhandled fetcher revalidation redirect");else if(Ga(v))Qt(!1,"Unhandled fetcher deferred data");else{let y=ja(v.data);t.fetchers.set(f,y)}}),{loaderData:l,errors:u}}function NC(t,e,n,r){let i=Mn({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function BC(t){return t?vi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $C(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new xp(t||500,l,new Error(u),!0)}function dh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Fo(i))return{key:r,result:i}}}function uL(t){let e=typeof t=="string"?ro(t):t;return Od(Mn({},e,{hash:""}))}function m5(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function g5(t){return dL(t.result)&&t5.has(t.result.status)}function Ga(t){return t.type===vn.deferred}function vi(t){return t.type===vn.error}function Fo(t){return(t&&t.type)===vn.redirect}function jC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function v5(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function dL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function y5(t){return e5.has(t.toLowerCase())}function is(t){return ZM.has(t.toLowerCase())}async function x5(t,e,n,r,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[l,u]=s[a],d=t.find(g=>g?.route.id===l);if(!d)continue;let f=r.find(g=>g.route.id===d.route.id),p=f!=null&&!lL(f,d)&&(i&&i[d.route.id])!==void 0;Ga(u)&&p&&await nb(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function b5(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:a}=n[r],l=e[i];t.find(d=>d?.route.id===s)&&Ga(l)&&(Qt(a,"Expected an AbortController for revalidating fetcher deferred result"),await nb(l,a.signal,!0).then(d=>{d&&(e[i]=d)}))}}async function nb(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:vn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:vn.error,error:i}}return{type:vn.data,data:t.deferredData.data}}}function rb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Yu(t,e){let n=typeof e=="string"?ro(e).search:e.search;if(t[t.length-1].route.index&&rb(n||""))return t[t.length-1];let r=sL(t);return r[r.length-1]}function UC(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function bv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function S5(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function E5(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ja(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function T5(t,e){try{let n=t.sessionStorage.getItem(oL);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function C5(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(oL,JSON.stringify(n))}catch(r){mc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}const om=I.createContext(null),fL=I.createContext(null),Fd=I.createContext(null),ib=I.createContext(null),da=I.createContext({outlet:null,matches:[],isDataRoute:!1}),hL=I.createContext(null);function Nd(){return I.useContext(ib)!=null}function Bd(){return Nd()||Qt(!1),I.useContext(ib).location}function pL(t){I.useContext(Fd).static||I.useLayoutEffect(t)}function lm(){let{isDataRoute:t}=I.useContext(da);return t?B5():w5()}function w5(){Nd()||Qt(!1);let t=I.useContext(om),{basename:e,future:n,navigator:r}=I.useContext(Fd),{matches:i}=I.useContext(da),{pathname:s}=Bd(),a=JSON.stringify(Jx(i,n.v7_relativeSplatPath)),l=I.useRef(!1);return pL(()=>{l.current=!0}),I.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=eb(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ka([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,s,t])}const A5=I.createContext(null);function R5(t){let e=I.useContext(da).outlet;return e&&I.createElement(A5.Provider,{value:t},e)}function mL(){let{matches:t}=I.useContext(da),e=t[t.length-1];return e?e.params:{}}function L5(t,e,n,r){Nd()||Qt(!1);let{navigator:i}=I.useContext(Fd),{matches:s}=I.useContext(da),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Bd(),f;f=d;let p=f.pathname||"/",g=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Po(t,{pathname:g});return P5(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ka([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ka([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r)}function I5(){let t=N5(),e=gd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const k5=I.createElement(I5,null);class D5 extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(da.Provider,{value:this.props.routeContext},I.createElement(hL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _5(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(om);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(da.Provider,{value:e},r)}function P5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);f>=0||Qt(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=n,y=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let v,y=!1,x=null,b=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||k5,u&&(d<0&&g===0?($5("route-fallback"),y=!0,b=null):d===g&&(y=!0,b=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,g+1)),w=()=>{let C;return v?C=x:y?C=b:p.route.Component?C=I.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,I.createElement(_5,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(D5,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var gL=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(gL||{}),vL=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(vL||{});function O5(t){let e=I.useContext(om);return e||Qt(!1),e}function M5(t){let e=I.useContext(fL);return e||Qt(!1),e}function F5(t){let e=I.useContext(da);return e||Qt(!1),e}function yL(t){let e=F5(),n=e.matches[e.matches.length-1];return n.route.id||Qt(!1),n.route.id}function N5(){var t;let e=I.useContext(hL),n=M5(vL.UseRouteError),r=yL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function B5(){let{router:t}=O5(gL.UseNavigateStable),e=yL(),n=I.useRef(!1);return pL(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bp({fromRouteId:e},s)))},[t,e])}const zC={};function $5(t,e,n){zC[t]||(zC[t]=!0)}function j5(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Fy(t){let{to:e,replace:n,state:r,relative:i}=t;Nd()||Qt(!1);let{future:s,static:a}=I.useContext(Fd),{matches:l}=I.useContext(da),{pathname:u}=Bd(),d=lm(),f=eb(e,Jx(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(f);return I.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:i}),[d,p,i,n,r]),null}function xL(t){return R5(t.context)}function U5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ar.Pop,navigator:s,static:a=!1,future:l}=t;Nd()&&Qt(!1);let u=e.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:u,navigator:s,static:a,future:bp({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof r=="string"&&(r=ro(r));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=r,x=I.useMemo(()=>{let b=Md(f,u);return b==null?null:{location:{pathname:b,search:p,hash:g,state:v,key:y},navigationType:i}},[u,f,p,g,v,y,i]);return x==null?null:I.createElement(Fd.Provider,{value:d},I.createElement(ib.Provider,{children:n,value:x}))}new Promise(()=>{});function z5(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:I.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:I.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}const H5="6";try{window.__reactRouterVersion=H5}catch{}function G5(t,e){return s5({basename:void 0,future:Sp({},void 0,{v7_prependBasename:!0}),history:IM({window:void 0}),hydrationData:V5(),routes:t,mapRouteProperties:z5,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function V5(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Sp({},e,{errors:K5(e.errors)})),e}function K5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new xp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const W5=I.createContext({isTransitioning:!1}),q5=I.createContext(new Map),Y5="startTransition",HC=vp[Y5],X5="flushSync",GC=LM[X5];function Q5(t){HC?HC(t):t()}function Fu(t){GC?GC(t):t()}class Z5{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function J5(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=I.useState(n.state),[a,l]=I.useState(),[u,d]=I.useState({isTransitioning:!1}),[f,p]=I.useState(),[g,v]=I.useState(),[y,x]=I.useState(),b=I.useRef(new Map),{v7_startTransition:T}=r||{},w=I.useCallback(P=>{T?Q5(P):P()},[T]),C=I.useCallback((P,F)=>{let{deletedFetchers:O,flushSync:$,viewTransitionOpts:_}=F;P.fetchers.forEach((z,G)=>{z.data!==void 0&&b.current.set(G,z.data)}),O.forEach(z=>b.current.delete(z));let K=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!_||K){$?Fu(()=>s(P)):w(()=>s(P));return}if($){Fu(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let z=n.window.document.startViewTransition(()=>{Fu(()=>s(P))});z.finished.finally(()=>{Fu(()=>{p(void 0),v(void 0),l(void 0),d({isTransitioning:!1})})}),Fu(()=>v(z));return}g?(f&&f.resolve(),g.skipTransition(),x({state:P,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(l(P),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[n.window,g,f,b,w]);I.useLayoutEffect(()=>n.subscribe(C),[n,C]),I.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new Z5)},[u]),I.useEffect(()=>{if(f&&a&&n.window){let P=a,F=f.promise,O=n.window.document.startViewTransition(async()=>{w(()=>s(P)),await F});O.finished.finally(()=>{p(void 0),v(void 0),l(void 0),d({isTransitioning:!1})}),v(O)}},[w,a,f,n.window]),I.useEffect(()=>{f&&a&&i.location.key===a.location.key&&f.resolve()},[f,g,i.location,a]),I.useEffect(()=>{!u.isTransitioning&&y&&(l(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),x(void 0))},[u.isTransitioning,y]),I.useEffect(()=>{},[]);let R=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,F,O)=>n.navigate(P,{state:F,preventScrollReset:O?.preventScrollReset}),replace:(P,F,O)=>n.navigate(P,{replace:!0,state:F,preventScrollReset:O?.preventScrollReset})}),[n]),L=n.basename||"/",D=I.useMemo(()=>({router:n,navigator:R,static:!1,basename:L}),[n,R,L]),k=I.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return I.useEffect(()=>j5(r,n.future),[r,n.future]),I.createElement(I.Fragment,null,I.createElement(om.Provider,{value:D},I.createElement(fL.Provider,{value:i},I.createElement(q5.Provider,{value:b.current},I.createElement(W5.Provider,{value:u},I.createElement(U5,{basename:L,location:i.location,navigationType:i.historyAction,navigator:R,future:k},i.initialized||n.future.v7_partialHydration?I.createElement(e3,{routes:n.routes,future:n.future,state:i}):e))))),null)}const e3=I.memo(t3);function t3(t){let{routes:e,future:n,state:r}=t;return L5(e,void 0,r,n)}var VC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VC||(VC={}));var KC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KC||(KC={}));function Lr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var n3=typeof Symbol=="function"&&Symbol.observable||"@@observable",WC=n3,Sv=()=>Math.random().toString(36).substring(7).split("").join("."),r3={INIT:`@@redux/INIT${Sv()}`,REPLACE:`@@redux/REPLACE${Sv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sv()}`},Ep=r3;function sb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function bL(t,e,n){if(typeof t!="function")throw new Error(Lr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lr(1));return n(bL)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((b,T)=>{a.set(T,b)}))}function f(){if(u)throw new Error(Lr(3));return i}function p(b){if(typeof b!="function")throw new Error(Lr(4));if(u)throw new Error(Lr(5));let T=!0;d();const w=l++;return a.set(w,b),function(){if(T){if(u)throw new Error(Lr(6));T=!1,d(),a.delete(w),s=null}}}function g(b){if(!sb(b))throw new Error(Lr(7));if(typeof b.type>"u")throw new Error(Lr(8));if(typeof b.type!="string")throw new Error(Lr(17));if(u)throw new Error(Lr(9));try{u=!0,i=r(i,b)}finally{u=!1}return(s=a).forEach(w=>{w()}),b}function v(b){if(typeof b!="function")throw new Error(Lr(10));r=b,g({type:Ep.REPLACE})}function y(){const b=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Lr(11));function w(){const R=T;R.next&&R.next(f())}return w(),{unsubscribe:b(w)}},[WC](){return this}}}return g({type:Ep.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:v,[WC]:y}}function i3(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ep.INIT})>"u")throw new Error(Lr(12));if(typeof n(void 0,{type:Ep.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lr(13))})}function s3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{i3(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],g=n[p],v=a[p],y=g(v,l);if(typeof y>"u")throw l&&l.type,new Error(Lr(14));d[p]=y,u=u||y!==v}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Tp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function a3(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Lr(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},l=t.map(u=>u(a));return s=Tp(...l)(i.dispatch),{...i,dispatch:s}}}function o3(t){return sb(t)&&"type"in t&&typeof t.type=="string"}var SL=Symbol.for("immer-nothing"),qC=Symbol.for("immer-draftable"),Ai=Symbol.for("immer-state");function ss(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gc=Object.getPrototypeOf;function qo(t){return!!t&&!!t[Ai]}function la(t){return t?EL(t)||Array.isArray(t)||!!t[qC]||!!t.constructor?.[qC]||$d(t)||um(t):!1}var l3=Object.prototype.constructor.toString();function EL(t){if(!t||typeof t!="object")return!1;const e=gc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===l3}function Cp(t,e){cm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function cm(t){const e=t[Ai];return e?e.type_:Array.isArray(t)?1:$d(t)?2:um(t)?3:0}function Ny(t,e){return cm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TL(t,e,n){const r=cm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function c3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $d(t){return t instanceof Map}function um(t){return t instanceof Set}function Io(t){return t.copy_||t.base_}function By(t,e){if($d(t))return new Map(t);if(um(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=EL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ai];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(gc(t),r)}else{const r=gc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ab(t,e=!1){return dm(t)||qo(t)||!la(t)||(cm(t)>1&&Object.defineProperties(t,{set:{value:fh},add:{value:fh},clear:{value:fh},delete:{value:fh}}),Object.freeze(t),e&&Object.values(t).forEach(n=>ab(n,!0))),t}function fh(){ss(2)}function dm(t){return Object.isFrozen(t)}var u3={};function Yo(t){const e=u3[t];return e||ss(0,t),e}var vd;function CL(){return vd}function d3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YC(t,e){e&&(Yo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $y(t){jy(t),t.drafts_.forEach(f3),t.drafts_=null}function jy(t){t===vd&&(vd=t.parent_)}function XC(t){return vd=d3(vd,t)}function f3(t){const e=t[Ai];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ai].modified_&&($y(e),ss(4)),la(t)&&(t=wp(e,t),e.parent_||Ap(e,t)),e.patches_&&Yo("Patches").generateReplacementPatches_(n[Ai].base_,t,e.patches_,e.inversePatches_)):t=wp(e,n,[]),$y(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==SL?t:void 0}function wp(t,e,n){if(dm(e))return e;const r=e[Ai];if(!r)return Cp(e,(i,s)=>ZC(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ap(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),Cp(s,(l,u)=>ZC(t,r,i,l,u,n,a)),Ap(t,i,!1),n&&t.patches_&&Yo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function ZC(t,e,n,r,i,s,a){if(qo(i)){const l=s&&e&&e.type_!==3&&!Ny(e.assigned_,r)?s.concat(r):void 0,u=wp(t,i,l);if(TL(n,r,u),qo(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(la(i)&&!dm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&($d(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ap(t,i)}}function Ap(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ab(e,n)}function h3(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:CL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ob;n&&(i=[r],s=yd);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var ob={get(t,e){if(e===Ai)return t;const n=Io(t);if(!Ny(n,e))return p3(t,n,e);const r=n[e];return t.finalized_||!la(r)?r:r===Ev(t.base_,e)?(Tv(t),t.copy_[e]=zy(r,t)):r},has(t,e){return e in Io(t)},ownKeys(t){return Reflect.ownKeys(Io(t))},set(t,e,n){const r=wL(Io(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ev(Io(t),e),s=i?.[Ai];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(c3(n,i)&&(n!==void 0||Ny(t.base_,e)))return!0;Tv(t),Uy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ev(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Tv(t),Uy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Io(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ss(11)},getPrototypeOf(t){return gc(t.base_)},setPrototypeOf(){ss(12)}},yd={};Cp(ob,(t,e)=>{yd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yd.deleteProperty=function(t,e){return yd.set.call(this,t,e,void 0)};yd.set=function(t,e,n){return ob.set.call(this,t[0],e,n,t[0])};function Ev(t,e){const n=t[Ai];return(n?Io(n):t)[e]}function p3(t,e,n){const r=wL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function wL(t,e){if(!(e in t))return;let n=gc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gc(n)}}function Uy(t){t.modified_||(t.modified_=!0,t.parent_&&Uy(t.parent_))}function Tv(t){t.copy_||(t.copy_=By(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var m3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&ss(6),r!==void 0&&typeof r!="function"&&ss(7);let i;if(la(e)){const s=XC(this),a=zy(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?$y(s):jy(s)}return YC(s,r),QC(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===SL&&(i=void 0),this.autoFreeze_&&ab(i,!0),r){const s=[],a=[];Yo("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else ss(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){la(t)||ss(8),qo(t)&&(t=g3(t));const e=XC(this),n=zy(t,void 0);return n[Ai].isManual_=!0,jy(e),n}finishDraft(t,e){const n=t&&t[Ai];(!n||!n.isManual_)&&ss(9);const{scope_:r}=n;return YC(r,e),QC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Yo("Patches").applyPatches_;return qo(t)?r(t,e):this.produce(t,i=>r(i,e))}};function zy(t,e){const n=$d(t)?Yo("MapSet").proxyMap_(t,e):um(t)?Yo("MapSet").proxySet_(t,e):h3(t,e);return(e?e.scope_:CL()).drafts_.push(n),n}function g3(t){return qo(t)||ss(10,t),AL(t)}function AL(t){if(!la(t)||dm(t))return t;const e=t[Ai];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=By(t,e.scope_.immer_.useStrictShallowCopy_)}else n=By(t,!0);return Cp(n,(r,i)=>{TL(n,r,AL(i))}),e&&(e.finalized_=!1),n}var v3=new m3,RL=v3.produce;function LL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var y3=LL(),x3=LL,b3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tp:Tp.apply(null,arguments)};function JC(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(oa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>o3(r)&&r.type===t,n}var IL=class Xu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xu.prototype)}static get[Symbol.species](){return Xu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xu(...e[0].concat(this)):new Xu(...e.concat(this))}};function ew(t){return la(t)?RL(t,()=>{}):t}function hh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function S3(t){return typeof t=="boolean"}var E3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new IL;return n&&(S3(n)?a.push(y3):a.push(x3(n.extraArgument))),a},T3="RTK_autoBatch",tw=t=>e=>{setTimeout(e,t)},C3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tw(10):t.type==="callback"?t.queueNotification:tw(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),g=r.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[T3],s=!i,s&&(a||(a=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},w3=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new IL(t);return r&&i.push(C3(typeof r=="object"?r:void 0)),i};function A3(t){const e=E3(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(sb(n))l=s3(n);else throw new Error(oa(1));let u;typeof r=="function"?u=r(e):u=e();let d=Tp;i&&(d=b3({trace:!1,...typeof i=="object"&&i}));const f=a3(...u),p=w3(f);let g=typeof a=="function"?a(p):p();const v=d(...g);return bL(l,s,v)}function kL(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(oa(28));if(l in e)throw new Error(oa(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function R3(t){return typeof t=="function"}function L3(t,e){let[n,r,i]=kL(e),s;if(R3(t))s=()=>ew(t());else{const l=ew(t);s=()=>l}function a(l=s(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(qo(f)){const v=p(f,u);return v===void 0?f:v}else{if(la(f))return RL(f,g=>p(g,u));{const g=p(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return a.getInitialState=s,a}var I3=Symbol.for("rtk-slice-createasyncthunk");function k3(t,e){return`${t}/${e}`}function D3({creators:t}={}){const e=t?.asyncThunk?.[I3];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(oa(11));const a=(typeof r.reducers=="function"?r.reducers(P3()):r.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,R){const L=typeof C=="string"?C:C.type;if(!L)throw new Error(oa(12));if(L in u.sliceCaseReducersByType)throw new Error(oa(13));return u.sliceCaseReducersByType[L]=R,d},addMatcher(C,R){return u.sliceMatchers.push({matcher:C,reducer:R}),d},exposeAction(C,R){return u.actionCreators[C]=R,d},exposeCaseReducer(C,R){return u.sliceCaseReducersByName[C]=R,d}};l.forEach(C=>{const R=a[C],L={reducerName:C,type:k3(i,C),createNotation:typeof r.reducers=="function"};M3(R)?N3(L,R,d,e):O3(L,R,d)});function f(){const[C={},R=[],L=void 0]=typeof r.extraReducers=="function"?kL(r.extraReducers):[r.extraReducers],D={...C,...u.sliceCaseReducersByType};return L3(r.initialState,k=>{for(let P in D)k.addCase(P,D[P]);for(let P of u.sliceMatchers)k.addMatcher(P.matcher,P.reducer);for(let P of R)k.addMatcher(P.matcher,P.reducer);L&&k.addDefaultCase(L)})}const p=C=>C,g=new Map,v=new WeakMap;let y;function x(C,R){return y||(y=f()),y(C,R)}function b(){return y||(y=f()),y.getInitialState()}function T(C,R=!1){function L(k){let P=k[C];return typeof P>"u"&&R&&(P=hh(v,L,b)),P}function D(k=p){const P=hh(g,R,()=>new WeakMap);return hh(P,k,()=>{const F={};for(const[O,$]of Object.entries(r.selectors??{}))F[O]=_3($,k,()=>hh(v,k,b),R);return F})}return{reducerPath:C,getSelectors:D,get selectors(){return D(L)},selectSlice:L}}const w={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...T(s),injectInto(C,{reducerPath:R,...L}={}){const D=R??s;return C.inject({reducerPath:D,reducer:x},L),{...w,...T(D,!0)}}};return w}}function _3(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var kc=D3();function P3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function O3({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!F3(r))throw new Error(oa(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?JC(t,a):JC(t))}function M3(t){return t._reducerDefinitionType==="asyncThunk"}function F3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function N3({type:t,reducerName:e},n,r,i){if(!i)throw new Error(oa(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:d,options:f}=n,p=i(t,s,f);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:a||ph,pending:l||ph,rejected:u||ph,settled:d||ph})}function ph(){}function oa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const B3={uuid:null,username:null,isAuthenticated:!1},DL=kc({name:"auth",initialState:B3,reducers:{setAuth:(t,e)=>{t.uuid=e.payload.uuid,t.username=e.payload.username,t.isAuthenticated=!0},clearAuth:t=>{t.uuid=null,t.username=null,t.isAuthenticated=!1}}}),{setAuth:$3,clearAuth:j3}=DL.actions,U3=t=>t.auth.isAuthenticated,z3=t=>t.auth.username,H3=DL.reducer,G3={files:[],loading:!1,hasMore:!0,filters:{ftype:".all",range:".all",searchQuery:""},selectedFileIds:[],viewMode:"list",sortOrder:"desc",refreshTrigger:0,showGridDetails:!0,gridSize:"medium",listSize:"medium"},_L=kc({name:"files",initialState:G3,reducers:{setFiles:(t,e)=>{t.files=e.payload,t.hasMore=e.payload.length>=100},appendFiles:(t,e)=>{t.files=[...t.files,...e.payload],t.hasMore=e.payload.length>=100},setLoading:(t,e)=>{t.loading=e.payload},setFilters:(t,e)=>{t.filters={...t.filters,...e.payload},t.files=[],t.hasMore=!0},toggleFileSelection:(t,e)=>{const n=e.payload,r=t.selectedFileIds.indexOf(n);r>-1?t.selectedFileIds.splice(r,1):t.selectedFileIds.push(n)},selectRange:(t,e)=>{const{startId:n,endId:r}=e.payload,i=t.files.findIndex(a=>a.multiclusterid===n),s=t.files.findIndex(a=>a.multiclusterid===r);if(i!==-1&&s!==-1){const a=Math.min(i,s),l=Math.max(i,s);t.files.slice(a,l+1).map(d=>d.multiclusterid).forEach(d=>{t.selectedFileIds.includes(d)||t.selectedFileIds.push(d)})}},selectAll:t=>{t.selectedFileIds=t.files.map(e=>e.multiclusterid)},deselectAll:t=>{t.selectedFileIds=[]},setViewMode:(t,e)=>{t.viewMode=e.payload},setSortOrder:(t,e)=>{t.sortOrder=e.payload,t.files=[],t.hasMore=!0},resetFiles:t=>{t.files=[],t.hasMore=!0,t.selectedFileIds=[],t.refreshTrigger=Date.now()},toggleGridDetails:t=>{t.showGridDetails=!t.showGridDetails},setGridSize:(t,e)=>{t.gridSize=e.payload},setListSize:(t,e)=>{t.listSize=e.payload},updateFileTags:(t,e)=>{const n=t.files.find(r=>r.nickname===e.payload.fileId);n&&(n.file_tags=e.payload.tags)}}}),{setFiles:nw,appendFiles:V3,setLoading:rw,setFilters:zo,toggleFileSelection:Cv,selectRange:K3,selectAll:W3,deselectAll:iw,setViewMode:q3,setSortOrder:Y3,resetFiles:PL,toggleGridDetails:X3,setGridSize:Q3,setListSize:Z3,updateFileTags:Rp}=_L.actions,J3=_L.reducer,e4={tags:[],loading:!1},OL=kc({name:"tags",initialState:e4,reducers:{setTags:(t,e)=>{t.tags=e.payload},setLoading:(t,e)=>{t.loading=e.payload},addTag:(t,e)=>{t.tags.find(r=>r.tag===e.payload.tag)||t.tags.push(e.payload)},removeTag:(t,e)=>{t.tags=t.tags.filter(n=>n.tag!==e.payload)}}}),{setTags:t4,setLoading:gee,addTag:vee,removeTag:yee}=OL.actions,n4=OL.reducer,r4={stats:{fileTypes:[],timeRanges:[]},loading:!1},ML=kc({name:"sidebar",initialState:r4,reducers:{setStats:(t,e)=>{t.stats=e.payload},setLoading:(t,e)=>{t.loading=e.payload}}}),{setStats:i4,setLoading:xee}=ML.actions,s4=ML.reducer,a4={currentFile:null,videoCurrentTime:0},FL=kc({name:"viewer",initialState:a4,reducers:{setCurrentFile:(t,e)=>{t.currentFile=e.payload},clearCurrentFile:t=>{t.currentFile=null,t.videoCurrentTime=0},setVideoCurrentTime:(t,e)=>{t.videoCurrentTime=e.payload},updateCurrentFileTags:(t,e)=>{t.currentFile&&(t.currentFile.file_tags=e.payload)}}}),{setCurrentFile:fm,clearCurrentFile:hm,setVideoCurrentTime:o4,updateCurrentFileTags:sw}=FL.actions,pm=t=>t.viewer.currentFile,l4=t=>t.viewer.currentFile?.nickname||"",NL=t=>t.viewer.videoCurrentTime,c4=FL.reducer,u4={files:[],isOpen:!1},BL=kc({name:"playlist",initialState:u4,reducers:{addFiles:(t,e)=>{t.files=[...t.files,...e.payload]},removeFile:(t,e)=>{t.files.splice(e.payload,1)},clearAll:t=>{t.files=[]},togglePanel:t=>{t.isOpen=!t.isOpen},setOpen:(t,e)=>{t.isOpen=e.payload}}}),{addFiles:$L,removeFile:bee,clearAll:See,togglePanel:Eee,setOpen:jL}=BL.actions,d4=BL.reducer,f4=A3({reducer:{auth:H3,files:J3,tags:n4,sidebar:s4,viewer:c4,playlist:d4},middleware:t=>t({serializableCheck:{ignoredActions:[],ignoredActionPaths:[],ignoredPaths:[]}})}),xd={black:"#000",white:"#fff"},Hl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Gl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Vl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Kl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Wl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Nu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},h4={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ca(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const mm="$$material";function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(null,arguments)}function p4(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function m4(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var g4=(function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(m4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=p4(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Fr="-ms-",Ip="-moz-",an="-webkit-",UL="comm",lb="rule",cb="decl",v4="@import",zL="@keyframes",y4="@layer",x4=Math.abs,gm=String.fromCharCode,b4=Object.assign;function S4(t,e){return kr(t,0)^45?(((e<<2^kr(t,0))<<2^kr(t,1))<<2^kr(t,2))<<2^kr(t,3):0}function HL(t){return t.trim()}function E4(t,e){return(t=e.exec(t))?t[0]:t}function on(t,e,n){return t.replace(e,n)}function Hy(t,e){return t.indexOf(e)}function kr(t,e){return t.charCodeAt(e)|0}function bd(t,e,n){return t.slice(e,n)}function Ts(t){return t.length}function ub(t){return t.length}function mh(t,e){return e.push(t),t}function T4(t,e){return t.map(e).join("")}var vm=1,vc=1,GL=0,ai=0,cr=0,Dc="";function ym(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:vm,column:vc,length:a,return:""}}function Bu(t,e){return b4(ym("",null,null,"",null,null,0),t,{length:-t.length},e)}function C4(){return cr}function w4(){return cr=ai>0?kr(Dc,--ai):0,vc--,cr===10&&(vc=1,vm--),cr}function Ti(){return cr=ai<GL?kr(Dc,ai++):0,vc++,cr===10&&(vc=1,vm++),cr}function ks(){return kr(Dc,ai)}function Jh(){return ai}function jd(t,e){return bd(Dc,t,e)}function Sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VL(t){return vm=vc=1,GL=Ts(Dc=t),ai=0,[]}function KL(t){return Dc="",t}function ep(t){return HL(jd(ai-1,Gy(t===91?t+2:t===40?t+1:t)))}function A4(t){for(;(cr=ks())&&cr<33;)Ti();return Sd(t)>2||Sd(cr)>3?"":" "}function R4(t,e){for(;--e&&Ti()&&!(cr<48||cr>102||cr>57&&cr<65||cr>70&&cr<97););return jd(t,Jh()+(e<6&&ks()==32&&Ti()==32))}function Gy(t){for(;Ti();)switch(cr){case t:return ai;case 34:case 39:t!==34&&t!==39&&Gy(cr);break;case 40:t===41&&Gy(t);break;case 92:Ti();break}return ai}function L4(t,e){for(;Ti()&&t+cr!==57;)if(t+cr===84&&ks()===47)break;return"/*"+jd(e,ai-1)+"*"+gm(t===47?t:Ti())}function I4(t){for(;!Sd(ks());)Ti();return jd(t,ai)}function k4(t){return KL(tp("",null,null,null,[""],t=VL(t),0,[0],t))}function tp(t,e,n,r,i,s,a,l,u){for(var d=0,f=0,p=a,g=0,v=0,y=0,x=1,b=1,T=1,w=0,C="",R=i,L=s,D=r,k=C;b;)switch(y=w,w=Ti()){case 40:if(y!=108&&kr(k,p-1)==58){Hy(k+=on(ep(w),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:k+=ep(w);break;case 9:case 10:case 13:case 32:k+=A4(y);break;case 92:k+=R4(Jh()-1,7);continue;case 47:switch(ks()){case 42:case 47:mh(D4(L4(Ti(),Jh()),e,n),u);break;default:k+="/"}break;case 123*x:l[d++]=Ts(k)*T;case 125*x:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+f:T==-1&&(k=on(k,/\f/g,"")),v>0&&Ts(k)-p&&mh(v>32?ow(k+";",r,n,p-1):ow(on(k," ","")+";",r,n,p-2),u);break;case 59:k+=";";default:if(mh(D=aw(k,e,n,d,f,i,l,C,R=[],L=[],p),s),w===123)if(f===0)tp(k,e,D,D,R,s,p,l,L);else switch(g===99&&kr(k,3)===110?100:g){case 100:case 108:case 109:case 115:tp(t,D,D,r&&mh(aw(t,D,D,0,0,i,l,C,i,R=[],p),L),i,L,p,l,r?R:L);break;default:tp(k,D,D,D,[""],L,0,l,L)}}d=f=v=0,x=T=1,C=k="",p=a;break;case 58:p=1+Ts(k),v=y;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&w4()==125)continue}switch(k+=gm(w),w*x){case 38:T=f>0?1:(k+="\f",-1);break;case 44:l[d++]=(Ts(k)-1)*T,T=1;break;case 64:ks()===45&&(k+=ep(Ti())),g=ks(),f=p=Ts(C=k+=I4(Jh())),w++;break;case 45:y===45&&Ts(k)==2&&(x=0)}}return s}function aw(t,e,n,r,i,s,a,l,u,d,f){for(var p=i-1,g=i===0?s:[""],v=ub(g),y=0,x=0,b=0;y<r;++y)for(var T=0,w=bd(t,p+1,p=x4(x=a[y])),C=t;T<v;++T)(C=HL(x>0?g[T]+" "+w:on(w,/&\f/g,g[T])))&&(u[b++]=C);return ym(t,e,n,i===0?lb:l,u,d,f)}function D4(t,e,n){return ym(t,e,n,UL,gm(C4()),bd(t,2,-2),0)}function ow(t,e,n,r){return ym(t,e,n,cb,bd(t,0,r),bd(t,r+1,-1),r)}function ac(t,e){for(var n="",r=ub(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function _4(t,e,n,r){switch(t.type){case y4:if(t.children.length)break;case v4:case cb:return t.return=t.return||t.value;case UL:return"";case zL:return t.return=t.value+"{"+ac(t.children,r)+"}";case lb:t.value=t.props.join(",")}return Ts(n=ac(t.children,r))?t.return=t.value+"{"+n+"}":""}function P4(t){var e=ub(t);return function(n,r,i,s){for(var a="",l=0;l<e;l++)a+=t[l](n,r,i,s)||"";return a}}function O4(t){return function(e){e.root||(e=e.return)&&t(e)}}function WL(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var M4=function(e,n,r){for(var i=0,s=0;i=s,s=ks(),i===38&&s===12&&(n[r]=1),!Sd(s);)Ti();return jd(e,ai)},F4=function(e,n){var r=-1,i=44;do switch(Sd(i)){case 0:i===38&&ks()===12&&(n[r]=1),e[r]+=M4(ai-1,n,r);break;case 2:e[r]+=ep(i);break;case 4:if(i===44){e[++r]=ks()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=gm(i)}while(i=Ti());return e},N4=function(e,n){return KL(F4(VL(e),n))},lw=new WeakMap,B4=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!lw.get(r))&&!i){lw.set(e,!0);for(var s=[],a=N4(n,s),l=r.props,u=0,d=0;u<a.length;u++)for(var f=0;f<l.length;f++,d++)e.props[d]=s[u]?a[u].replace(/&\f/g,l[f]):l[f]+" "+a[u]}}},$4=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function qL(t,e){switch(S4(t,e)){case 5103:return an+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return an+t+Ip+t+Fr+t+t;case 6828:case 4268:return an+t+Fr+t+t;case 6165:return an+t+Fr+"flex-"+t+t;case 5187:return an+t+on(t,/(\w+).+(:[^]+)/,an+"box-$1$2"+Fr+"flex-$1$2")+t;case 5443:return an+t+Fr+"flex-item-"+on(t,/flex-|-self/,"")+t;case 4675:return an+t+Fr+"flex-line-pack"+on(t,/align-content|flex-|-self/,"")+t;case 5548:return an+t+Fr+on(t,"shrink","negative")+t;case 5292:return an+t+Fr+on(t,"basis","preferred-size")+t;case 6060:return an+"box-"+on(t,"-grow","")+an+t+Fr+on(t,"grow","positive")+t;case 4554:return an+on(t,/([^-])(transform)/g,"$1"+an+"$2")+t;case 6187:return on(on(on(t,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),t,"")+t;case 5495:case 3959:return on(t,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return on(on(t,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+Fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+t+t;case 4095:case 3583:case 4068:case 2532:return on(t,/(.+)-inline(.+)/,an+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ts(t)-1-e>6)switch(kr(t,e+1)){case 109:if(kr(t,e+4)!==45)break;case 102:return on(t,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+Ip+(kr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Hy(t,"stretch")?qL(on(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kr(t,e+1)!==115)break;case 6444:switch(kr(t,Ts(t)-3-(~Hy(t,"!important")&&10))){case 107:return on(t,":",":"+an)+t;case 101:return on(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+an+(kr(t,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+Fr+"$2box$3")+t}break;case 5936:switch(kr(t,e+11)){case 114:return an+t+Fr+on(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return an+t+Fr+on(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return an+t+Fr+on(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return an+t+Fr+t+t}return t}var j4=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case cb:e.return=qL(e.value,e.length);break;case zL:return ac([Bu(e,{value:on(e.value,"@","@"+an)})],i);case lb:if(e.length)return T4(e.props,function(s){switch(E4(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ac([Bu(e,{props:[on(s,/:(read-\w+)/,":"+Ip+"$1")]})],i);case"::placeholder":return ac([Bu(e,{props:[on(s,/:(plac\w+)/,":"+an+"input-$1")]}),Bu(e,{props:[on(s,/:(plac\w+)/,":"+Ip+"$1")]}),Bu(e,{props:[on(s,/:(plac\w+)/,Fr+"input-$1")]})],i)}return""})}},U4=[j4],z4=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var b=x.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||U4,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var b=x.getAttribute("data-emotion").split(" "),T=1;T<b.length;T++)s[b[T]]=!0;l.push(x)});var u,d=[B4,$4];{var f,p=[_4,O4(function(x){f.insert(x)})],g=P4(d.concat(i,p)),v=function(b){return ac(k4(b),g)};u=function(b,T,w,C){f=w,v(b?b+"{"+T.styles+"}":T.styles),C&&(y.inserted[T.name]=!0)}}var y={key:n,sheet:new g4({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return y.sheet.hydrate(l),y},wv={exports:{}},cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function H4(){if(cw)return cn;cw=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function C(L){if(typeof L=="object"&&L!==null){var D=L.$$typeof;switch(D){case e:switch(L=L.type,L){case u:case d:case r:case s:case i:case p:return L;default:switch(L=L&&L.$$typeof,L){case l:case f:case y:case v:case a:return L;default:return D}}case n:return D}}}function R(L){return C(L)===d}return cn.AsyncMode=u,cn.ConcurrentMode=d,cn.ContextConsumer=l,cn.ContextProvider=a,cn.Element=e,cn.ForwardRef=f,cn.Fragment=r,cn.Lazy=y,cn.Memo=v,cn.Portal=n,cn.Profiler=s,cn.StrictMode=i,cn.Suspense=p,cn.isAsyncMode=function(L){return R(L)||C(L)===u},cn.isConcurrentMode=R,cn.isContextConsumer=function(L){return C(L)===l},cn.isContextProvider=function(L){return C(L)===a},cn.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},cn.isForwardRef=function(L){return C(L)===f},cn.isFragment=function(L){return C(L)===r},cn.isLazy=function(L){return C(L)===y},cn.isMemo=function(L){return C(L)===v},cn.isPortal=function(L){return C(L)===n},cn.isProfiler=function(L){return C(L)===s},cn.isStrictMode=function(L){return C(L)===i},cn.isSuspense=function(L){return C(L)===p},cn.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===r||L===d||L===s||L===i||L===p||L===g||typeof L=="object"&&L!==null&&(L.$$typeof===y||L.$$typeof===v||L.$$typeof===a||L.$$typeof===l||L.$$typeof===f||L.$$typeof===b||L.$$typeof===T||L.$$typeof===w||L.$$typeof===x)},cn.typeOf=C,cn}var uw;function G4(){return uw||(uw=1,wv.exports=H4()),wv.exports}var Av,dw;function V4(){if(dw)return Av;dw=1;var t=G4(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function a(y){return t.isMemo(y)?i:s[y.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function v(y,x,b){if(typeof x!="string"){if(g){var T=p(x);T&&T!==g&&v(y,T,b)}var w=u(x);d&&(w=w.concat(d(x)));for(var C=a(y),R=a(x),L=0;L<w.length;++L){var D=w[L];if(!n[D]&&!(b&&b[D])&&!(R&&R[D])&&!(C&&C[D])){var k=f(x,D);try{l(y,D,k)}catch{}}}}return y}return Av=v,Av}V4();var K4=!0;function YL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var db=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||K4===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},fb=function(e,n,r){db(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function W4(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var q4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y4=/[A-Z]|^ms/g,X4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XL=function(e){return e.charCodeAt(1)===45},fw=function(e){return e!=null&&typeof e!="boolean"},Rv=WL(function(t){return XL(t)?t:t.replace(Y4,"-$&").toLowerCase()}),hw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(X4,function(r,i,s){return Cs={name:i,styles:s,next:Cs},i})}return q4[e]!==1&&!XL(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ed(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Cs={name:i.name,styles:i.styles,next:Cs},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Cs={name:a.name,styles:a.styles,next:Cs},a=a.next;var l=s.styles+";";return l}return Q4(t,e,n)}case"function":{if(t!==void 0){var u=Cs,d=n(t);return Cs=u,Ed(t,e,d)}break}}var f=n;if(e==null)return f;var p=e[f];return p!==void 0?p:f}function Q4(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ed(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":fw(l)&&(r+=Rv(s)+":"+hw(s,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)fw(a[u])&&(r+=Rv(s)+":"+hw(s,a[u])+";");else{var d=Ed(t,e,a);switch(s){case"animation":case"animationName":{r+=Rv(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var pw=/label:\s*([^\s;{]+)\s*(;|$)/g,Cs;function Ud(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Cs=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ed(n,e,s);else{var a=s;i+=a[0]}for(var l=1;l<t.length;l++)if(i+=Ed(n,e,t[l]),r){var u=s;i+=u[l]}pw.lastIndex=0;for(var d="",f;(f=pw.exec(i))!==null;)d+="-"+f[1];var p=W4(i)+d;return{name:p,styles:i,next:Cs}}var Z4=function(e){return e()},QL=vp.useInsertionEffect?vp.useInsertionEffect:!1,ZL=QL||Z4,mw=QL||I.useLayoutEffect,JL=I.createContext(typeof HTMLElement<"u"?z4({key:"css"}):null);JL.Provider;var hb=function(e){return I.forwardRef(function(n,r){var i=I.useContext(JL);return e(n,i,r)})},xm=I.createContext({}),pb={}.hasOwnProperty,Vy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",J4=function(e,n){var r={};for(var i in n)pb.call(n,i)&&(r[i]=n[i]);return r[Vy]=e,r},eF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return db(n,r,i),ZL(function(){return fb(n,r,i)}),null},tF=hb(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Vy],s=[r],a="";typeof t.className=="string"?a=YL(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var l=Ud(s,void 0,I.useContext(xm));a+=e.key+"-"+l.name;var u={};for(var d in t)pb.call(t,d)&&d!=="css"&&d!==Vy&&(u[d]=t[d]);return u.className=a,n&&(u.ref=n),I.createElement(I.Fragment,null,I.createElement(eF,{cache:e,serialized:l,isStringTag:typeof i=="string"}),I.createElement(i,u))}),nF=tF,gw=function(e,n){var r=arguments;if(n==null||!pb.call(n,"css"))return I.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=nF,s[1]=J4(e,n);for(var a=2;a<i;a++)s[a]=r[a];return I.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(gw||(gw={}));var rF=hb(function(t,e){var n=t.styles,r=Ud([n],void 0,I.useContext(xm)),i=I.useRef();return mw(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",s),a.hydrate([u])),i.current=[a,l],function(){a.flush()}},[e]),mw(function(){var s=i.current,a=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&fb(e,r.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function _c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ud(e)}function io(){var t=_c.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var iF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sF=WL(function(t){return iF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),aF=sF,oF=function(e){return e!=="theme"},vw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?aF:oF},yw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},lF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return db(n,r,i),ZL(function(){return fb(n,r,i)}),null},cF=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var l=yw(e,n,r),u=l||vw(i),d=!u("as");return function(){var f=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)p.push.apply(p,f);else{var g=f[0];p.push(g[0]);for(var v=f.length,y=1;y<v;y++)p.push(f[y],g[y])}var x=hb(function(b,T,w){var C=d&&b.as||i,R="",L=[],D=b;if(b.theme==null){D={};for(var k in b)D[k]=b[k];D.theme=I.useContext(xm)}typeof b.className=="string"?R=YL(T.registered,L,b.className):b.className!=null&&(R=b.className+" ");var P=Ud(p.concat(L),T.registered,D);R+=T.key+"-"+P.name,a!==void 0&&(R+=" "+a);var F=d&&l===void 0?vw(C):u,O={};for(var $ in b)d&&$==="as"||F($)&&(O[$]=b[$]);return O.className=R,w&&(O.ref=w),I.createElement(I.Fragment,null,I.createElement(lF,{cache:T,serialized:P,isStringTag:typeof C=="string"}),I.createElement(C,O))});return x.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=p,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(b,T){var w=t(b,Lp({},n,T,{shouldForwardProp:yw(x,T,!0)}));return w.apply(void 0,p)},x}},uF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ky=cF.bind(null);uF.forEach(function(t){Ky[t]=Ky(t)});var Lv={exports:{}},Iv,xw;function dF(){if(xw)return Iv;xw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Iv=t,Iv}var kv,bw;function fF(){if(bw)return kv;bw=1;var t=dF();function e(){}function n(){}return n.resetWarningCache=e,kv=function(){function r(a,l,u,d,f,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},kv}var Sw;function hF(){return Sw||(Sw=1,Lv.exports=fF()()),Lv.exports}var pF=hF();const Rn=sm(pF);function mF(t){return t==null||Object.keys(t).length===0}function gF(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(mF(i)?n:i):e;return S.jsx(rF,{styles:r})}function eI(t,e){return Ky(t,e)}function vF(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Ew=[];function Wa(t){return Ew[0]=t,Ud(Ew)}var Dv={exports:{}},Tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function yF(){if(Tw)return Tn;Tw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function y(x){if(typeof x=="object"&&x!==null){var b=x.$$typeof;switch(b){case t:switch(x=x.type,x){case n:case i:case r:case u:case d:case g:return x;default:switch(x=x&&x.$$typeof,x){case a:case l:case p:case f:return x;case s:return x;default:return b}}case e:return b}}}return Tn.ContextConsumer=s,Tn.ContextProvider=a,Tn.Element=t,Tn.ForwardRef=l,Tn.Fragment=n,Tn.Lazy=p,Tn.Memo=f,Tn.Portal=e,Tn.Profiler=i,Tn.StrictMode=r,Tn.Suspense=u,Tn.SuspenseList=d,Tn.isContextConsumer=function(x){return y(x)===s},Tn.isContextProvider=function(x){return y(x)===a},Tn.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Tn.isForwardRef=function(x){return y(x)===l},Tn.isFragment=function(x){return y(x)===n},Tn.isLazy=function(x){return y(x)===p},Tn.isMemo=function(x){return y(x)===f},Tn.isPortal=function(x){return y(x)===e},Tn.isProfiler=function(x){return y(x)===i},Tn.isStrictMode=function(x){return y(x)===r},Tn.isSuspense=function(x){return y(x)===u},Tn.isSuspenseList=function(x){return y(x)===d},Tn.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===a||x.$$typeof===s||x.$$typeof===l||x.$$typeof===v||x.getModuleId!==void 0)},Tn.typeOf=y,Tn}var Cw;function xF(){return Cw||(Cw=1,Dv.exports=yF()),Dv.exports}var tI=xF();function As(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function nI(t){if(I.isValidElement(t)||tI.isValidElementType(t)||!As(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=nI(t[n])}),e}function Er(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return As(t)&&As(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])||tI.isValidElementType(e[i])?r[i]=e[i]:As(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&As(t[i])?r[i]=Er(t[i],e[i],n):n.clone?r[i]=As(e[i])?nI(e[i]):e[i]:r[i]=e[i]}),r}const bF=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function SF(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=bF(e),a=Object.keys(s);function l(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function u(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function d(g,v){const y=a.indexOf(v);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(y!==-1&&typeof e[a[y]]=="number"?e[a[y]]:v)-r/100}${n})`}function f(g){return a.indexOf(g)+1<a.length?d(g,a[a.indexOf(g)+1]):l(g)}function p(g){const v=a.indexOf(g);return v===0?l(a[1]):v===a.length-1?u(a[v]):d(g,a[a.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:l,down:u,between:d,only:f,not:p,unit:n,...i}}function ww(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function EF(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function TF(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function CF(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...l)=>e(t.breakpoints.up(...l),a),s.down=(...l)=>e(t.breakpoints.down(...l),a),s.between=(...l)=>e(t.breakpoints.between(...l),a),s.only=(...l)=>e(t.breakpoints.only(...l),a),s.not=(...l)=>{const u=e(t.breakpoints.not(...l),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const wF={borderRadius:4};function nd(t,e){return e?Er(t,e,{clone:!1}):t}const bm={xs:0,sm:600,md:900,lg:1200,xl:1536},Aw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${bm[t]}px)`},AF={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:bm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function os(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Aw;return e.reduce((a,l,u)=>(a[s.up(s.keys[u])]=n(e[u]),a),{})}if(typeof e=="object"){const s=r.breakpoints||Aw;return Object.keys(e).reduce((a,l)=>{if(EF(s.keys,l)){const u=TF(r.containerQueries?r:AF,l);u&&(a[u]=n(e[l],l))}else if(Object.keys(s.values||bm).includes(l)){const u=s.up(l);a[u]=n(e[l],l)}else{const u=l;a[u]=e[u]}return a},{})}return n(e)}function rI(t={}){return t.keys?.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{})||{}}function Wy(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function RF(t,...e){const n=rI(t),r=[n,...e].reduce((i,s)=>Er(i,s),{});return Wy(Object.keys(n),r)}function LF(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function _v({values:t,breakpoints:e,base:n}){const r=n||LF(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((a,l,u)=>(Array.isArray(t)?(a[l]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(a[l]=t[l]!=null?t[l]:t[s],s=l):a[l]=t,a),{})}function de(t){if(typeof t!="string")throw new Error(ca(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Sm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function kp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Sm(t,n)||r,e&&(i=e(i,r,t)),i}function rr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const l=a[e],u=a.theme,d=Sm(u,r)||{};return os(a,l,p=>{let g=kp(d,i,p);return p===g&&typeof p=="string"&&(g=kp(d,i,`${e}${p==="default"?"":de(p)}`,p)),n===!1?g:{[n]:g}})};return s.propTypes={},s.filterProps=[e],s}function IF(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const kF={m:"margin",p:"padding"},DF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Rw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_F=IF(t=>{if(t.length>2)if(Rw[t])t=Rw[t];else return[t];const[e,n]=t.split(""),r=kF[e],i=DF[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),mb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mb,...gb];function zd(t,e,n,r){const i=Sm(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),l=i[a];return s>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof i=="function"?i:()=>{}}function Em(t){return zd(t,"spacing",8)}function Xo(t,e){return typeof e=="string"||e==null?e:t(e)}function PF(t,e){return n=>t.reduce((r,i)=>(r[i]=Xo(e,n),r),{})}function OF(t,e,n,r){if(!e.includes(n))return null;const i=_F(n),s=PF(i,r),a=t[n];return os(t,a,s)}function iI(t,e){const n=Em(t.theme);return Object.keys(t).map(r=>OF(t,e,r,n)).reduce(nd,{})}function qn(t){return iI(t,mb)}qn.propTypes={};qn.filterProps=mb;function Yn(t){return iI(t,gb)}Yn.propTypes={};Yn.filterProps=gb;function sI(t=8,e=Em({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Tm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?nd(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ui(t){return typeof t!="number"?t:`${t}px solid`}function Yi(t,e){return rr({prop:t,themeKey:"borders",transform:e})}const MF=Yi("border",Ui),FF=Yi("borderTop",Ui),NF=Yi("borderRight",Ui),BF=Yi("borderBottom",Ui),$F=Yi("borderLeft",Ui),jF=Yi("borderColor"),UF=Yi("borderTopColor"),zF=Yi("borderRightColor"),HF=Yi("borderBottomColor"),GF=Yi("borderLeftColor"),VF=Yi("outline",Ui),KF=Yi("outlineColor"),Cm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=zd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Xo(e,r)});return os(t,t.borderRadius,n)}return null};Cm.propTypes={};Cm.filterProps=["borderRadius"];Tm(MF,FF,NF,BF,$F,jF,UF,zF,HF,GF,Cm,VF,KF);const wm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=zd(t.theme,"spacing",8),n=r=>({gap:Xo(e,r)});return os(t,t.gap,n)}return null};wm.propTypes={};wm.filterProps=["gap"];const Am=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=zd(t.theme,"spacing",8),n=r=>({columnGap:Xo(e,r)});return os(t,t.columnGap,n)}return null};Am.propTypes={};Am.filterProps=["columnGap"];const Rm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=zd(t.theme,"spacing",8),n=r=>({rowGap:Xo(e,r)});return os(t,t.rowGap,n)}return null};Rm.propTypes={};Rm.filterProps=["rowGap"];const WF=rr({prop:"gridColumn"}),qF=rr({prop:"gridRow"}),YF=rr({prop:"gridAutoFlow"}),XF=rr({prop:"gridAutoColumns"}),QF=rr({prop:"gridAutoRows"}),ZF=rr({prop:"gridTemplateColumns"}),JF=rr({prop:"gridTemplateRows"}),eN=rr({prop:"gridTemplateAreas"}),tN=rr({prop:"gridArea"});Tm(wm,Am,Rm,WF,qF,YF,XF,QF,ZF,JF,eN,tN);function oc(t,e){return e==="grey"?e:t}const nN=rr({prop:"color",themeKey:"palette",transform:oc}),rN=rr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:oc}),iN=rr({prop:"backgroundColor",themeKey:"palette",transform:oc});Tm(nN,rN,iN);function Ei(t){return t<=1&&t!==0?`${t*100}%`:t}const sN=rr({prop:"width",transform:Ei}),vb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||bm[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ei(n)}};return os(t,t.maxWidth,e)}return null};vb.filterProps=["maxWidth"];const aN=rr({prop:"minWidth",transform:Ei}),oN=rr({prop:"height",transform:Ei}),lN=rr({prop:"maxHeight",transform:Ei}),cN=rr({prop:"minHeight",transform:Ei});rr({prop:"size",cssProperty:"width",transform:Ei});rr({prop:"size",cssProperty:"height",transform:Ei});const uN=rr({prop:"boxSizing"});Tm(sN,vb,aN,oN,lN,cN,uN);const Hd={border:{themeKey:"borders",transform:Ui},borderTop:{themeKey:"borders",transform:Ui},borderRight:{themeKey:"borders",transform:Ui},borderBottom:{themeKey:"borders",transform:Ui},borderLeft:{themeKey:"borders",transform:Ui},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ui},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Cm},color:{themeKey:"palette",transform:oc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:oc},backgroundColor:{themeKey:"palette",transform:oc},p:{style:Yn},pt:{style:Yn},pr:{style:Yn},pb:{style:Yn},pl:{style:Yn},px:{style:Yn},py:{style:Yn},padding:{style:Yn},paddingTop:{style:Yn},paddingRight:{style:Yn},paddingBottom:{style:Yn},paddingLeft:{style:Yn},paddingX:{style:Yn},paddingY:{style:Yn},paddingInline:{style:Yn},paddingInlineStart:{style:Yn},paddingInlineEnd:{style:Yn},paddingBlock:{style:Yn},paddingBlockStart:{style:Yn},paddingBlockEnd:{style:Yn},m:{style:qn},mt:{style:qn},mr:{style:qn},mb:{style:qn},ml:{style:qn},mx:{style:qn},my:{style:qn},margin:{style:qn},marginTop:{style:qn},marginRight:{style:qn},marginBottom:{style:qn},marginLeft:{style:qn},marginX:{style:qn},marginY:{style:qn},marginInline:{style:qn},marginInlineStart:{style:qn},marginInlineEnd:{style:qn},marginBlock:{style:qn},marginBlockStart:{style:qn},marginBlockEnd:{style:qn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wm},rowGap:{style:Rm},columnGap:{style:Am},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ei},maxWidth:{style:vb},minWidth:{transform:Ei},height:{transform:Ei},maxHeight:{transform:Ei},minHeight:{transform:Ei},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dN(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function fN(t,e){return typeof t=="function"?t(e):t}function hN(){function t(n,r,i,s){const a={[n]:r,theme:i},l=s[n];if(!l)return{[n]:r};const{cssProperty:u=n,themeKey:d,transform:f,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const g=Sm(i,d)||{};return p?p(a):os(a,r,y=>{let x=kp(g,f,y);return y===x&&typeof y=="string"&&(x=kp(g,f,`${n}${y==="default"?"":de(y)}`,y)),u===!1?x:{[u]:x}})}function e(n){const{sx:r,theme:i={},nested:s}=n||{};if(!r)return null;const a=i.unstable_sxConfig??Hd;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const f=rI(i.breakpoints),p=Object.keys(f);let g=f;return Object.keys(d).forEach(v=>{const y=fN(d[v],i);if(y!=null)if(typeof y=="object")if(a[v])g=nd(g,t(v,y,i,a));else{const x=os({theme:i},y,b=>({[v]:b}));dN(x,y)?g[v]=e({sx:y,theme:i,nested:!0}):g=nd(g,x)}else g=nd(g,t(v,y,i,a))}),!s&&i.modularCssLayers?{"@layer sx":ww(i,Wy(p,g))}:ww(i,Wy(p,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const Qo=hN();Qo.filterProps=["sx"];function pN(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function Gd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,l=SF(n),u=sI(i);let d=Er({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...wF,...s}},a);return d=CF(d),d.applyStyles=pN,d=e.reduce((f,p)=>Er(f,p),d),d.unstable_sxConfig={...Hd,...a?.unstable_sxConfig},d.unstable_sx=function(p){return Qo({sx:p,theme:this})},d}function mN(t){return Object.keys(t).length===0}function gN(t=null){const e=I.useContext(xm);return!e||mN(e)?t:e}const vN=Gd();function Vd(t=vN){return gN(t)}function Pv(t){const e=Wa(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function yN({styles:t,themeId:e,defaultTheme:n={}}){const r=Vd(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(a=>Pv(typeof a=="function"?a(i):a)):s=Pv(s)),S.jsx(gF,{styles:s})}const xN=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??Hd;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function Lm(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=xN(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const l=e(...a);return As(l)?{...r,...l}:r}:s={...r,...e},{...i,sx:s}}const Lw=t=>t,bN=()=>{let t=Lw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Lw}}},aI=bN();function oI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=oI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=oI(t))&&(r&&(r+=" "),r+=e);return r}function SN(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=eI("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Qo);return I.forwardRef(function(u,d){const f=Vd(n),{className:p,component:g="div",...v}=Lm(u);return S.jsx(s,{as:g,ref:d,className:_e(p,i?i(r):r),theme:e&&f[e]||f,...v})})}const EN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function it(t,e,n="Mui"){const r=EN[e];return r?`${n}-${r}`:`${aI.generate(t)}-${e}`}function at(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=it(t,i,n)}),r}function lI(t){const{variants:e,...n}=t,r={variants:e,style:Wa(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Wa(i.style))}),r}const TN=Gd();function Ov(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function No(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function CN(t){return t?(e,n)=>n[t]:null}function wN(t,e,n){t.theme=RN(t.theme)?n:t.theme[e]||t.theme}function np(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>np(t,i,n));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=n?No(r.style,n):r.style;else{const{variants:s,...a}=r;i=n?No(Wa(a),n):a}return cI(t,r.variants,[i],n)}return r?.isProcessed?n?No(Wa(r.style),n):r.style:n?No(Wa(r),n):r}function cI(t,e,n=[],r=void 0){let i;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!a.props(i))continue}else for(const l in a.props)if(t[l]!==a.props[l]&&t.ownerState?.[l]!==a.props[l])continue e;typeof a.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?No(Wa(a.style(i)),r):a.style(i))):n.push(r?No(Wa(a.style),r):a.style)}return n}function uI(t={}){const{themeId:e,defaultTheme:n=TN,rootShouldForwardProp:r=Ov,slotShouldForwardProp:i=Ov}=t;function s(l){wN(l,e,n)}return(l,u={})=>{vF(l,D=>D.filter(k=>k!==Qo));const{name:d,slot:f,skipVariantsResolver:p,skipSx:g,overridesResolver:v=CN(IN(f)),...y}=u,x=d&&d.startsWith("Mui")||f?"components":"custom",b=p!==void 0?p:f&&f!=="Root"&&f!=="root"||!1,T=g||!1;let w=Ov;f==="Root"||f==="root"?w=r:f?w=i:LN(l)&&(w=void 0);const C=eI(l,{shouldForwardProp:w,label:AN(),...y}),R=D=>{if(D.__emotion_real===D)return D;if(typeof D=="function")return function(P){return np(P,D,P.theme.modularCssLayers?x:void 0)};if(As(D)){const k=lI(D);return function(F){return k.variants?np(F,k,F.theme.modularCssLayers?x:void 0):F.theme.modularCssLayers?No(k.style,x):k.style}}return D},L=(...D)=>{const k=[],P=D.map(R),F=[];if(k.push(s),d&&v&&F.push(function(K){const G=K.theme.components?.[d]?.styleOverrides;if(!G)return null;const N={};for(const q in G)N[q]=np(K,G[q],K.theme.modularCssLayers?"theme":void 0);return v(K,N)}),d&&!b&&F.push(function(K){const G=K.theme?.components?.[d]?.variants;return G?cI(K,G,[],K.theme.modularCssLayers?"theme":void 0):null}),T||F.push(Qo),Array.isArray(P[0])){const _=P.shift(),K=new Array(k.length).fill(""),z=new Array(F.length).fill("");let G;G=[...K,..._,...z],G.raw=[...K,..._.raw,...z],k.unshift(G)}const O=[...k,...P,...F],$=C(...O);return l.muiName&&($.muiName=l.muiName),$};return C.withConfig&&(L.withConfig=C.withConfig),L}}function AN(t,e){return void 0}function RN(t){for(const e in t)return!1;return!0}function LN(t){return typeof t=="string"&&t.charCodeAt(0)>96}function IN(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const dI=uI();function yc(t,e,n=!1){const r={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=i;if(s==="components"||s==="slots")r[s]={...t[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const a=t[s],l=e[s];if(!l)r[s]=a||{};else if(!a)r[s]=l;else{r[s]={...l};for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const d=u;r[s][d]=yc(a[d],l[d],n)}}}else s==="className"&&n&&e.className?r.className=_e(t?.className,e?.className):s==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[s]===void 0&&(r[s]=t[s])}return r}function kN(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:yc(e.components[n].defaultProps,r)}function fI({props:t,name:e,defaultTheme:n,themeId:r}){let i=Vd(n);return r&&(i=i[r]||i),kN({theme:i,name:e,props:t})}const Ri=typeof window<"u"?I.useLayoutEffect:I.useEffect;function ec(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function yb(t,e=0,n=1){return ec(t,e,n)}function DN(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qa(t){if(t.type)return t;if(t.charAt(0)==="#")return Qa(DN(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ca(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ca(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const _N=t=>{const e=Qa(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Qu=(t,e)=>{try{return _N(t)}catch{return t}};function Im(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function hI(t){t=Qa(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(d,f=(d+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let l="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",u.push(e[3])),Im({type:l,values:u})}function qy(t){t=Qa(t);let e=t.type==="hsl"||t.type==="hsla"?Qa(hI(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function PN(t,e){const n=qy(t),r=qy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Dp(t,e){return t=Qa(t),e=yb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Im(t)}function wo(t,e,n){try{return Dp(t,e)}catch{return t}}function km(t,e){if(t=Qa(t),e=yb(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Im(t)}function pn(t,e,n){try{return km(t,e)}catch{return t}}function Dm(t,e){if(t=Qa(t),e=yb(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Im(t)}function mn(t,e,n){try{return Dm(t,e)}catch{return t}}function Yy(t,e=.15){return qy(t)>.5?km(t,e):Dm(t,e)}function gh(t,e,n){try{return Yy(t,e)}catch{return t}}const ON=I.createContext(),so=()=>I.useContext(ON)??!1,MN=I.createContext(void 0);function FN(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?yc(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?yc(i,r,e.components.mergeClassNameAndStyle):r}function NN({props:t,name:e}){const n=I.useContext(MN);return FN({props:t,name:e,theme:{components:n}})}let Iw=0;function BN(t){const[e,n]=I.useState(t),r=t||e;return I.useEffect(()=>{e==null&&(Iw+=1,n(`mui-${Iw}`))},[e]),r}const $N={...vp},kw=$N.useId;function il(t){if(kw!==void 0){const e=kw();return t??e}return BN(t)}const Dw={theme:void 0};function jN(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(Dw.theme=i.theme,s=lI(t(Dw)),e=s,n=i.theme),s}}function UN(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const _w=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},zN=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([l,u])=>{(!n||n&&!n([...s,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,l],Array.isArray(u)?[...a,l]:a):e([...s,l],u,a))})}r(t)},HN=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Mv(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return zN(t,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const f=`--${n?`${n}-`:""}${l.join("-")}`,p=HN(l,u);Object.assign(i,{[f]:p}),_w(s,l,`var(${f})`,d),_w(a,l,`var(${f}, ${p})`,d)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function GN(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:s}=e,{colorSchemes:a={},components:l,defaultColorScheme:u="light",...d}=t,{vars:f,css:p,varsWithDefaults:g}=Mv(d,e);let v=g;const y={},{[u]:x,...b}=a;if(Object.entries(b||{}).forEach(([R,L])=>{const{vars:D,css:k,varsWithDefaults:P}=Mv(L,e);v=Er(v,P),y[R]={css:k,vars:D}}),x){const{css:R,vars:L,varsWithDefaults:D}=Mv(x,e);v=Er(v,D),y[u]={css:R,vars:L}}function T(R,L){let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),R){if(D==="media")return t.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${a[R]?.palette?.mode||R})`]:{":root":L}};if(D)return t.defaultColorScheme===R?`:root, ${D.replace("%s",String(R))}`:D.replace("%s",String(R))}return":root"}return{vars:v,generateThemeVars:()=>{let R={...f};return Object.entries(y).forEach(([,{vars:L}])=>{R=Er(R,L)}),R},generateStyleSheets:()=>{const R=[],L=t.defaultColorScheme||"light";function D(F,O){Object.keys(O).length&&R.push(typeof F=="string"?{[F]:{...O}}:F)}D(n(void 0,{...p}),p);const{[L]:k,...P}=y;if(k){const{css:F}=k,O=a[L]?.palette?.mode,$=!r&&O?{colorScheme:O,...F}:{...F};D(n(L,{...$}),$)}return Object.entries(P).forEach(([F,{css:O}])=>{const $=a[F]?.palette?.mode,_=!r&&$?{colorScheme:$,...O}:{...O};D(n(F,{..._}),_)}),s&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function VN(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function st(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",l=!0;for(let u=0;u<s.length;u+=1){const d=s[u];d&&(a+=(l===!0?"":" ")+e(d),l=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}function rd(t,e){return I.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const KN=(t,e)=>t.filter(n=>e.includes(n)),Pc=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,s)=>{n((a,l)=>{s<=t.keys.length-1&&(s===0?Object.assign(a,l):a[t.up(t.keys[s])]=l)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:KN(t.keys,Object.keys(e))).forEach(s=>{if(t.keys.includes(s)){const a=e[s];a!==void 0&&n((l,u)=>{r===s?Object.assign(l,u):l[t.up(s)]=u},a)}}):(typeof e=="number"||typeof e=="string")&&n((i,s)=>{Object.assign(i,s)},e)};function _p(t){return`--Grid-${t}Spacing`}function _m(t){return`--Grid-parent-${t}Spacing`}const Pw="--Grid-columns",lc="--Grid-parent-columns",WN=({theme:t,ownerState:e})=>{const n={};return Pc(t.breakpoints,e.size,(r,i)=>{let s={};i==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${lc}) - (var(${lc}) - ${i}) * (var(${_m("column")}) / var(${lc})))`}),r(n,s)}),n},qN=({theme:t,ownerState:e})=>{const n={};return Pc(t.breakpoints,e.offset,(r,i)=>{let s={};i==="auto"&&(s={marginLeft:"auto"}),typeof i=="number"&&(s={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${lc}) + var(${_m("column")}) * ${i} / var(${lc}))`}),r(n,s)}),n},YN=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[Pw]:12};return Pc(t.breakpoints,e.columns,(r,i)=>{const s=i??12;r(n,{[Pw]:s,"> *":{[lc]:s}})}),n},XN=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Pc(t.breakpoints,e.rowSpacing,(r,i)=>{const s=typeof i=="string"?i:t.spacing?.(i);r(n,{[_p("row")]:s,"> *":{[_m("row")]:s}})}),n},QN=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Pc(t.breakpoints,e.columnSpacing,(r,i)=>{const s=typeof i=="string"?i:t.spacing?.(i);r(n,{[_p("column")]:s,"> *":{[_m("column")]:s}})}),n},ZN=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Pc(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},JN=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${_p("row")}) var(${_p("column")})`}}),eB=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},tB=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,s])=>{n(s)&&r.push(`spacing-${i}-${String(s)}`)}),r}return[]},nB=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function rB(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const iB=Gd(),sB=dI("div",{name:"MuiGrid",slot:"Root"});function aB(t){return fI({props:t,name:"MuiGrid",defaultTheme:iB})}function oB(t={}){const{createStyledComponent:e=sB,useThemeProps:n=aB,useTheme:r=Vd,componentName:i="MuiGrid"}=t,s=(d,f)=>{const{container:p,direction:g,spacing:v,wrap:y,size:x}=d,b={root:["root",p&&"container",y!=="wrap"&&`wrap-xs-${String(y)}`,...nB(g),...eB(x),...p?tB(v,f.breakpoints.keys[0]):[]]};return st(b,T=>it(i,T),{})};function a(d,f,p=()=>!0){const g={};return d===null||(Array.isArray(d)?d.forEach((v,y)=>{v!==null&&p(v)&&f.keys[y]&&(g[f.keys[y]]=v)}):typeof d=="object"?Object.keys(d).forEach(v=>{const y=d[v];y!=null&&p(y)&&(g[v]=y)}):g[f.keys[0]]=d),g}const l=e(YN,QN,XN,WN,ZN,JN,qN),u=I.forwardRef(function(f,p){const g=r(),v=n(f),y=Lm(v);rB(y,g.breakpoints);const{className:x,children:b,columns:T=12,container:w=!1,component:C="div",direction:R="row",wrap:L="wrap",size:D={},offset:k={},spacing:P=0,rowSpacing:F=P,columnSpacing:O=P,unstable_level:$=0,..._}=y,K=a(D,g.breakpoints,U=>U!==!1),z=a(k,g.breakpoints),G=f.columns??($?void 0:T),N=f.spacing??($?void 0:P),q=f.rowSpacing??f.spacing??($?void 0:F),H=f.columnSpacing??f.spacing??($?void 0:O),W={...y,level:$,columns:G,container:w,direction:R,wrap:L,spacing:N,rowSpacing:q,columnSpacing:H,size:K,offset:z},j=s(W,g);return S.jsx(l,{ref:p,as:C,ownerState:W,className:_e(j.root,x),..._,children:I.Children.map(b,U=>I.isValidElement(U)&&rd(U,["Grid"])&&w&&U.props.container?I.cloneElement(U,{unstable_level:U.props?.unstable_level??$+1}):U)})});return u.muiName="Grid",u}const lB=Gd(),cB=dI("div",{name:"MuiStack",slot:"Root"});function uB(t){return fI({props:t,name:"MuiStack",defaultTheme:lB})}function dB(t,e){const n=I.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(I.cloneElement(e,{key:`separator-${s}`})),r),[])}const fB=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],hB=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...os({theme:e},_v({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=Em(e),i=Object.keys(e.breakpoints.values).reduce((u,d)=>((typeof t.spacing=="object"&&t.spacing[d]!=null||typeof t.direction=="object"&&t.direction[d]!=null)&&(u[d]=!0),u),{}),s=_v({values:t.direction,base:i}),a=_v({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((u,d,f)=>{if(!s[u]){const g=d>0?s[f[d-1]]:"column";s[u]=g}}),n=Er(n,os({theme:e},a,(u,d)=>t.useFlexGap?{gap:Xo(r,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${fB(d?s[d]:t.direction)}`]:Xo(r,u)}}))}return n=RF(e.breakpoints,n),n};function pB(t={}){const{createStyledComponent:e=cB,useThemeProps:n=uB,componentName:r="MuiStack"}=t,i=()=>st({root:["root"]},u=>it(r,u),{}),s=e(hB);return I.forwardRef(function(u,d){const f=n(u),p=Lm(f),{component:g="div",direction:v="column",spacing:y=0,divider:x,children:b,className:T,useFlexGap:w=!1,...C}=p,R={direction:v,spacing:y,useFlexGap:w},L=i();return S.jsx(s,{as:g,ownerState:R,ref:d,className:_e(L.root,T),...C,children:x?dB(b,x):b})})}function pI(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xd.white,default:xd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mI=pI();function gI(){return{text:{primary:xd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Xy=gI();function Ow(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Dm(t.main,i):e==="dark"&&(t.dark=km(t.main,s)))}function Mw(t,e,n,r,i){const s=i.light||i,a=i.dark||i*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function mB(t="light"){return t==="dark"?{main:Vl[200],light:Vl[50],dark:Vl[400]}:{main:Vl[700],light:Vl[400],dark:Vl[800]}}function gB(t="light"){return t==="dark"?{main:Gl[200],light:Gl[50],dark:Gl[400]}:{main:Gl[500],light:Gl[300],dark:Gl[700]}}function vB(t="light"){return t==="dark"?{main:Hl[500],light:Hl[300],dark:Hl[700]}:{main:Hl[700],light:Hl[400],dark:Hl[800]}}function yB(t="light"){return t==="dark"?{main:Kl[400],light:Kl[300],dark:Kl[700]}:{main:Kl[700],light:Kl[500],dark:Kl[900]}}function xB(t="light"){return t==="dark"?{main:Wl[400],light:Wl[300],dark:Wl[700]}:{main:Wl[800],light:Wl[500],dark:Wl[900]}}function bB(t="light"){return t==="dark"?{main:Nu[400],light:Nu[300],dark:Nu[700]}:{main:"#ed6c02",light:Nu[500],dark:Nu[900]}}function SB(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function xb(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i,...s}=t,a=t.primary||mB(e),l=t.secondary||gB(e),u=t.error||vB(e),d=t.info||yB(e),f=t.success||xB(e),p=t.warning||bB(e);function g(b){return i?SB(b):PN(b,Xy.text.primary)>=n?Xy.text.primary:mI.text.primary}const v=({color:b,name:T,mainShade:w=500,lightShade:C=300,darkShade:R=700})=>{if(b={...b},!b.main&&b[w]&&(b.main=b[w]),!b.hasOwnProperty("main"))throw new Error(ca(11,T?` (${T})`:"",w));if(typeof b.main!="string")throw new Error(ca(12,T?` (${T})`:"",JSON.stringify(b.main)));return i?(Mw(i,b,"light",C,r),Mw(i,b,"dark",R,r)):(Ow(b,"light",C,r),Ow(b,"dark",R,r)),b.contrastText||(b.contrastText=g(b.main)),b};let y;return e==="light"?y=pI():e==="dark"&&(y=gI()),Er({common:{...xd},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:u,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:h4,contrastThreshold:n,getContrastText:g,augmentColor:v,tonalOffset:r,...y},s)}function EB(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function TB(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function CB(t){return Math.round(t*1e5)/1e5}const Fw={textTransform:"uppercase"},Nw='"Roboto", "Helvetica", "Arial", sans-serif';function wB(t,e){const{fontFamily:n=Nw,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:f,...p}=typeof e=="function"?e(t):e,g=r/14,v=f||(b=>`${b/u*g}rem`),y=(b,T,w,C,R)=>({fontFamily:n,fontWeight:b,fontSize:v(T),lineHeight:w,...n===Nw?{letterSpacing:`${CB(C/T)}em`}:{},...R,...d}),x={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(a,14,1.75,.4,Fw),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,Fw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Er({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l,...x},p,{clone:!1})}const AB=.2,RB=.14,LB=.12;function On(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${AB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${RB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${LB})`].join(",")}const IB=["none",On(0,2,1,-1,0,1,1,0,0,1,3,0),On(0,3,1,-2,0,2,2,0,0,1,5,0),On(0,3,3,-2,0,3,4,0,0,1,8,0),On(0,2,4,-1,0,4,5,0,0,1,10,0),On(0,3,5,-1,0,5,8,0,0,1,14,0),On(0,3,5,-1,0,6,10,0,0,1,18,0),On(0,4,5,-2,0,7,10,1,0,2,16,1),On(0,5,5,-3,0,8,10,1,0,3,14,2),On(0,5,6,-3,0,9,12,1,0,3,16,2),On(0,6,6,-3,0,10,14,1,0,4,18,3),On(0,6,7,-4,0,11,15,1,0,4,20,3),On(0,7,8,-4,0,12,17,2,0,5,22,4),On(0,7,8,-4,0,13,19,2,0,5,24,4),On(0,7,9,-4,0,14,21,2,0,5,26,4),On(0,8,9,-5,0,15,22,2,0,6,28,5),On(0,8,10,-5,0,16,24,2,0,6,30,5),On(0,8,11,-5,0,17,26,2,0,6,32,5),On(0,9,11,-5,0,18,28,2,0,7,34,6),On(0,9,12,-6,0,19,29,2,0,7,36,6),On(0,10,13,-6,0,20,31,3,0,8,38,7),On(0,10,13,-6,0,21,33,3,0,8,40,7),On(0,10,14,-6,0,22,35,3,0,8,42,7),On(0,11,14,-7,0,23,36,3,0,9,44,8),On(0,11,15,-7,0,24,38,3,0,9,46,8)],kB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},DB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Bw(t){return`${Math.round(t)}ms`}function _B(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function PB(t){const e={...kB,...t.easing},n={...DB,...t.duration};return{getAutoHeightDuration:_B,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:l=e.easeInOut,delay:u=0,...d}=s;return(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof a=="string"?a:Bw(a)} ${l} ${typeof u=="string"?u:Bw(u)}`).join(",")},...t,easing:e,duration:n}}const OB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function MB(t){return As(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function vI(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,l]=i[s];!MB(l)||a.startsWith("unstable_")?delete r[a]:As(l)&&(r[a]={...l},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function $w(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const FB=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function NB(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Dp(e,FB(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${$w(n)})`:Dm(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${$w(n)})`:km(e,n)}})}function Qy(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:l={},shape:u,colorSpace:d,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ca(20));const p=xb({...s,colorSpace:d}),g=Gd(t);let v=Er(g,{mixins:TB(g.breakpoints,r),palette:p,shadows:IB.slice(),typography:wB(p,l),transitions:PB(a),zIndex:{...OB}});return v=Er(v,f),v=e.reduce((y,x)=>Er(y,x),v),v.unstable_sxConfig={...Hd,...f?.unstable_sxConfig},v.unstable_sx=function(x){return Qo({sx:x,theme:this})},v.toRuntimeSource=vI,NB(v),v}function Zy(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const BB=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Zy(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function yI(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function xI(t){return t==="dark"?BB:[]}function $B(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:i,...s}=t,a=xb({...e,colorSpace:i});return{palette:a,opacity:{...yI(a.mode),...n},overlays:r||xI(a.mode),...s}}function jB(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const UB=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],zB=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return UB(t.cssVarPrefix).forEach(l=>{a[l]=n[l],delete n[l]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function HB(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function xe(t,e,n){!t[e]&&n&&(t[e]=n)}function Zu(t){return typeof t!="string"||!t.startsWith("hsl")?t:hI(t)}function Js(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Qu(Zu(t[e])))}function GB(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const gs=t=>{try{return t()}catch{}},VB=(t="mui")=>UN(t);function Fv(t,e,n,r,i){if(!n)return;n=n===!0?{}:n;const s=i==="dark"?"dark":"light";if(!r){e[i]=$B({...n,palette:{mode:s,...n?.palette},colorSpace:t});return}const{palette:a,...l}=Qy({...r,palette:{mode:s,...n?.palette},colorSpace:t});return e[i]={...n,palette:a,opacity:{...yI(s),...n?.opacity},overlays:n?.overlays||xI(s)},l}function KB(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:l=jB,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...f}=t,p=Object.keys(n)[0],g=r||(n.light&&p!=="light"?"light":p),v=VB(s),{[g]:y,light:x,dark:b,...T}=n,w={...T};let C=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(ca(21,g));let R;a&&(R="oklch");const L=Fv(R,w,C,f,g);x&&!w.light&&Fv(R,w,x,void 0,"light"),b&&!w.dark&&Fv(R,w,b,void 0,"dark");let D={defaultColorScheme:g,...L,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:v,colorSchemes:w,font:{...EB(L.typography),...L.font},spacing:GB(f.spacing)};Object.keys(D.colorSchemes).forEach($=>{const _=D.colorSchemes[$].palette,K=G=>{const N=G.split("-"),q=N[1],H=N[2];return v(G,_[q][H])};_.mode==="light"&&(xe(_.common,"background","#fff"),xe(_.common,"onBackground","#000")),_.mode==="dark"&&(xe(_.common,"background","#000"),xe(_.common,"onBackground","#fff"));function z(G,N,q){if(R){let H;return G===wo&&(H=`transparent ${((1-q)*100).toFixed(0)}%`),G===pn&&(H=`#000 ${(q*100).toFixed(0)}%`),G===mn&&(H=`#fff ${(q*100).toFixed(0)}%`),`color-mix(in ${R}, ${N}, ${H})`}return G(N,q)}if(HB(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){xe(_.Alert,"errorColor",z(pn,_.error.light,.6)),xe(_.Alert,"infoColor",z(pn,_.info.light,.6)),xe(_.Alert,"successColor",z(pn,_.success.light,.6)),xe(_.Alert,"warningColor",z(pn,_.warning.light,.6)),xe(_.Alert,"errorFilledBg",K("palette-error-main")),xe(_.Alert,"infoFilledBg",K("palette-info-main")),xe(_.Alert,"successFilledBg",K("palette-success-main")),xe(_.Alert,"warningFilledBg",K("palette-warning-main")),xe(_.Alert,"errorFilledColor",gs(()=>_.getContrastText(_.error.main))),xe(_.Alert,"infoFilledColor",gs(()=>_.getContrastText(_.info.main))),xe(_.Alert,"successFilledColor",gs(()=>_.getContrastText(_.success.main))),xe(_.Alert,"warningFilledColor",gs(()=>_.getContrastText(_.warning.main))),xe(_.Alert,"errorStandardBg",z(mn,_.error.light,.9)),xe(_.Alert,"infoStandardBg",z(mn,_.info.light,.9)),xe(_.Alert,"successStandardBg",z(mn,_.success.light,.9)),xe(_.Alert,"warningStandardBg",z(mn,_.warning.light,.9)),xe(_.Alert,"errorIconColor",K("palette-error-main")),xe(_.Alert,"infoIconColor",K("palette-info-main")),xe(_.Alert,"successIconColor",K("palette-success-main")),xe(_.Alert,"warningIconColor",K("palette-warning-main")),xe(_.AppBar,"defaultBg",K("palette-grey-100")),xe(_.Avatar,"defaultBg",K("palette-grey-400")),xe(_.Button,"inheritContainedBg",K("palette-grey-300")),xe(_.Button,"inheritContainedHoverBg",K("palette-grey-A100")),xe(_.Chip,"defaultBorder",K("palette-grey-400")),xe(_.Chip,"defaultAvatarColor",K("palette-grey-700")),xe(_.Chip,"defaultIconColor",K("palette-grey-700")),xe(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),xe(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),xe(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),xe(_.LinearProgress,"primaryBg",z(mn,_.primary.main,.62)),xe(_.LinearProgress,"secondaryBg",z(mn,_.secondary.main,.62)),xe(_.LinearProgress,"errorBg",z(mn,_.error.main,.62)),xe(_.LinearProgress,"infoBg",z(mn,_.info.main,.62)),xe(_.LinearProgress,"successBg",z(mn,_.success.main,.62)),xe(_.LinearProgress,"warningBg",z(mn,_.warning.main,.62)),xe(_.Skeleton,"bg",R?z(wo,_.text.primary,.11):`rgba(${K("palette-text-primaryChannel")} / 0.11)`),xe(_.Slider,"primaryTrack",z(mn,_.primary.main,.62)),xe(_.Slider,"secondaryTrack",z(mn,_.secondary.main,.62)),xe(_.Slider,"errorTrack",z(mn,_.error.main,.62)),xe(_.Slider,"infoTrack",z(mn,_.info.main,.62)),xe(_.Slider,"successTrack",z(mn,_.success.main,.62)),xe(_.Slider,"warningTrack",z(mn,_.warning.main,.62));const G=R?z(pn,_.background.default,.6825):gh(_.background.default,.8);xe(_.SnackbarContent,"bg",G),xe(_.SnackbarContent,"color",gs(()=>R?Xy.text.primary:_.getContrastText(G))),xe(_.SpeedDialAction,"fabHoverBg",gh(_.background.paper,.15)),xe(_.StepConnector,"border",K("palette-grey-400")),xe(_.StepContent,"border",K("palette-grey-400")),xe(_.Switch,"defaultColor",K("palette-common-white")),xe(_.Switch,"defaultDisabledColor",K("palette-grey-100")),xe(_.Switch,"primaryDisabledColor",z(mn,_.primary.main,.62)),xe(_.Switch,"secondaryDisabledColor",z(mn,_.secondary.main,.62)),xe(_.Switch,"errorDisabledColor",z(mn,_.error.main,.62)),xe(_.Switch,"infoDisabledColor",z(mn,_.info.main,.62)),xe(_.Switch,"successDisabledColor",z(mn,_.success.main,.62)),xe(_.Switch,"warningDisabledColor",z(mn,_.warning.main,.62)),xe(_.TableCell,"border",z(mn,z(wo,_.divider,1),.88)),xe(_.Tooltip,"bg",z(wo,_.grey[700],.92))}if(_.mode==="dark"){xe(_.Alert,"errorColor",z(mn,_.error.light,.6)),xe(_.Alert,"infoColor",z(mn,_.info.light,.6)),xe(_.Alert,"successColor",z(mn,_.success.light,.6)),xe(_.Alert,"warningColor",z(mn,_.warning.light,.6)),xe(_.Alert,"errorFilledBg",K("palette-error-dark")),xe(_.Alert,"infoFilledBg",K("palette-info-dark")),xe(_.Alert,"successFilledBg",K("palette-success-dark")),xe(_.Alert,"warningFilledBg",K("palette-warning-dark")),xe(_.Alert,"errorFilledColor",gs(()=>_.getContrastText(_.error.dark))),xe(_.Alert,"infoFilledColor",gs(()=>_.getContrastText(_.info.dark))),xe(_.Alert,"successFilledColor",gs(()=>_.getContrastText(_.success.dark))),xe(_.Alert,"warningFilledColor",gs(()=>_.getContrastText(_.warning.dark))),xe(_.Alert,"errorStandardBg",z(pn,_.error.light,.9)),xe(_.Alert,"infoStandardBg",z(pn,_.info.light,.9)),xe(_.Alert,"successStandardBg",z(pn,_.success.light,.9)),xe(_.Alert,"warningStandardBg",z(pn,_.warning.light,.9)),xe(_.Alert,"errorIconColor",K("palette-error-main")),xe(_.Alert,"infoIconColor",K("palette-info-main")),xe(_.Alert,"successIconColor",K("palette-success-main")),xe(_.Alert,"warningIconColor",K("palette-warning-main")),xe(_.AppBar,"defaultBg",K("palette-grey-900")),xe(_.AppBar,"darkBg",K("palette-background-paper")),xe(_.AppBar,"darkColor",K("palette-text-primary")),xe(_.Avatar,"defaultBg",K("palette-grey-600")),xe(_.Button,"inheritContainedBg",K("palette-grey-800")),xe(_.Button,"inheritContainedHoverBg",K("palette-grey-700")),xe(_.Chip,"defaultBorder",K("palette-grey-700")),xe(_.Chip,"defaultAvatarColor",K("palette-grey-300")),xe(_.Chip,"defaultIconColor",K("palette-grey-300")),xe(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),xe(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),xe(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),xe(_.LinearProgress,"primaryBg",z(pn,_.primary.main,.5)),xe(_.LinearProgress,"secondaryBg",z(pn,_.secondary.main,.5)),xe(_.LinearProgress,"errorBg",z(pn,_.error.main,.5)),xe(_.LinearProgress,"infoBg",z(pn,_.info.main,.5)),xe(_.LinearProgress,"successBg",z(pn,_.success.main,.5)),xe(_.LinearProgress,"warningBg",z(pn,_.warning.main,.5)),xe(_.Skeleton,"bg",R?z(wo,_.text.primary,.13):`rgba(${K("palette-text-primaryChannel")} / 0.13)`),xe(_.Slider,"primaryTrack",z(pn,_.primary.main,.5)),xe(_.Slider,"secondaryTrack",z(pn,_.secondary.main,.5)),xe(_.Slider,"errorTrack",z(pn,_.error.main,.5)),xe(_.Slider,"infoTrack",z(pn,_.info.main,.5)),xe(_.Slider,"successTrack",z(pn,_.success.main,.5)),xe(_.Slider,"warningTrack",z(pn,_.warning.main,.5));const G=R?z(mn,_.background.default,.985):gh(_.background.default,.98);xe(_.SnackbarContent,"bg",G),xe(_.SnackbarContent,"color",gs(()=>R?mI.text.primary:_.getContrastText(G))),xe(_.SpeedDialAction,"fabHoverBg",gh(_.background.paper,.15)),xe(_.StepConnector,"border",K("palette-grey-600")),xe(_.StepContent,"border",K("palette-grey-600")),xe(_.Switch,"defaultColor",K("palette-grey-300")),xe(_.Switch,"defaultDisabledColor",K("palette-grey-600")),xe(_.Switch,"primaryDisabledColor",z(pn,_.primary.main,.55)),xe(_.Switch,"secondaryDisabledColor",z(pn,_.secondary.main,.55)),xe(_.Switch,"errorDisabledColor",z(pn,_.error.main,.55)),xe(_.Switch,"infoDisabledColor",z(pn,_.info.main,.55)),xe(_.Switch,"successDisabledColor",z(pn,_.success.main,.55)),xe(_.Switch,"warningDisabledColor",z(pn,_.warning.main,.55)),xe(_.TableCell,"border",z(pn,z(wo,_.divider,1),.68)),xe(_.Tooltip,"bg",z(wo,_.grey[700],.92))}Js(_.background,"default"),Js(_.background,"paper"),Js(_.common,"background"),Js(_.common,"onBackground"),Js(_,"divider"),Object.keys(_).forEach(G=>{const N=_[G];G!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&xe(_[G],"mainChannel",Qu(Zu(N.main))),N.light&&xe(_[G],"lightChannel",Qu(Zu(N.light))),N.dark&&xe(_[G],"darkChannel",Qu(Zu(N.dark))),N.contrastText&&xe(_[G],"contrastTextChannel",Qu(Zu(N.contrastText))),G==="text"&&(Js(_[G],"primary"),Js(_[G],"secondary")),G==="action"&&(N.active&&Js(_[G],"active"),N.selected&&Js(_[G],"selected")))})}),D=e.reduce(($,_)=>Er($,_),D);const k={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:zB(D),enableContrastVars:a},{vars:P,generateThemeVars:F,generateStyleSheets:O}=GN(D,k);return D.vars=P,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([$,_])=>{D[$]=_}),D.generateThemeVars=F,D.generateStyleSheets=O,D.generateSpacing=function(){return sI(f.spacing,Em(this))},D.getColorSchemeSelector=VN(u),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=l,D.unstable_sxConfig={...Hd,...f?.unstable_sxConfig},D.unstable_sx=function(_){return Qo({sx:_,theme:this})},D.toRuntimeSource=vI,D}function jw(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:xb({...n===!0?{}:n.palette,mode:e})})}function bI(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n?.mode,...a}=t,l=s||"light",u=i?.[l],d={...i,...n?{[l]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Qy(t,...e);let f=n;"palette"in t||d[l]&&(d[l]!==!0?f=d[l].palette:l==="dark"&&(f={mode:"dark"}));const p=Qy({...t,palette:f},...e);return p.defaultColorScheme=l,p.colorSchemes=d,p.palette.mode==="light"&&(p.colorSchemes.light={...d.light!==!0&&d.light,palette:p.palette},jw(p,"dark",d.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:p.palette},jw(p,"light",d.light)),p}return!n&&!("light"in d)&&l==="light"&&(d.light=!0),KB({...a,colorSchemes:d,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const bb=bI();function Ns(){const t=Vd(bb);return t[mm]||t}function Pm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Br=t=>Pm(t)&&t!=="classes",ge=uI({themeId:mm,defaultTheme:bb,rootShouldForwardProp:Br});function Uw(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function WB(t){return S.jsx(yN,{...t,defaultTheme:bb,themeId:mm})}function qB(t){return function(n){return S.jsx(WB,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function YB(){return Lm}const et=jN;function ot(t){return NN(t)}function XB(t){return it("MuiSvgIcon",t)}at("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const QB=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return st(i,XB,r)},ZB=ge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(et(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Jy=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:f=!1,titleAccess:p,viewBox:g="0 0 24 24",...v}=r,y=I.isValidElement(i)&&i.type==="svg",x={...r,color:a,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:g,hasSvgAsChild:y},b={};f||(b.viewBox=g);const T=QB(x);return S.jsxs(ZB,{as:l,className:_e(T.root,s),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...b,...v,...y&&i.props,ownerState:x,children:[y?i.props.children:i,p?S.jsx("title",{children:p}):null]})});Jy.muiName="SvgIcon";function rt(t,e){function n(r,i){return S.jsx(Jy,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=Jy.muiName,I.memo(I.forwardRef(n))}function Kd(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function tr(t){return t&&t.ownerDocument||document}function Li(t){return tr(t).defaultView||window}function ex(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qa(t){const{controlled:e,default:n,name:r,state:i="value"}=t,{current:s}=I.useRef(e!==void 0),[a,l]=I.useState(n),u=s?e:a,d=I.useCallback(f=>{s||l(f)},[]);return[u,d]}function Qn(t){const e=I.useRef(t);return Ri(()=>{e.current=t}),I.useRef((...n)=>(0,e.current)(...n)).current}function Fn(...t){const e=I.useRef(void 0),n=I.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,l=a(r);return typeof l=="function"?l:()=>{a(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},t);return I.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function JB(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function Sb(t,e){if(!t)return e;function n(a,l){const u={};return Object.keys(l).forEach(d=>{JB(d,l[d])&&typeof a[d]=="function"&&(u[d]=(...f)=>{a[d](...f),l[d](...f)})}),u}if(typeof t=="function"||typeof e=="function")return a=>{const l=typeof e=="function"?e(a):e,u=typeof t=="function"?t({...a,...l}):t,d=_e(a?.className,l?.className,u?.className),f=n(u,l);return{...l,...u,...f,...!!d&&{className:d},...l?.style&&u?.style&&{style:{...l.style,...u.style}},...l?.sx&&u?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const r=e,i=n(t,r),s=_e(r?.className,t?.className);return{...e,...t,...i,...!!s&&{className:s},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function SI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tx(t,e)}function EI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tx(t,e)}const zw={disabled:!1},Pp=un.createContext(null);var e6=function(e){return e.scrollTop},Ju="unmounted",ko="exited",Do="entering",tc="entered",nx="exiting",cs=(function(t){EI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=ko,s.appearStatus=Do):u=tc:r.unmountOnExit||r.mountOnEnter?u=Ju:u=ko,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Ju?{status:ko}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Do&&a!==tc&&(s=Do):(a===Do||a===tc)&&(s=nx)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,l;return s=a=l=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Do){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:qu.findDOMNode(this);a&&e6(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ko&&this.setState({status:Ju})},n.performEnter=function(i){var s=this,a=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[qu.findDOMNode(this),l],d=u[0],f=u[1],p=this.getTimeouts(),g=l?p.appear:p.enter;if(!i&&!a||zw.disabled){this.safeSetState({status:tc},function(){s.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:Do},function(){s.props.onEntering(d,f),s.onTransitionEnd(g,function(){s.safeSetState({status:tc},function(){s.props.onEntered(d,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:qu.findDOMNode(this);if(!s||zw.disabled){this.safeSetState({status:ko},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:nx},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:ko},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:qu.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],f=u[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ju)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=SI(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return un.createElement(Pp.Provider,{value:null},typeof a=="function"?a(i,l):un.cloneElement(un.Children.only(a),l))},e})(un.Component);cs.contextType=Pp;cs.propTypes={};function ql(){}cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ql,onEntering:ql,onEntered:ql,onExit:ql,onExiting:ql,onExited:ql};cs.UNMOUNTED=Ju;cs.EXITED=ko;cs.ENTERING=Do;cs.ENTERED=tc;cs.EXITING=nx;function t6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eb(t,e){var n=function(s){return e&&I.isValidElement(s)?e(s):s},r=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function n6(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,l={};for(var u in e){if(r[u])for(a=0;a<r[u].length;a++){var d=r[u][a];l[r[u][a]]=n(d)}l[u]=n(u)}for(a=0;a<i.length;a++)l[i[a]]=n(i[a]);return l}function Bo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function r6(t,e){return Eb(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Bo(n,"appear",t),enter:Bo(n,"enter",t),exit:Bo(n,"exit",t)})})}function i6(t,e,n){var r=Eb(t.children),i=n6(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(I.isValidElement(a)){var l=s in e,u=s in r,d=e[s],f=I.isValidElement(d)&&!d.props.in;u&&(!l||f)?i[s]=I.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Bo(a,"exit",t),enter:Bo(a,"enter",t)}):!u&&l&&!f?i[s]=I.cloneElement(a,{in:!1}):u&&l&&I.isValidElement(d)&&(i[s]=I.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Bo(a,"exit",t),enter:Bo(a,"enter",t)}))}}),i}var s6=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},a6={component:"div",childFactory:function(e){return e}},Tb=(function(t){EI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(t6(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,l=s.handleExited,u=s.firstRender;return{children:u?r6(i,l):i6(i,a,l),firstRender:!1}},n.handleExited=function(i,s){var a=Eb(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var u=Lp({},l.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,l=SI(i,["component","childFactory"]),u=this.state.contextValue,d=s6(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,s===null?un.createElement(Pp.Provider,{value:u},d):un.createElement(Pp.Provider,{value:u},un.createElement(s,l,d))},e})(un.Component);Tb.propTypes={};Tb.defaultProps=a6;const Hw={};function TI(t,e){const n=I.useRef(Hw);return n.current===Hw&&(n.current=t(e)),n}const o6=[];function l6(t){I.useEffect(t,o6)}class Om{static create(){return new Om}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function $o(){const t=TI(Om.create).current;return l6(t.disposeEffect),t}const Cb=t=>t.scrollTop;function xc(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function c6(t){return it("MuiPaper",t)}at("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const u6=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return st(s,c6,i)},d6=ge("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(et(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Zn=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiPaper"}),i=Ns(),{className:s,component:a="div",elevation:l=1,square:u=!1,variant:d="elevation",...f}=r,p={...r,component:a,elevation:l,square:u,variant:d},g=u6(p);return S.jsx(d6,{as:a,ownerState:p,className:_e(g.root,s),ref:n,...f,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Dp("#fff",Zy(l))}, ${Dp("#fff",Zy(l))})`}},...f.style}})});function Ds(t){return typeof t=="string"}function CI(t,e,n){return t===void 0||Ds(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function wI(t,e,n){return typeof t=="function"?t(e,n):t}function Ho(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Gw(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function AI(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const v=_e(n?.className,s,i?.className,r?.className),y={...n?.style,...i?.style,...r?.style},x={...n,...i,...r};return v.length>0&&(x.className=v),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:void 0}}const a=Ho({...i,...r}),l=Gw(r),u=Gw(i),d=e(a),f=_e(d?.className,n?.className,s,i?.className,r?.className),p={...d?.style,...n?.style,...i?.style,...r?.style},g={...d,...n,...u,...l};return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:d.ref}}function ht(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...u}=e,{component:d,slots:f={[t]:void 0},slotProps:p={[t]:void 0},...g}=s,v=f[t]||r,y=wI(p[t],i),{props:{component:x,...b},internalRef:T}=AI({className:n,...u,externalForwardedProps:t==="root"?g:void 0,externalSlotProps:y}),w=Fn(T,y?.ref,e.ref),C=t==="root"?x||d:x,R=CI(v,{...t==="root"&&!d&&!f[t]&&a,...t!=="root"&&!f[t]&&a,...b,...C&&!l&&{as:C},...C&&l&&{component:C},ref:w},i);return[v,R]}function bc(t){try{return t.matches(":focus-visible")}catch{}return!1}class Op{static create(){return new Op}static use(){const e=TI(Op.create).current,[n,r]=I.useState(!1);return e.shouldMount=n,e.setShouldMount=r,I.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=h6(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function f6(){return Op.use()}function h6(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function p6(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:u,timeout:d}=t,[f,p]=I.useState(!1),g=_e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},y=_e(n.child,f&&n.childLeaving,r&&n.childPulsate);return!l&&!f&&p(!0),I.useEffect(()=>{if(!l&&u!=null){const x=setTimeout(u,d);return()=>{clearTimeout(x)}}},[u,l,d]),S.jsx("span",{className:g,style:v,children:S.jsx("span",{className:y})})}const ji=at("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),rx=550,m6=80,g6=io`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,v6=io`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,y6=io`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,x6=ge("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),b6=ge(p6,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ji.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${g6};
    animation-duration: ${rx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${ji.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${ji.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ji.childLeaving} {
    opacity: 0;
    animation-name: ${v6};
    animation-duration: ${rx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${ji.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${y6};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,S6=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...l}=r,[u,d]=I.useState([]),f=I.useRef(0),p=I.useRef(null);I.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const g=I.useRef(!1),v=$o(),y=I.useRef(null),x=I.useRef(null),b=I.useCallback(R=>{const{pulsate:L,rippleX:D,rippleY:k,rippleSize:P,cb:F}=R;d(O=>[...O,S.jsx(b6,{classes:{ripple:_e(s.ripple,ji.ripple),rippleVisible:_e(s.rippleVisible,ji.rippleVisible),ripplePulsate:_e(s.ripplePulsate,ji.ripplePulsate),child:_e(s.child,ji.child),childLeaving:_e(s.childLeaving,ji.childLeaving),childPulsate:_e(s.childPulsate,ji.childPulsate)},timeout:rx,pulsate:L,rippleX:D,rippleY:k,rippleSize:P},f.current)]),f.current+=1,p.current=F},[s]),T=I.useCallback((R={},L={},D=()=>{})=>{const{pulsate:k=!1,center:P=i||L.pulsate,fakeElement:F=!1}=L;if(R?.type==="mousedown"&&g.current){g.current=!1;return}R?.type==="touchstart"&&(g.current=!0);const O=F?null:x.current,$=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let _,K,z;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)_=Math.round($.width/2),K=Math.round($.height/2);else{const{clientX:G,clientY:N}=R.touches&&R.touches.length>0?R.touches[0]:R;_=Math.round(G-$.left),K=Math.round(N-$.top)}if(P)z=Math.sqrt((2*$.width**2+$.height**2)/3),z%2===0&&(z+=1);else{const G=Math.max(Math.abs((O?O.clientWidth:0)-_),_)*2+2,N=Math.max(Math.abs((O?O.clientHeight:0)-K),K)*2+2;z=Math.sqrt(G**2+N**2)}R?.touches?y.current===null&&(y.current=()=>{b({pulsate:k,rippleX:_,rippleY:K,rippleSize:z,cb:D})},v.start(m6,()=>{y.current&&(y.current(),y.current=null)})):b({pulsate:k,rippleX:_,rippleY:K,rippleSize:z,cb:D})},[i,b,v]),w=I.useCallback(()=>{T({},{pulsate:!0})},[T]),C=I.useCallback((R,L)=>{if(v.clear(),R?.type==="touchend"&&y.current){y.current(),y.current=null,v.start(0,()=>{C(R,L)});return}y.current=null,d(D=>D.length>0?D.slice(1):D),p.current=L},[v]);return I.useImperativeHandle(n,()=>({pulsate:w,start:T,stop:C}),[w,T,C]),S.jsx(x6,{className:_e(ji.root,s.root,a),ref:x,...l,children:S.jsx(Tb,{component:null,exit:!0,children:u})})});function E6(t){return it("MuiButtonBase",t)}const T6=at("MuiButtonBase",["root","disabled","focusVisible"]),C6=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=st({root:["root",e&&"disabled",n&&"focusVisible"]},E6,i);return n&&r&&(a.root+=` ${r}`),a},w6=ge("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${T6.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ls=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:l,component:u="button",disabled:d=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:g=!1,focusVisibleClassName:v,LinkComponent:y="a",onBlur:x,onClick:b,onContextMenu:T,onDragLeave:w,onFocus:C,onFocusVisible:R,onKeyDown:L,onKeyUp:D,onMouseDown:k,onMouseLeave:P,onMouseUp:F,onTouchEnd:O,onTouchMove:$,onTouchStart:_,tabIndex:K=0,TouchRippleProps:z,touchRippleRef:G,type:N,...q}=r,H=I.useRef(null),W=f6(),j=Fn(W.ref,G),[U,Y]=I.useState(!1);d&&U&&Y(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{Y(!0),H.current.focus()}}),[]);const ne=W.shouldMount&&!f&&!d;I.useEffect(()=>{U&&g&&!f&&W.pulsate()},[f,g,U,W]);const re=ea(W,"start",k,p),Q=ea(W,"stop",T,p),ee=ea(W,"stop",w,p),Oe=ea(W,"stop",F,p),De=ea(W,"stop",Ke=>{U&&Ke.preventDefault(),P&&P(Ke)},p),Be=ea(W,"start",_,p),Me=ea(W,"stop",O,p),Ye=ea(W,"stop",$,p),Ue=ea(W,"stop",Ke=>{bc(Ke.target)||Y(!1),x&&x(Ke)},!1),ye=Qn(Ke=>{H.current||(H.current=Ke.currentTarget),bc(Ke.target)&&(Y(!0),R&&R(Ke)),C&&C(Ke)}),Re=()=>{const Ke=H.current;return u&&u!=="button"&&!(Ke.tagName==="A"&&Ke.href)},gt=Qn(Ke=>{g&&!Ke.repeat&&U&&Ke.key===" "&&W.stop(Ke,()=>{W.start(Ke)}),Ke.target===Ke.currentTarget&&Re()&&Ke.key===" "&&Ke.preventDefault(),L&&L(Ke),Ke.target===Ke.currentTarget&&Re()&&Ke.key==="Enter"&&!d&&(Ke.preventDefault(),b&&b(Ke))}),Le=Qn(Ke=>{g&&Ke.key===" "&&U&&!Ke.defaultPrevented&&W.stop(Ke,()=>{W.pulsate(Ke)}),D&&D(Ke),b&&Ke.target===Ke.currentTarget&&Re()&&Ke.key===" "&&!Ke.defaultPrevented&&b(Ke)});let Pe=u;Pe==="button"&&(q.href||q.to)&&(Pe=y);const ke={};Pe==="button"?(ke.type=N===void 0?"button":N,ke.disabled=d):(!q.href&&!q.to&&(ke.role="button"),d&&(ke["aria-disabled"]=d));const bt=Fn(n,H),Ve={...r,centerRipple:s,component:u,disabled:d,disableRipple:f,disableTouchRipple:p,focusRipple:g,tabIndex:K,focusVisible:U},pt=C6(Ve);return S.jsxs(w6,{as:Pe,className:_e(pt.root,l),ownerState:Ve,onBlur:Ue,onClick:b,onContextMenu:Q,onFocus:ye,onKeyDown:gt,onKeyUp:Le,onMouseDown:re,onMouseLeave:De,onMouseUp:Oe,onDragLeave:ee,onTouchEnd:Me,onTouchMove:Ye,onTouchStart:Be,ref:bt,tabIndex:d?-1:K,type:N,...ke,...q,children:[a,ne?S.jsx(S6,{ref:j,center:s,...z}):null]})});function ea(t,e,n,r=!1){return Qn(i=>(n&&n(i),r||t[e](i),!0))}function A6(t){return typeof t.main=="string"}function R6(t,e=[]){if(!A6(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function xn(t=[]){return([,e])=>e&&R6(e,t)}function L6(t){return it("MuiAlert",t)}const Vw=at("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function I6(t){return it("MuiCircularProgress",t)}at("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Fa=44,ix=io`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,sx=io`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,k6=typeof ix!="string"?_c`
        animation: ${ix} 1.4s linear infinite;
      `:null,D6=typeof sx!="string"?_c`
        animation: ${sx} 1.4s ease-in-out infinite;
      `:null,_6=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${de(r)}`],svg:["svg"],circle:["circle",`circle${de(n)}`,i&&"circleDisableShrink"]};return st(s,I6,e)},P6=ge("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${de(n.color)}`]]}})(et(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:k6||{animation:`${ix} 1.4s linear infinite`}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),O6=ge("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),M6=ge("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${de(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(et(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:D6||{animation:`${sx} 1.4s ease-in-out infinite`}}]}))),Zo=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:l=40,style:u,thickness:d=3.6,value:f=0,variant:p="indeterminate",...g}=r,v={...r,color:s,disableShrink:a,size:l,thickness:d,value:f,variant:p},y=_6(v),x={},b={},T={};if(p==="determinate"){const w=2*Math.PI*((Fa-d)/2);x.strokeDasharray=w.toFixed(3),T["aria-valuenow"]=Math.round(f),x.strokeDashoffset=`${((100-f)/100*w).toFixed(3)}px`,b.transform="rotate(-90deg)"}return S.jsx(P6,{className:_e(y.root,i),style:{width:l,height:l,...b,...u},ownerState:v,ref:n,role:"progressbar",...T,...g,children:S.jsx(O6,{className:y.svg,ownerState:v,viewBox:`${Fa/2} ${Fa/2} ${Fa} ${Fa}`,children:S.jsx(M6,{className:y.circle,style:x,ownerState:v,cx:Fa,cy:Fa,r:(Fa-d)/2,fill:"none",strokeWidth:d})})})});function F6(t){return it("MuiIconButton",t)}const Kw=at("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),N6=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:a}=t,l={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${de(r)}`,i&&`edge${de(i)}`,`size${de(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return st(l,F6,e)},B6=ge(ls,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(et(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),et(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Kw.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Kw.loading}`]:{color:"transparent"}}))),$6=ge("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Nt=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:l="default",disabled:u=!1,disableFocusRipple:d=!1,size:f="medium",id:p,loading:g=null,loadingIndicator:v,...y}=r,x=il(p),b=v??S.jsx(Zo,{"aria-labelledby":x,color:"inherit",size:16}),T={...r,edge:i,color:l,disabled:u,disableFocusRipple:d,loading:g,loadingIndicator:b,size:f},w=N6(T);return S.jsxs(B6,{id:g?x:p,className:_e(w.root,a),centerRipple:!0,focusRipple:!d,disabled:u||g,ref:n,...y,ownerState:T,children:[typeof g=="boolean"&&S.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:S.jsx($6,{className:w.loadingIndicator,ownerState:T,children:g&&b})}),s]})}),j6=rt(S.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),U6=rt(S.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),z6=rt(S.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),H6=rt(S.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),RI=rt(S.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),G6=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${de(n||r)}`,`${e}${de(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return st(s,L6,i)},V6=ge(Zn,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color||n.severity)}`]]}})(et(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(xn(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${Vw.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(xn(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${Vw.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(xn(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),K6=ge("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),W6=ge("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),q6=ge("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ww={success:S.jsx(j6,{fontSize:"inherit"}),warning:S.jsx(U6,{fontSize:"inherit"}),error:S.jsx(z6,{fontSize:"inherit"}),info:S.jsx(H6,{fontSize:"inherit"})},Hi=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiAlert"}),{action:i,children:s,className:a,closeText:l="Close",color:u,components:d={},componentsProps:f={},icon:p,iconMapping:g=Ww,onClose:v,role:y="alert",severity:x="success",slotProps:b={},slots:T={},variant:w="standard",...C}=r,R={...r,color:u,severity:x,variant:w,colorSeverity:u||x},L=G6(R),D={slots:{closeButton:d.CloseButton,closeIcon:d.CloseIcon,...T},slotProps:{...f,...b}},[k,P]=ht("root",{ref:n,shouldForwardComponentProp:!0,className:_e(L.root,a),elementType:V6,externalForwardedProps:{...D,...C},ownerState:R,additionalProps:{role:y,elevation:0}}),[F,O]=ht("icon",{className:L.icon,elementType:K6,externalForwardedProps:D,ownerState:R}),[$,_]=ht("message",{className:L.message,elementType:W6,externalForwardedProps:D,ownerState:R}),[K,z]=ht("action",{className:L.action,elementType:q6,externalForwardedProps:D,ownerState:R}),[G,N]=ht("closeButton",{elementType:Nt,externalForwardedProps:D,ownerState:R}),[q,H]=ht("closeIcon",{elementType:RI,externalForwardedProps:D,ownerState:R});return S.jsxs(k,{...P,children:[p!==!1?S.jsx(F,{...O,children:p||g[x]||Ww[x]}):null,S.jsx($,{..._,children:s}),i!=null?S.jsx(K,{...z,children:i}):null,i==null&&v?S.jsx(K,{...z,children:S.jsx(G,{size:"small","aria-label":l,title:l,color:"inherit",onClick:v,...N,children:S.jsx(q,{fontSize:"small",...H})})}):null]})});function Y6(t){return it("MuiTypography",t)}const qw=at("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),X6={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Q6=YB(),Z6=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t,l={root:["root",s,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return st(l,Y6,a)},J6=ge("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(et(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${de(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),Yw={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Fe=I.forwardRef(function(e,n){const{color:r,...i}=ot({props:e,name:"MuiTypography"}),s=!X6[r],a=Q6({...i,...s&&{color:r}}),{align:l="inherit",className:u,component:d,gutterBottom:f=!1,noWrap:p=!1,paragraph:g=!1,variant:v="body1",variantMapping:y=Yw,...x}=a,b={...a,align:l,color:r,className:u,component:d,gutterBottom:f,noWrap:p,paragraph:g,variant:v,variantMapping:y},T=d||(g?"p":y[v]||Yw[v])||"span",w=Z6(b);return S.jsx(J6,{as:T,ref:n,className:_e(w.root,u),...x,ownerState:b,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...x.style}})});function e$(t){return it("MuiAppBar",t)}at("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const t$=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${de(e)}`,`position${de(n)}`]};return st(i,e$,r)},Xw=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,n$=ge(Zn,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${de(n.position)}`],e[`color${de(n.color)}`]]}})(et(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(xn(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?Xw(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Xw(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),r$=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:l="fixed",...u}=r,d={...r,color:s,position:l,enableColorOnDark:a},f=t$(d);return S.jsx(n$,{square:!0,component:"header",ownerState:d,elevation:4,className:_e(f.root,i,l==="fixed"&&"mui-fixed"),ref:n,...u})}),wb=t=>{const e=I.useRef({});return I.useEffect(()=>{e.current=t}),e.current};function Qw({array1:t,array2:e,parser:n=r=>r}){return t&&e&&t.length===e.length&&t.every((r,i)=>n(r)===n(e[i]))}function Zw(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function i$(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:s,trim:a=!1}=t;return(l,{inputValue:u,getOptionLabel:d})=>{let f=a?u.trim():u;n&&(f=f.toLowerCase()),e&&(f=Zw(f));const p=f?l.filter(g=>{let v=(s||d)(g);return n&&(v=v.toLowerCase()),e&&(v=Zw(v)),i==="start"?v.startsWith(f):v.includes(f)}):l;return typeof r=="number"?p.slice(0,r):p}}const s$=i$(),Jw=5,a$=t=>t.current!==null&&t.current.parentElement?.contains(document.activeElement),o$=[];function eA(t,e,n,r){if(e||t==null||r)return"";const i=n(t);return typeof i=="string"?i:""}function l$(t){const{unstable_isActiveElementInListbox:e=a$,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,clearOnBlur:l=!t.freeSolo,clearOnEscape:u=!1,componentName:d="useAutocomplete",defaultValue:f=t.multiple?o$:null,disableClearable:p=!1,disableCloseOnSelect:g=!1,disabled:v,disabledItemsFocusable:y=!1,disableListWrap:x=!1,filterOptions:b=s$,filterSelectedOptions:T=!1,freeSolo:w=!1,getOptionDisabled:C,getOptionKey:R,getOptionLabel:L=fe=>fe.label??fe,groupBy:D,handleHomeEndKeys:k=!t.freeSolo,id:P,includeInputInList:F=!1,inputValue:O,isOptionEqualToValue:$=(fe,ue)=>fe===ue,multiple:_=!1,onChange:K,onClose:z,onHighlightChange:G,onInputChange:N,onOpen:q,open:H,openOnFocus:W=!1,options:j,readOnly:U=!1,renderValue:Y,selectOnFocus:ne=!t.freeSolo,value:re}=t,Q=il(P);let ee=L;ee=fe=>{const ue=L(fe);return typeof ue!="string"?String(ue):ue};const Oe=I.useRef(!1),De=I.useRef(!0),Be=I.useRef(null),Me=I.useRef(null),[Ye,Ue]=I.useState(null),[ye,Re]=I.useState(-1),gt=i?0:-1,Le=I.useRef(gt),Pe=I.useRef(eA(f??re,_,ee)).current,[ke,bt]=qa({controlled:re,default:f,name:d}),[Ve,pt]=qa({controlled:O,default:Pe,name:d,state:"inputValue"}),[Ke,Ut]=I.useState(!1),Se=I.useCallback((fe,ue,Ne)=>{if(!(_?ke.length<ue.length:ue!==null)&&!l)return;const Ct=eA(ue,_,ee,Y);Ve!==Ct&&(pt(Ct),N&&N(fe,Ct,Ne))},[ee,Ve,_,N,pt,l,ke,Y]),[pe,be]=qa({controlled:H,default:!1,name:d,state:"open"}),[$e,Ge]=I.useState(!0),We=!_&&ke!=null&&Ve===ee(ke),Xe=pe&&!U,je=Xe?b(j.filter(fe=>!(T&&(_?ke:[ke]).some(ue=>ue!==null&&$(fe,ue)))),{inputValue:We&&$e?"":Ve,getOptionLabel:ee}):[],It=wb({filteredOptions:je,value:ke,inputValue:Ve});I.useEffect(()=>{const fe=ke!==It.value;Ke&&!fe||w&&!fe||Se(null,ke,"reset")},[ke,Se,Ke,It.value,w]);const yt=pe&&je.length>0&&!U,Dt=Qn(fe=>{if(fe===-1)Be.current.focus();else{const ue=Y?"data-item-index":"data-tag-index";Ye.querySelector(`[${ue}="${fe}"]`).focus()}});I.useEffect(()=>{_&&ye>ke.length-1&&(Re(-1),Dt(-1))},[ke,_,ye,Dt]);function Qe(fe,ue){if(!Me.current||fe<0||fe>=je.length)return-1;let Ne=fe;for(;;){const mt=Me.current.querySelector(`[data-option-index="${Ne}"]`),Ct=y?!1:!mt||mt.disabled||mt.getAttribute("aria-disabled")==="true";if(mt&&mt.hasAttribute("tabindex")&&!Ct)return Ne;if(ue==="next"?Ne=(Ne+1)%je.length:Ne=(Ne-1+je.length)%je.length,Ne===fe)return-1}}const Et=Qn(({event:fe,index:ue,reason:Ne})=>{if(Le.current=ue,ue===-1?Be.current.removeAttribute("aria-activedescendant"):Be.current.setAttribute("aria-activedescendant",`${Q}-option-${ue}`),G&&["mouse","keyboard","touch"].includes(Ne)&&G(fe,ue===-1?null:je[ue],Ne),!Me.current)return;const mt=Me.current.querySelector(`[role="option"].${n}-focused`);mt&&(mt.classList.remove(`${n}-focused`),mt.classList.remove(`${n}-focusVisible`));let Ct=Me.current;if(Me.current.getAttribute("role")!=="listbox"&&(Ct=Me.current.parentElement.querySelector('[role="listbox"]')),!Ct)return;if(ue===-1){Ct.scrollTop=0;return}const rn=Me.current.querySelector(`[data-option-index="${ue}"]`);if(rn&&(rn.classList.add(`${n}-focused`),Ne==="keyboard"&&rn.classList.add(`${n}-focusVisible`),Ct.scrollHeight>Ct.clientHeight&&Ne!=="mouse"&&Ne!=="touch")){const Zt=rn,Tr=Ct.clientHeight+Ct.scrollTop,$r=Zt.offsetTop+Zt.offsetHeight;$r>Tr?Ct.scrollTop=$r-Ct.clientHeight:Zt.offsetTop-Zt.offsetHeight*(D?1.3:0)<Ct.scrollTop&&(Ct.scrollTop=Zt.offsetTop-Zt.offsetHeight*(D?1.3:0))}}),Lt=Qn(({event:fe,diff:ue,direction:Ne="next",reason:mt})=>{if(!Xe)return;const rn=Qe((()=>{const Zt=je.length-1;if(ue==="reset")return gt;if(ue==="start")return 0;if(ue==="end")return Zt;const Tr=Le.current+ue;return Tr<0?Tr===-1&&F?-1:x&&Le.current!==-1||Math.abs(ue)>1?0:Zt:Tr>Zt?Tr===Zt+1&&F?-1:x||Math.abs(ue)>1?Zt:0:Tr})(),Ne);if(Et({index:rn,reason:mt,event:fe}),r&&ue!=="reset")if(rn===-1)Be.current.value=Ve;else{const Zt=ee(je[rn]);Be.current.value=Zt,Zt.toLowerCase().indexOf(Ve.toLowerCase())===0&&Ve.length>0&&Be.current.setSelectionRange(Ve.length,Zt.length)}}),ln=!Qw({array1:It.filteredOptions,array2:je,parser:ee}),wn=()=>{const fe=(ue,Ne)=>{const mt=ue?ee(ue):"",Ct=Ne?ee(Ne):"";return mt===Ct};if(Le.current!==-1&&!Qw({array1:It.filteredOptions,array2:je,parser:ee})&&It.inputValue===Ve&&(_?ke.length===It.value.length&&It.value.every((ue,Ne)=>ee(ke[Ne])===ee(ue)):fe(It.value,ke))){const ue=It.filteredOptions[Le.current];if(ue)return je.findIndex(Ne=>ee(Ne)===ee(ue))}return-1},dr=I.useCallback(()=>{if(!Xe)return;const fe=wn();if(fe!==-1){Le.current=fe;return}const ue=_?ke[0]:ke;if(je.length===0||ue==null){Lt({diff:"reset"});return}if(Me.current){if(ue!=null){const Ne=je[Le.current];if(_&&Ne&&ke.findIndex(Ct=>$(Ne,Ct))!==-1)return;const mt=je.findIndex(Ct=>$(Ct,ue));mt===-1?Lt({diff:"reset"}):Et({index:mt});return}if(Le.current>=je.length-1){Et({index:je.length-1});return}Et({index:Le.current})}},[je.length,_?!1:ke,T,Lt,Et,Xe,Ve,_]),Hn=Qn(fe=>{ex(Me,fe),fe&&dr()});I.useEffect(()=>{ln&&dr()},[dr,ln]);const Ot=fe=>{pe||(be(!0),Ge(!0),q&&q(fe))},en=(fe,ue)=>{pe&&(be(!1),z&&z(fe,ue))},Nn=(fe,ue,Ne,mt)=>{if(_){if(ke.length===ue.length&&ke.every((Ct,rn)=>Ct===ue[rn]))return}else if(ke===ue)return;K&&K(fe,ue,Ne,mt),bt(ue)},Bn=I.useRef(!1),dn=(fe,ue,Ne="selectOption",mt="options")=>{let Ct=Ne,rn=ue;if(_){rn=Array.isArray(ke)?ke.slice():[];const Zt=rn.findIndex(Tr=>$(ue,Tr));Zt===-1?rn.push(ue):mt!=="freeSolo"&&(rn.splice(Zt,1),Ct="removeOption")}Se(fe,rn,Ct),Nn(fe,rn,Ct,{option:ue}),!g&&(!fe||!fe.ctrlKey&&!fe.metaKey)&&en(fe,Ct),(a===!0||a==="touch"&&Bn.current||a==="mouse"&&!Bn.current)&&Be.current.blur()};function Tt(fe,ue){if(fe===-1)return-1;let Ne=fe;for(;;){if(ue==="next"&&Ne===ke.length||ue==="previous"&&Ne===-1)return-1;const mt=Y?"data-item-index":"data-tag-index",Ct=Ye.querySelector(`[${mt}="${Ne}"]`);if(!Ct||!Ct.hasAttribute("tabindex")||Ct.disabled||Ct.getAttribute("aria-disabled")==="true")Ne+=ue==="next"?1:-1;else return Ne}}const kn=(fe,ue)=>{if(!_)return;Ve===""&&en(fe,"toggleInput");let Ne=ye;ye===-1?Ve===""&&ue==="previous"&&(Ne=ke.length-1):(Ne+=ue==="next"?1:-1,Ne<0&&(Ne=0),Ne===ke.length&&(Ne=-1)),Ne=Tt(Ne,ue),Re(Ne),Dt(Ne)},nt=fe=>{Oe.current=!0,pt(""),N&&N(fe,"","clear"),Nn(fe,_?[]:null,"clear")},ut=fe=>ue=>{if(fe.onKeyDown&&fe.onKeyDown(ue),!ue.defaultMuiPrevented&&(ye!==-1&&!["ArrowLeft","ArrowRight"].includes(ue.key)&&(Re(-1),Dt(-1)),ue.which!==229))switch(ue.key){case"Home":Xe&&k&&(ue.preventDefault(),Lt({diff:"start",direction:"next",reason:"keyboard",event:ue}));break;case"End":Xe&&k&&(ue.preventDefault(),Lt({diff:"end",direction:"previous",reason:"keyboard",event:ue}));break;case"PageUp":ue.preventDefault(),Lt({diff:-Jw,direction:"previous",reason:"keyboard",event:ue}),Ot(ue);break;case"PageDown":ue.preventDefault(),Lt({diff:Jw,direction:"next",reason:"keyboard",event:ue}),Ot(ue);break;case"ArrowDown":ue.preventDefault(),Lt({diff:1,direction:"next",reason:"keyboard",event:ue}),Ot(ue);break;case"ArrowUp":ue.preventDefault(),Lt({diff:-1,direction:"previous",reason:"keyboard",event:ue}),Ot(ue);break;case"ArrowLeft":!_&&Y?Dt(0):kn(ue,"previous");break;case"ArrowRight":!_&&Y?Dt(-1):kn(ue,"next");break;case"Enter":if(Le.current!==-1&&Xe){const Ne=je[Le.current],mt=C?C(Ne):!1;if(ue.preventDefault(),mt)return;dn(ue,Ne,"selectOption"),r&&Be.current.setSelectionRange(Be.current.value.length,Be.current.value.length)}else w&&Ve!==""&&We===!1&&(_&&ue.preventDefault(),dn(ue,Ve,"createOption","freeSolo"));break;case"Escape":Xe?(ue.preventDefault(),ue.stopPropagation(),en(ue,"escape")):u&&(Ve!==""||_&&ke.length>0||Y)&&(ue.preventDefault(),ue.stopPropagation(),nt(ue));break;case"Backspace":if(_&&!U&&Ve===""&&ke.length>0){const Ne=ye===-1?ke.length-1:ye,mt=ke.slice();mt.splice(Ne,1),Nn(ue,mt,"removeOption",{option:ke[Ne]})}!_&&Y&&!U&&(bt(null),Dt(-1));break;case"Delete":if(_&&!U&&Ve===""&&ke.length>0&&ye!==-1){const Ne=ye,mt=ke.slice();mt.splice(Ne,1),Nn(ue,mt,"removeOption",{option:ke[Ne]})}!_&&Y&&!U&&(bt(null),Dt(-1));break}},X=fe=>{Ut(!0),W&&!Oe.current&&Ot(fe)},J=fe=>{if(e(Me)){Be.current.focus();return}Ut(!1),De.current=!0,Oe.current=!1,s&&Le.current!==-1&&Xe?dn(fe,je[Le.current],"blur"):s&&w&&Ve!==""?dn(fe,Ve,"blur","freeSolo"):l&&Se(fe,ke,"blur"),en(fe,"blur")},se=fe=>{const ue=fe.target.value;Ve!==ue&&(pt(ue),Ge(!1),N&&N(fe,ue,"input")),ue===""?!p&&!_&&Nn(fe,null,"clear"):Ot(fe)},we=fe=>{const ue=Number(fe.currentTarget.getAttribute("data-option-index"));Le.current!==ue&&Et({event:fe,index:ue,reason:"mouse"})},He=fe=>{Et({event:fe,index:Number(fe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Bn.current=!0},dt=fe=>{const ue=Number(fe.currentTarget.getAttribute("data-option-index"));dn(fe,je[ue],"selectOption"),Bn.current=!1},St=fe=>ue=>{const Ne=ke.slice();Ne.splice(fe,1),Nn(ue,Ne,"removeOption",{option:ke[fe]})},Ze=fe=>{Nn(fe,null,"removeOption",{option:ke})},qe=fe=>{pe?en(fe,"toggleInput"):Ot(fe)},ze=fe=>{fe.currentTarget.contains(fe.target)&&fe.target.getAttribute("id")!==Q&&fe.preventDefault()},tt=fe=>{fe.currentTarget.contains(fe.target)&&(Be.current.focus(),ne&&De.current&&Be.current.selectionEnd-Be.current.selectionStart===0&&Be.current.select(),De.current=!1)},wt=fe=>{!v&&(Ve===""||!pe)&&qe(fe)};let _t=w&&Ve.length>0;_t=_t||(_?ke.length>0:ke!==null);let Bt=je;return D&&(Bt=je.reduce((fe,ue,Ne)=>{const mt=D(ue);return fe.length>0&&fe[fe.length-1].group===mt?fe[fe.length-1].options.push(ue):fe.push({key:Ne,index:Ne,group:mt,options:[ue]}),fe},[])),v&&Ke&&J(),{getRootProps:(fe={})=>({...fe,onKeyDown:ut(fe),onMouseDown:ze,onClick:tt}),getInputLabelProps:()=>({id:`${Q}-label`,htmlFor:Q}),getInputProps:()=>({id:Q,value:Ve,onBlur:J,onFocus:X,onChange:se,onMouseDown:wt,"aria-activedescendant":Xe?"":null,"aria-autocomplete":r?"both":"list","aria-controls":yt?`${Q}-listbox`:void 0,"aria-expanded":yt,autoComplete:"off",ref:Be,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:v}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:nt}),getItemProps:({index:fe=0}={})=>({..._&&{key:fe},...Y?{"data-item-index":fe}:{"data-tag-index":fe},tabIndex:-1,...!U&&{onDelete:_?St(fe):Ze}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:qe}),getTagProps:({index:fe})=>({key:fe,"data-tag-index":fe,tabIndex:-1,...!U&&{onDelete:St(fe)}}),getListboxProps:()=>({role:"listbox",id:`${Q}-listbox`,"aria-labelledby":`${Q}-label`,ref:Hn,onMouseDown:fe=>{fe.preventDefault()}}),getOptionProps:({index:fe,option:ue})=>{const Ne=(_?ke:[ke]).some(Ct=>Ct!=null&&$(ue,Ct)),mt=C?C(ue):!1;return{key:R?.(ue)??ee(ue),tabIndex:-1,role:"option",id:`${Q}-option-${fe}`,onMouseMove:we,onClick:dt,onTouchStart:He,"data-option-index":fe,"aria-disabled":mt,"aria-selected":Ne}},id:Q,inputValue:Ve,value:ke,dirty:_t,expanded:Xe&&Ye,popupOpen:Xe,focused:Ke||ye!==-1,anchorEl:Ye,setAnchorEl:Ue,focusedItem:ye,focusedTag:ye,groupedOptions:Bt}}var ni="top",Ki="bottom",Wi="right",ri="left",Ab="auto",Wd=[ni,Ki,Wi,ri],Sc="start",Td="end",c$="clippingParents",LI="viewport",$u="popper",u$="reference",tA=Wd.reduce(function(t,e){return t.concat([e+"-"+Sc,e+"-"+Td])},[]),II=[].concat(Wd,[Ab]).reduce(function(t,e){return t.concat([e,e+"-"+Sc,e+"-"+Td])},[]),d$="beforeRead",f$="read",h$="afterRead",p$="beforeMain",m$="main",g$="afterMain",v$="beforeWrite",y$="write",x$="afterWrite",b$=[d$,f$,h$,p$,m$,g$,v$,y$,x$];function Ps(t){return t?(t.nodeName||"").toLowerCase():null}function Ii(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jo(t){var e=Ii(t).Element;return t instanceof e||t instanceof Element}function Gi(t){var e=Ii(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Rb(t){if(typeof ShadowRoot>"u")return!1;var e=Ii(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function S$(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Gi(s)||!Ps(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var l=i[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function E$(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=a.reduce(function(u,d){return u[d]="",u},{});!Gi(i)||!Ps(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const T$={name:"applyStyles",enabled:!0,phase:"write",fn:S$,effect:E$,requires:["computeStyles"]};function _s(t){return t.split("-")[0]}var Go=Math.max,Mp=Math.min,Ec=Math.round;function ax(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kI(){return!/^((?!chrome|android).)*safari/i.test(ax())}function Tc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Gi(t)&&(i=t.offsetWidth>0&&Ec(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ec(r.height)/t.offsetHeight||1);var a=Jo(t)?Ii(t):window,l=a.visualViewport,u=!kI()&&n,d=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/s,p=r.width/i,g=r.height/s;return{width:p,height:g,top:f,right:d+p,bottom:f+g,left:d,x:d,y:f}}function Lb(t){var e=Tc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function DI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Rb(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ua(t){return Ii(t).getComputedStyle(t)}function C$(t){return["table","td","th"].indexOf(Ps(t))>=0}function ao(t){return((Jo(t)?t.ownerDocument:t.document)||window.document).documentElement}function Mm(t){return Ps(t)==="html"?t:t.assignedSlot||t.parentNode||(Rb(t)?t.host:null)||ao(t)}function nA(t){return!Gi(t)||ua(t).position==="fixed"?null:t.offsetParent}function w$(t){var e=/firefox/i.test(ax()),n=/Trident/i.test(ax());if(n&&Gi(t)){var r=ua(t);if(r.position==="fixed")return null}var i=Mm(t);for(Rb(i)&&(i=i.host);Gi(i)&&["html","body"].indexOf(Ps(i))<0;){var s=ua(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function qd(t){for(var e=Ii(t),n=nA(t);n&&C$(n)&&ua(n).position==="static";)n=nA(n);return n&&(Ps(n)==="html"||Ps(n)==="body"&&ua(n).position==="static")?e:n||w$(t)||e}function Ib(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function id(t,e,n){return Go(t,Mp(e,n))}function A$(t,e,n){var r=id(t,e,n);return r>n?n:r}function _I(){return{top:0,right:0,bottom:0,left:0}}function PI(t){return Object.assign({},_I(),t)}function OI(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var R$=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,PI(typeof e!="number"?e:OI(e,Wd))};function L$(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=_s(n.placement),u=Ib(l),d=[ri,Wi].indexOf(l)>=0,f=d?"height":"width";if(!(!s||!a)){var p=R$(i.padding,n),g=Lb(s),v=u==="y"?ni:ri,y=u==="y"?Ki:Wi,x=n.rects.reference[f]+n.rects.reference[u]-a[u]-n.rects.popper[f],b=a[u]-n.rects.reference[u],T=qd(s),w=T?u==="y"?T.clientHeight||0:T.clientWidth||0:0,C=x/2-b/2,R=p[v],L=w-g[f]-p[y],D=w/2-g[f]/2+C,k=id(R,D,L),P=u;n.modifiersData[r]=(e={},e[P]=k,e.centerOffset=k-D,e)}}function I$(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||DI(e.elements.popper,i)&&(e.elements.arrow=i))}const k$={name:"arrow",enabled:!0,phase:"main",fn:L$,effect:I$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cc(t){return t.split("-")[1]}var D$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _$(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ec(n*i)/i||0,y:Ec(r*i)/i||0}}function rA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,l=t.position,u=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,p=t.isFixed,g=a.x,v=g===void 0?0:g,y=a.y,x=y===void 0?0:y,b=typeof f=="function"?f({x:v,y:x}):{x:v,y:x};v=b.x,x=b.y;var T=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),C=ri,R=ni,L=window;if(d){var D=qd(n),k="clientHeight",P="clientWidth";if(D===Ii(n)&&(D=ao(n),ua(D).position!=="static"&&l==="absolute"&&(k="scrollHeight",P="scrollWidth")),D=D,i===ni||(i===ri||i===Wi)&&s===Td){R=Ki;var F=p&&D===L&&L.visualViewport?L.visualViewport.height:D[k];x-=F-r.height,x*=u?1:-1}if(i===ri||(i===ni||i===Ki)&&s===Td){C=Wi;var O=p&&D===L&&L.visualViewport?L.visualViewport.width:D[P];v-=O-r.width,v*=u?1:-1}}var $=Object.assign({position:l},d&&D$),_=f===!0?_$({x:v,y:x},Ii(n)):{x:v,y:x};if(v=_.x,x=_.y,u){var K;return Object.assign({},$,(K={},K[R]=w?"0":"",K[C]=T?"0":"",K.transform=(L.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",K))}return Object.assign({},$,(e={},e[R]=w?x+"px":"",e[C]=T?v+"px":"",e.transform="",e))}function P$(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,u=l===void 0?!0:l,d={placement:_s(e.placement),variation:Cc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rA(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rA(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const O$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:P$,data:{}};var vh={passive:!0};function M$(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,l=a===void 0?!0:a,u=Ii(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",n.update,vh)}),l&&u.addEventListener("resize",n.update,vh),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",n.update,vh)}),l&&u.removeEventListener("resize",n.update,vh)}}const F$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M$,data:{}};var N$={left:"right",right:"left",bottom:"top",top:"bottom"};function rp(t){return t.replace(/left|right|bottom|top/g,function(e){return N$[e]})}var B$={start:"end",end:"start"};function iA(t){return t.replace(/start|end/g,function(e){return B$[e]})}function kb(t){var e=Ii(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Db(t){return Tc(ao(t)).left+kb(t).scrollLeft}function $$(t,e){var n=Ii(t),r=ao(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;var d=kI();(d||!d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:l+Db(t),y:u}}function j$(t){var e,n=ao(t),r=kb(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Go(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Go(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Db(t),u=-r.scrollTop;return ua(i||n).direction==="rtl"&&(l+=Go(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:l,y:u}}function _b(t){var e=ua(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function MI(t){return["html","body","#document"].indexOf(Ps(t))>=0?t.ownerDocument.body:Gi(t)&&_b(t)?t:MI(Mm(t))}function sd(t,e){var n;e===void 0&&(e=[]);var r=MI(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ii(r),a=i?[s].concat(s.visualViewport||[],_b(r)?r:[]):r,l=e.concat(a);return i?l:l.concat(sd(Mm(a)))}function ox(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function U$(t,e){var n=Tc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function sA(t,e,n){return e===LI?ox($$(t,n)):Jo(e)?U$(e,n):ox(j$(ao(t)))}function z$(t){var e=sd(Mm(t)),n=["absolute","fixed"].indexOf(ua(t).position)>=0,r=n&&Gi(t)?qd(t):t;return Jo(r)?e.filter(function(i){return Jo(i)&&DI(i,r)&&Ps(i)!=="body"}):[]}function H$(t,e,n,r){var i=e==="clippingParents"?z$(t):[].concat(e),s=[].concat(i,[n]),a=s[0],l=s.reduce(function(u,d){var f=sA(t,d,r);return u.top=Go(f.top,u.top),u.right=Mp(f.right,u.right),u.bottom=Mp(f.bottom,u.bottom),u.left=Go(f.left,u.left),u},sA(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function FI(t){var e=t.reference,n=t.element,r=t.placement,i=r?_s(r):null,s=r?Cc(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case ni:u={x:a,y:e.y-n.height};break;case Ki:u={x:a,y:e.y+e.height};break;case Wi:u={x:e.x+e.width,y:l};break;case ri:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var d=i?Ib(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case Sc:u[d]=u[d]-(e[f]/2-n[f]/2);break;case Td:u[d]=u[d]+(e[f]/2-n[f]/2);break}}return u}function Cd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,u=l===void 0?c$:l,d=n.rootBoundary,f=d===void 0?LI:d,p=n.elementContext,g=p===void 0?$u:p,v=n.altBoundary,y=v===void 0?!1:v,x=n.padding,b=x===void 0?0:x,T=PI(typeof b!="number"?b:OI(b,Wd)),w=g===$u?u$:$u,C=t.rects.popper,R=t.elements[y?w:g],L=H$(Jo(R)?R:R.contextElement||ao(t.elements.popper),u,f,a),D=Tc(t.elements.reference),k=FI({reference:D,element:C,placement:i}),P=ox(Object.assign({},C,k)),F=g===$u?P:D,O={top:L.top-F.top+T.top,bottom:F.bottom-L.bottom+T.bottom,left:L.left-F.left+T.left,right:F.right-L.right+T.right},$=t.modifiersData.offset;if(g===$u&&$){var _=$[i];Object.keys(O).forEach(function(K){var z=[Wi,Ki].indexOf(K)>=0?1:-1,G=[ni,Ki].indexOf(K)>=0?"y":"x";O[K]+=_[G]*z})}return O}function G$(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,d=u===void 0?II:u,f=Cc(r),p=f?l?tA:tA.filter(function(y){return Cc(y)===f}):Wd,g=p.filter(function(y){return d.indexOf(y)>=0});g.length===0&&(g=p);var v=g.reduce(function(y,x){return y[x]=Cd(t,{placement:x,boundary:i,rootBoundary:s,padding:a})[_s(x)],y},{});return Object.keys(v).sort(function(y,x){return v[y]-v[x]})}function V$(t){if(_s(t)===Ab)return[];var e=rp(t);return[iA(t),e,iA(e)]}function K$(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!0:a,u=n.fallbackPlacements,d=n.padding,f=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,y=v===void 0?!0:v,x=n.allowedAutoPlacements,b=e.options.placement,T=_s(b),w=T===b,C=u||(w||!y?[rp(b)]:V$(b)),R=[b].concat(C).reduce(function(re,Q){return re.concat(_s(Q)===Ab?G$(e,{placement:Q,boundary:f,rootBoundary:p,padding:d,flipVariations:y,allowedAutoPlacements:x}):Q)},[]),L=e.rects.reference,D=e.rects.popper,k=new Map,P=!0,F=R[0],O=0;O<R.length;O++){var $=R[O],_=_s($),K=Cc($)===Sc,z=[ni,Ki].indexOf(_)>=0,G=z?"width":"height",N=Cd(e,{placement:$,boundary:f,rootBoundary:p,altBoundary:g,padding:d}),q=z?K?Wi:ri:K?Ki:ni;L[G]>D[G]&&(q=rp(q));var H=rp(q),W=[];if(s&&W.push(N[_]<=0),l&&W.push(N[q]<=0,N[H]<=0),W.every(function(re){return re})){F=$,P=!1;break}k.set($,W)}if(P)for(var j=y?3:1,U=function(Q){var ee=R.find(function(Oe){var De=k.get(Oe);if(De)return De.slice(0,Q).every(function(Be){return Be})});if(ee)return F=ee,"break"},Y=j;Y>0;Y--){var ne=U(Y);if(ne==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}const W$={name:"flip",enabled:!0,phase:"main",fn:K$,requiresIfExists:["offset"],data:{_skip:!1}};function aA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function oA(t){return[ni,Wi,Ki,ri].some(function(e){return t[e]>=0})}function q$(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Cd(e,{elementContext:"reference"}),l=Cd(e,{altBoundary:!0}),u=aA(a,r),d=aA(l,i,s),f=oA(u),p=oA(d);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const Y$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:q$};function X$(t,e,n){var r=_s(t),i=[ri,ni].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*i,[ri,Wi].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function Q$(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=II.reduce(function(f,p){return f[p]=X$(p,e.rects,s),f},{}),l=a[e.placement],u=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}const Z$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q$};function J$(t){var e=t.state,n=t.name;e.modifiersData[n]=FI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const e8={name:"popperOffsets",enabled:!0,phase:"read",fn:J$,data:{}};function t8(t){return t==="x"?"y":"x"}function n8(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!1:a,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,y=n.tetherOffset,x=y===void 0?0:y,b=Cd(e,{boundary:u,rootBoundary:d,padding:p,altBoundary:f}),T=_s(e.placement),w=Cc(e.placement),C=!w,R=Ib(T),L=t8(R),D=e.modifiersData.popperOffsets,k=e.rects.reference,P=e.rects.popper,F=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(D){if(s){var K,z=R==="y"?ni:ri,G=R==="y"?Ki:Wi,N=R==="y"?"height":"width",q=D[R],H=q+b[z],W=q-b[G],j=v?-P[N]/2:0,U=w===Sc?k[N]:P[N],Y=w===Sc?-P[N]:-k[N],ne=e.elements.arrow,re=v&&ne?Lb(ne):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_I(),ee=Q[z],Oe=Q[G],De=id(0,k[N],re[N]),Be=C?k[N]/2-j-De-ee-O.mainAxis:U-De-ee-O.mainAxis,Me=C?-k[N]/2+j+De+Oe+O.mainAxis:Y+De+Oe+O.mainAxis,Ye=e.elements.arrow&&qd(e.elements.arrow),Ue=Ye?R==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,ye=(K=$?.[R])!=null?K:0,Re=q+Be-ye-Ue,gt=q+Me-ye,Le=id(v?Mp(H,Re):H,q,v?Go(W,gt):W);D[R]=Le,_[R]=Le-q}if(l){var Pe,ke=R==="x"?ni:ri,bt=R==="x"?Ki:Wi,Ve=D[L],pt=L==="y"?"height":"width",Ke=Ve+b[ke],Ut=Ve-b[bt],Se=[ni,ri].indexOf(T)!==-1,pe=(Pe=$?.[L])!=null?Pe:0,be=Se?Ke:Ve-k[pt]-P[pt]-pe+O.altAxis,$e=Se?Ve+k[pt]+P[pt]-pe-O.altAxis:Ut,Ge=v&&Se?A$(be,Ve,$e):id(v?be:Ke,Ve,v?$e:Ut);D[L]=Ge,_[L]=Ge-Ve}e.modifiersData[r]=_}}const r8={name:"preventOverflow",enabled:!0,phase:"main",fn:n8,requiresIfExists:["offset"]};function i8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function s8(t){return t===Ii(t)||!Gi(t)?kb(t):i8(t)}function a8(t){var e=t.getBoundingClientRect(),n=Ec(e.width)/t.offsetWidth||1,r=Ec(e.height)/t.offsetHeight||1;return n!==1||r!==1}function o8(t,e,n){n===void 0&&(n=!1);var r=Gi(e),i=Gi(e)&&a8(e),s=ao(e),a=Tc(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Ps(e)!=="body"||_b(s))&&(l=s8(e)),Gi(e)?(u=Tc(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=Db(s))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function l8(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function c8(t){var e=l8(t);return b$.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function u8(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function d8(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var lA={placement:"bottom",modifiers:[],strategy:"absolute"};function cA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function f8(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?lA:i;return function(l,u,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},lA,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],g=!1,v={state:f,setOptions:function(T){var w=typeof T=="function"?T(f.options):T;x(),f.options=Object.assign({},s,f.options,w),f.scrollParents={reference:Jo(l)?sd(l):l.contextElement?sd(l.contextElement):[],popper:sd(u)};var C=c8(d8([].concat(r,f.options.modifiers)));return f.orderedModifiers=C.filter(function(R){return R.enabled}),y(),v.update()},forceUpdate:function(){if(!g){var T=f.elements,w=T.reference,C=T.popper;if(cA(w,C)){f.rects={reference:o8(w,qd(C),f.options.strategy==="fixed"),popper:Lb(C)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(O){return f.modifiersData[O.name]=Object.assign({},O.data)});for(var R=0;R<f.orderedModifiers.length;R++){if(f.reset===!0){f.reset=!1,R=-1;continue}var L=f.orderedModifiers[R],D=L.fn,k=L.options,P=k===void 0?{}:k,F=L.name;typeof D=="function"&&(f=D({state:f,options:P,name:F,instance:v})||f)}}}},update:u8(function(){return new Promise(function(b){v.forceUpdate(),b(f)})}),destroy:function(){x(),g=!0}};if(!cA(l,u))return v;v.setOptions(d).then(function(b){!g&&d.onFirstUpdate&&d.onFirstUpdate(b)});function y(){f.orderedModifiers.forEach(function(b){var T=b.name,w=b.options,C=w===void 0?{}:w,R=b.effect;if(typeof R=="function"){var L=R({state:f,name:T,instance:v,options:C}),D=function(){};p.push(L||D)}})}function x(){p.forEach(function(b){return b()}),p=[]}return v}}var h8=[F$,e8,O$,T$,Z$,W$,r8,k$,Y$],p8=f8({defaultModifiers:h8});function Jr(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,a=i?{}:wI(n,r),{props:l,internalRef:u}=AI({...s,externalSlotProps:a}),d=Fn(u,a?.ref,t.additionalProps?.ref);return CI(e,{...l,ref:d},r)}function oo(t){return parseInt(I.version,10)>=19?t?.props?.ref||null:t?.ref||null}function m8(t){return typeof t=="function"?t():t}const NI=I.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[a,l]=I.useState(null),u=Fn(I.isValidElement(r)?oo(r):null,n);if(Ri(()=>{s||l(m8(i)||document.body)},[i,s]),Ri(()=>{if(a&&!s)return ex(n,a),()=>{ex(n,null)}},[n,a,s]),s){if(I.isValidElement(r)){const d={ref:u};return I.cloneElement(r,d)}return r}return a&&Zx.createPortal(r,a)});function g8(t){return it("MuiPopper",t)}at("MuiPopper",["root"]);function v8(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function lx(t){return typeof t=="function"?t():t}function y8(t){return t.nodeType!==void 0}const x8=t=>{const{classes:e}=t;return st({root:["root"]},g8,e)},b8={},S8=I.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:s,disablePortal:a,modifiers:l,open:u,placement:d,popperOptions:f,popperRef:p,slotProps:g={},slots:v={},TransitionProps:y,ownerState:x,...b}=e,T=I.useRef(null),w=Fn(T,n),C=I.useRef(null),R=Fn(C,p),L=I.useRef(R);Ri(()=>{L.current=R},[R]),I.useImperativeHandle(p,()=>C.current,[]);const D=v8(d,s),[k,P]=I.useState(D),[F,O]=I.useState(lx(r));I.useEffect(()=>{C.current&&C.current.forceUpdate()}),I.useEffect(()=>{r&&O(lx(r))},[r]),Ri(()=>{if(!F||!u)return;const G=H=>{P(H.placement)};let N=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{G(H)}}];l!=null&&(N=N.concat(l)),f&&f.modifiers!=null&&(N=N.concat(f.modifiers));const q=p8(F,T.current,{placement:D,...f,modifiers:N});return L.current(q),()=>{q.destroy(),L.current(null)}},[F,a,l,u,f,D]);const $={placement:k};y!==null&&($.TransitionProps=y);const _=x8(e),K=v.root??"div",z=Jr({elementType:K,externalSlotProps:g.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:_.root});return S.jsx(K,{...z,children:typeof i=="function"?i($):i})}),E8=I.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:a="ltr",disablePortal:l=!1,keepMounted:u=!1,modifiers:d,open:f,placement:p="bottom",popperOptions:g=b8,popperRef:v,style:y,transition:x=!1,slotProps:b={},slots:T={},...w}=e,[C,R]=I.useState(!0),L=()=>{R(!1)},D=()=>{R(!0)};if(!u&&!f&&(!x||C))return null;let k;if(s)k=s;else if(r){const O=lx(r);k=O&&y8(O)?tr(O).body:tr(null).body}const P=!f&&u&&(!x||C)?"none":void 0,F=x?{in:f,onEnter:L,onExited:D}:void 0;return S.jsx(NI,{disablePortal:l,container:k,children:S.jsx(S8,{anchorEl:r,direction:a,disablePortal:l,modifiers:d,ref:n,open:x?!C:f,placement:p,popperOptions:g,popperRef:v,slotProps:b,slots:T,...w,style:{position:"fixed",top:0,left:0,display:P,...y},TransitionProps:F,children:i})})}),T8=ge(E8,{name:"MuiPopper",slot:"Root"})({}),Fm=I.forwardRef(function(e,n){const r=so(),i=ot({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:u,container:d,disablePortal:f,keepMounted:p,modifiers:g,open:v,placement:y,popperOptions:x,popperRef:b,transition:T,slots:w,slotProps:C,...R}=i,L=w?.root??l?.Root,D={anchorEl:s,container:d,disablePortal:f,keepMounted:p,modifiers:g,open:v,placement:y,popperOptions:x,popperRef:b,transition:T,...R};return S.jsx(T8,{as:a,direction:r?"rtl":"ltr",slots:{root:L},slotProps:C??u,...D,ref:n})});function C8(t){return it("MuiListSubheader",t)}at("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const w8=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:s}=t,a={root:["root",n!=="default"&&`color${de(n)}`,!r&&"gutters",i&&"inset",!s&&"sticky"]};return st(a,C8,e)},A8=ge("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${de(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(et(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),cx=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiListSubheader"}),{className:i,color:s="default",component:a="li",disableGutters:l=!1,disableSticky:u=!1,inset:d=!1,...f}=r,p={...r,color:s,component:a,disableGutters:l,disableSticky:u,inset:d},g=w8(p);return S.jsx(A8,{as:a,className:_e(g.root,i),ref:n,ownerState:p,...f})});cx&&(cx.muiSkipListHighlight=!0);const R8=rt(S.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function L8(t){return it("MuiChip",t)}const Yt=at("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),I8=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:s,onDelete:a,clickable:l,variant:u}=t,d={root:["root",u,n&&"disabled",`size${de(r)}`,`color${de(i)}`,l&&"clickable",l&&`clickableColor${de(i)}`,a&&"deletable",a&&`deletableColor${de(i)}`,`${u}${de(i)}`],label:["label",`label${de(r)}`],avatar:["avatar",`avatar${de(r)}`,`avatarColor${de(i)}`],icon:["icon",`icon${de(r)}`,`iconColor${de(s)}`],deleteIcon:["deleteIcon",`deleteIcon${de(r)}`,`deleteIconColor${de(i)}`,`deleteIcon${de(u)}Color${de(i)}`]};return st(d,L8,e)},k8=ge("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:s,onDelete:a,size:l,variant:u}=n;return[{[`& .${Yt.avatar}`]:e.avatar},{[`& .${Yt.avatar}`]:e[`avatar${de(l)}`]},{[`& .${Yt.avatar}`]:e[`avatarColor${de(r)}`]},{[`& .${Yt.icon}`]:e.icon},{[`& .${Yt.icon}`]:e[`icon${de(l)}`]},{[`& .${Yt.icon}`]:e[`iconColor${de(i)}`]},{[`& .${Yt.deleteIcon}`]:e.deleteIcon},{[`& .${Yt.deleteIcon}`]:e[`deleteIcon${de(l)}`]},{[`& .${Yt.deleteIcon}`]:e[`deleteIconColor${de(r)}`]},{[`& .${Yt.deleteIcon}`]:e[`deleteIcon${de(u)}Color${de(r)}`]},e.root,e[`size${de(l)}`],e[`color${de(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${de(r)})`],a&&e.deletable,a&&r!=="default"&&e[`deletableColor${de(r)}`],e[u],e[`${u}${de(r)}`]]}})(et(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Yt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Yt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Yt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Yt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Yt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Yt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Yt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Yt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Yt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(xn(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Yt.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Yt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Yt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Yt.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(xn(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Yt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Yt.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(xn(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Yt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Yt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Yt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Yt.avatar}`]:{marginLeft:4},[`& .${Yt.avatarSmall}`]:{marginLeft:2},[`& .${Yt.icon}`]:{marginLeft:4},[`& .${Yt.iconSmall}`]:{marginLeft:2},[`& .${Yt.deleteIcon}`]:{marginRight:5},[`& .${Yt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(xn()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${Yt.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Yt.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Yt.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),D8=ge("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${de(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function uA(t){return t.key==="Backspace"||t.key==="Delete"}const Ci=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:l="default",component:u,deleteIcon:d,disabled:f=!1,icon:p,label:g,onClick:v,onDelete:y,onKeyDown:x,onKeyUp:b,size:T="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:R=!1,slots:L={},slotProps:D={},...k}=r,P=I.useRef(null),F=Fn(P,n),O=ee=>{ee.stopPropagation(),y&&y(ee)},$=ee=>{ee.currentTarget===ee.target&&uA(ee)&&ee.preventDefault(),x&&x(ee)},_=ee=>{ee.currentTarget===ee.target&&y&&uA(ee)&&y(ee),b&&b(ee)},K=a!==!1&&v?!0:a,z=K||y?ls:u||"div",G={...r,component:z,disabled:f,size:T,color:l,iconColor:I.isValidElement(p)&&p.props.color||l,onDelete:!!y,clickable:K,variant:w},N=I8(G),q=z===ls?{component:u||"div",focusVisibleClassName:N.focusVisible,...y&&{disableRipple:!0}}:{};let H=null;y&&(H=d&&I.isValidElement(d)?I.cloneElement(d,{className:_e(d.props.className,N.deleteIcon),onClick:O}):S.jsx(R8,{className:N.deleteIcon,onClick:O}));let W=null;i&&I.isValidElement(i)&&(W=I.cloneElement(i,{className:_e(N.avatar,i.props.className)}));let j=null;p&&I.isValidElement(p)&&(j=I.cloneElement(p,{className:_e(N.icon,p.props.className)}));const U={slots:L,slotProps:D},[Y,ne]=ht("root",{elementType:k8,externalForwardedProps:{...U,...k},ownerState:G,shouldForwardComponentProp:!0,ref:F,className:_e(N.root,s),additionalProps:{disabled:K&&f?!0:void 0,tabIndex:R&&f?-1:C,...q},getSlotProps:ee=>({...ee,onClick:Oe=>{ee.onClick?.(Oe),v?.(Oe)},onKeyDown:Oe=>{ee.onKeyDown?.(Oe),$(Oe)},onKeyUp:Oe=>{ee.onKeyUp?.(Oe),_(Oe)}})}),[re,Q]=ht("label",{elementType:D8,externalForwardedProps:U,ownerState:G,className:N.label});return S.jsxs(Y,{as:z,...ne,children:[W||j,S.jsx(re,{...Q,children:g}),H]})});function yh(t){return parseInt(t,10)||0}const _8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function P8(t){for(const e in t)return!1;return!0}function dA(t){return P8(t)||t.outerHeightStyle===0&&!t.overflowing}const O8=I.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:a,value:l,...u}=e,{current:d}=I.useRef(l!=null),f=I.useRef(null),p=Fn(n,f),g=I.useRef(null),v=I.useRef(null),y=I.useCallback(()=>{const C=f.current,R=v.current;if(!C||!R)return;const D=Li(C).getComputedStyle(C);if(D.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=D.width,R.value=C.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const k=D.boxSizing,P=yh(D.paddingBottom)+yh(D.paddingTop),F=yh(D.borderBottomWidth)+yh(D.borderTopWidth),O=R.scrollHeight;R.value="x";const $=R.scrollHeight;let _=O;s&&(_=Math.max(Number(s)*$,_)),i&&(_=Math.min(Number(i)*$,_)),_=Math.max(_,$);const K=_+(k==="border-box"?P+F:0),z=Math.abs(_-O)<=1;return{outerHeightStyle:K,overflowing:z}},[i,s,e.placeholder]),x=Qn(()=>{const C=f.current,R=y();if(!C||!R||dA(R))return!1;const L=R.outerHeightStyle;return g.current!=null&&g.current!==L}),b=I.useCallback(()=>{const C=f.current,R=y();if(!C||!R||dA(R))return;const L=R.outerHeightStyle;g.current!==L&&(g.current=L,C.style.height=`${L}px`),C.style.overflow=R.overflowing?"hidden":""},[y]),T=I.useRef(-1);Ri(()=>{const C=Kd(b),R=f?.current;if(!R)return;const L=Li(R);L.addEventListener("resize",C);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(()=>{x()&&(D.unobserve(R),cancelAnimationFrame(T.current),b(),T.current=requestAnimationFrame(()=>{D.observe(R)}))}),D.observe(R)),()=>{C.clear(),cancelAnimationFrame(T.current),L.removeEventListener("resize",C),D&&D.disconnect()}},[y,b,x]),Ri(()=>{b()});const w=C=>{d||b();const R=C.target,L=R.value.length,D=R.value.endsWith(`
`),k=R.selectionStart===L;D&&k&&R.setSelectionRange(L,L),r&&r(C)};return S.jsxs(I.Fragment,{children:[S.jsx("textarea",{value:l,onChange:w,ref:p,rows:s,style:a,...u}),S.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{..._8.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function sl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Nm=I.createContext(void 0);function fa(){return I.useContext(Nm)}function fA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Fp(t,e=!1){return t&&(fA(t.value)&&t.value!==""||e&&fA(t.defaultValue)&&t.defaultValue!=="")}function M8(t){return t.startAdornment}function F8(t){return it("MuiInputBase",t)}const yi=at("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var hA;const Bm=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},$m=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},N8=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:a,formControl:l,fullWidth:u,hiddenLabel:d,multiline:f,readOnly:p,size:g,startAdornment:v,type:y}=t,x={root:["root",`color${de(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",l&&"formControl",g&&g!=="medium"&&`size${de(g)}`,f&&"multiline",v&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",f&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return st(x,F8,e)},jm=ge("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Bm})(et(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${yi.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Um=ge("input",{name:"MuiInputBase",slot:"Input",overridesResolver:$m})(et(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${yi.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${yi.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),pA=qB({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Pb=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,color:u,components:d={},componentsProps:f={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:v,endAdornment:y,error:x,fullWidth:b=!1,id:T,inputComponent:w="input",inputProps:C={},inputRef:R,margin:L,maxRows:D,minRows:k,multiline:P=!1,name:F,onBlur:O,onChange:$,onClick:_,onFocus:K,onKeyDown:z,onKeyUp:G,placeholder:N,readOnly:q,renderSuffix:H,rows:W,size:j,slotProps:U={},slots:Y={},startAdornment:ne,type:re="text",value:Q,...ee}=r,Oe=C.value!=null?C.value:Q,{current:De}=I.useRef(Oe!=null),Be=I.useRef(),Me=I.useCallback(je=>{},[]),Ye=Fn(Be,R,C.ref,Me),[Ue,ye]=I.useState(!1),Re=fa(),gt=sl({props:r,muiFormControl:Re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});gt.focused=Re?Re.focused:Ue,I.useEffect(()=>{!Re&&g&&Ue&&(ye(!1),O&&O())},[Re,g,Ue,O]);const Le=Re&&Re.onFilled,Pe=Re&&Re.onEmpty,ke=I.useCallback(je=>{Fp(je)?Le&&Le():Pe&&Pe()},[Le,Pe]);Ri(()=>{De&&ke({value:Oe})},[Oe,ke,De]);const bt=je=>{K&&K(je),C.onFocus&&C.onFocus(je),Re&&Re.onFocus?Re.onFocus(je):ye(!0)},Ve=je=>{O&&O(je),C.onBlur&&C.onBlur(je),Re&&Re.onBlur?Re.onBlur(je):ye(!1)},pt=(je,...It)=>{if(!De){const yt=je.target||Be.current;if(yt==null)throw new Error(ca(1));ke({value:yt.value})}C.onChange&&C.onChange(je,...It),$&&$(je,...It)};I.useEffect(()=>{ke(Be.current)},[]);const Ke=je=>{Be.current&&je.currentTarget===je.target&&Be.current.focus(),_&&_(je)};let Ut=w,Se=C;P&&Ut==="input"&&(W?Se={type:void 0,minRows:W,maxRows:W,...Se}:Se={type:void 0,maxRows:D,minRows:k,...Se},Ut=O8);const pe=je=>{ke(je.animationName==="mui-auto-fill-cancel"?Be.current:{value:"x"})};I.useEffect(()=>{Re&&Re.setAdornedStart(!!ne)},[Re,ne]);const be={...r,color:gt.color||"primary",disabled:gt.disabled,endAdornment:y,error:gt.error,focused:gt.focused,formControl:Re,fullWidth:b,hiddenLabel:gt.hiddenLabel,multiline:P,size:gt.size,startAdornment:ne,type:re},$e=N8(be),Ge=Y.root||d.Root||jm,We=U.root||f.root||{},Xe=Y.input||d.Input||Um;return Se={...Se,...U.input??f.input},S.jsxs(I.Fragment,{children:[!v&&typeof pA=="function"&&(hA||(hA=S.jsx(pA,{}))),S.jsxs(Ge,{...We,ref:n,onClick:Ke,...ee,...!Ds(Ge)&&{ownerState:{...be,...We.ownerState}},className:_e($e.root,We.className,l,q&&"MuiInputBase-readOnly"),children:[ne,S.jsx(Nm.Provider,{value:null,children:S.jsx(Xe,{"aria-invalid":gt.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:p,disabled:gt.disabled,id:T,onAnimationStart:pe,name:F,placeholder:N,readOnly:q,required:gt.required,rows:W,value:Oe,onKeyDown:z,onKeyUp:G,type:re,...Se,...!Ds(Xe)&&{as:Ut,ownerState:{...be,...Se.ownerState}},ref:Ye,className:_e($e.input,Se.className,q&&"MuiInputBase-readOnly"),onBlur:Ve,onChange:pt,onFocus:bt})}),y,H?H({...gt,startAdornment:ne}):null]})]})});function B8(t){return it("MuiInput",t)}const Ha={...yi,...at("MuiInput",["root","underline","input"])};function $8(t){return it("MuiOutlinedInput",t)}const $i={...yi,...at("MuiOutlinedInput",["root","notchedOutline","input"])};function j8(t){return it("MuiFilledInput",t)}const xi={...yi,...at("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},BI=rt(S.jsx("path",{d:"M7 10l5 5 5-5z"}));function U8(t){return it("MuiAutocomplete",t)}const jt=at("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var mA,gA;const z8=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:s,hasClearIcon:a,hasPopupIcon:l,inputFocused:u,popupOpen:d,size:f}=t,p={root:["root",r&&"expanded",i&&"focused",s&&"fullWidth",a&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",u&&"inputFocused"],tag:["tag",`tagSize${de(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return st(p,U8,e)},H8=ge("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:s,inputFocused:a,size:l}=n;return[{[`& .${jt.tag}`]:e.tag},{[`& .${jt.tag}`]:e[`tagSize${de(l)}`]},{[`& .${jt.inputRoot}`]:e.inputRoot},{[`& .${jt.input}`]:e.input},{[`& .${jt.input}`]:a&&e.inputFocused},e.root,r&&e.fullWidth,s&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${jt.focused} .${jt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${jt.clearIndicator}`]:{visibility:"visible"}},[`& .${jt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${jt.inputRoot}`]:{[`.${jt.hasPopupIcon}&, .${jt.hasClearIcon}&`]:{paddingRight:30},[`.${jt.hasPopupIcon}.${jt.hasClearIcon}&`]:{paddingRight:56},[`& .${jt.input}`]:{width:0,minWidth:30}},[`& .${Ha.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ha.root}.${yi.sizeSmall}`]:{[`& .${Ha.input}`]:{padding:"2px 4px 3px 0"}},[`& .${$i.root}`]:{padding:9,[`.${jt.hasPopupIcon}&, .${jt.hasClearIcon}&`]:{paddingRight:39},[`.${jt.hasPopupIcon}.${jt.hasClearIcon}&`]:{paddingRight:65},[`& .${jt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${jt.endAdornment}`]:{right:9}},[`& .${$i.root}.${yi.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${jt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${xi.root}`]:{paddingTop:19,paddingLeft:8,[`.${jt.hasPopupIcon}&, .${jt.hasClearIcon}&`]:{paddingRight:39},[`.${jt.hasPopupIcon}.${jt.hasClearIcon}&`]:{paddingRight:65},[`& .${xi.input}`]:{padding:"7px 4px"},[`& .${jt.endAdornment}`]:{right:9}},[`& .${xi.root}.${yi.sizeSmall}`]:{paddingBottom:1,[`& .${xi.input}`]:{padding:"2.5px 4px"}},[`& .${yi.hiddenLabel}`]:{paddingTop:8},[`& .${xi.root}.${yi.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${jt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${xi.root}.${yi.hiddenLabel}.${yi.sizeSmall}`]:{[`& .${jt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${jt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${jt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${jt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${jt.inputRoot}`]:{flexWrap:"wrap"}}}]}),G8=ge("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),V8=ge(Nt,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),K8=ge(Nt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),W8=ge(Fm,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${jt.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(et(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),q8=ge(Zn,{name:"MuiAutocomplete",slot:"Paper"})(et(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Y8=ge("div",{name:"MuiAutocomplete",slot:"Loading"})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),X8=ge("div",{name:"MuiAutocomplete",slot:"NoOptions"})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Q8=ge("ul",{name:"MuiAutocomplete",slot:"Listbox"})(et(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${jt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${jt.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${jt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${jt.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${jt.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),Z8=ge(cx,{name:"MuiAutocomplete",slot:"GroupLabel"})(et(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),J8=ge("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${jt.option}`]:{paddingLeft:24}}),zm=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:s=!1,autoSelect:a=!1,blurOnSelect:l=!1,ChipProps:u,className:d,clearIcon:f=mA||(mA=S.jsx(RI,{fontSize:"small"})),clearOnBlur:p=!r.freeSolo,clearOnEscape:g=!1,clearText:v="Clear",closeText:y="Close",componentsProps:x,defaultValue:b=r.multiple?[]:null,disableClearable:T=!1,disableCloseOnSelect:w=!1,disabled:C=!1,disabledItemsFocusable:R=!1,disableListWrap:L=!1,disablePortal:D=!1,filterOptions:k,filterSelectedOptions:P=!1,forcePopupIcon:F="auto",freeSolo:O=!1,fullWidth:$=!1,getLimitTagsText:_=lt=>`+${lt}`,getOptionDisabled:K,getOptionKey:z,getOptionLabel:G,isOptionEqualToValue:N,groupBy:q,handleHomeEndKeys:H=!r.freeSolo,id:W,includeInputInList:j=!1,inputValue:U,limitTags:Y=-1,ListboxComponent:ne,ListboxProps:re,loading:Q=!1,loadingText:ee="Loading",multiple:Oe=!1,noOptionsText:De="No options",onChange:Be,onClose:Me,onHighlightChange:Ye,onInputChange:Ue,onOpen:ye,open:Re,openOnFocus:gt=!1,openText:Le="Open",options:Pe,PaperComponent:ke,PopperComponent:bt,popupIcon:Ve=gA||(gA=S.jsx(BI,{})),readOnly:pt=!1,renderGroup:Ke,renderInput:Ut,renderOption:Se,renderTags:pe,renderValue:be,selectOnFocus:$e=!r.freeSolo,size:Ge="medium",slots:We={},slotProps:Xe={},value:je,...It}=r,{getRootProps:yt,getInputProps:Dt,getInputLabelProps:Qe,getPopupIndicatorProps:Et,getClearProps:Lt,getItemProps:ln,getListboxProps:wn,getOptionProps:dr,value:Hn,dirty:Ot,expanded:en,id:Nn,popupOpen:Bn,focused:dn,focusedItem:Tt,anchorEl:kn,setAnchorEl:nt,inputValue:ut,groupedOptions:X}=l$({...r,componentName:"Autocomplete"}),J=!T&&!C&&Ot&&!pt,se=(!O||F===!0)&&F!==!1,{onMouseDown:we}=Dt(),{ref:He,...dt}=wn(),Ze=G||(lt=>lt.label??lt),qe={...r,disablePortal:D,expanded:en,focused:dn,fullWidth:$,getOptionLabel:Ze,hasClearIcon:J,hasPopupIcon:se,inputFocused:Tt===-1,popupOpen:Bn,size:Ge},ze=z8(qe),tt={slots:{paper:ke,popper:bt,...We},slotProps:{chip:u,listbox:re,...x,...Xe}},[wt,_t]=ht("listbox",{elementType:Q8,externalForwardedProps:tt,ownerState:qe,className:ze.listbox,additionalProps:dt,ref:He}),[Bt,fe]=ht("paper",{elementType:Zn,externalForwardedProps:tt,ownerState:qe,className:ze.paper}),[ue,Ne]=ht("popper",{elementType:Fm,externalForwardedProps:tt,ownerState:qe,className:ze.popper,additionalProps:{disablePortal:D,style:{width:kn?kn.clientWidth:null},role:"presentation",anchorEl:kn,open:Bn}});let mt;const Ct=lt=>({className:ze.tag,disabled:C,...ln(lt)});if(Oe?Hn.length>0&&(pe?mt=pe(Hn,Ct,qe):be?mt=be(Hn,Ct,qe):mt=Hn.map((lt,Gt)=>{const{key:fr,...Ur}=Ct({index:Gt});return S.jsx(Ci,{label:Ze(lt),size:Ge,...Ur,...tt.slotProps.chip},fr)})):be&&Hn!=null&&(mt=be(Hn,Ct,qe)),Y>-1&&Array.isArray(mt)){const lt=mt.length-Y;!dn&&lt>0&&(mt=mt.splice(0,Y),mt.push(S.jsx("span",{className:ze.tag,children:_(lt)},mt.length)))}const Zt=Ke||(lt=>S.jsxs("li",{children:[S.jsx(Z8,{className:ze.groupLabel,ownerState:qe,component:"div",children:lt.group}),S.jsx(J8,{className:ze.groupUl,ownerState:qe,children:lt.children})]},lt.key)),$r=Se||((lt,Gt)=>{const{key:fr,...Ur}=lt;return S.jsx("li",{...Ur,children:Ze(Gt)},fr)}),jr=(lt,Gt)=>{const fr=dr({option:lt,index:Gt});return $r({...fr,className:ze.option},lt,{selected:fr["aria-selected"],index:Gt,inputValue:ut},qe)},Cr=tt.slotProps.clearIndicator,Zi=tt.slotProps.popupIndicator;return S.jsxs(I.Fragment,{children:[S.jsx(H8,{ref:n,className:_e(ze.root,d),ownerState:qe,...yt(It),children:Ut({id:Nn,disabled:C,fullWidth:!0,size:Ge==="small"?"small":void 0,InputLabelProps:Qe(),InputProps:{ref:nt,className:ze.inputRoot,startAdornment:mt,onMouseDown:lt=>{lt.target===lt.currentTarget&&we(lt)},...(J||se)&&{endAdornment:S.jsxs(G8,{className:ze.endAdornment,ownerState:qe,children:[J?S.jsx(V8,{...Lt(),"aria-label":v,title:v,ownerState:qe,...Cr,className:_e(ze.clearIndicator,Cr?.className),children:f}):null,se?S.jsx(K8,{...Et(),disabled:C,"aria-label":Bn?y:Le,title:Bn?y:Le,ownerState:qe,...Zi,className:_e(ze.popupIndicator,Zi?.className),children:Ve}):null]})}},inputProps:{className:ze.input,disabled:C,readOnly:pt,...Dt()}})}),kn?S.jsx(W8,{as:ue,...Ne,children:S.jsxs(q8,{as:Bt,...fe,children:[Q&&X.length===0?S.jsx(Y8,{className:ze.loading,ownerState:qe,children:ee}):null,X.length===0&&!O&&!Q?S.jsx(X8,{className:ze.noOptions,ownerState:qe,role:"presentation",onMouseDown:lt=>{lt.preventDefault()},children:De}):null,X.length>0?S.jsx(wt,{as:ne,..._t,children:X.map((lt,Gt)=>q?Zt({key:lt.key,group:lt.group,children:lt.options.map((fr,Ur)=>jr(fr,lt.index+Ur))}):jr(lt,Gt))}):null]})}):null]})}),ej=rt(S.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function tj(t){return it("MuiAvatar",t)}at("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const nj=t=>{const{classes:e,variant:n,colorDefault:r}=t;return st({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},tj,e)},rj=ge("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(et(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),ij=ge("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),sj=ge(ej,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function aj({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=I.useState(!1);return I.useEffect(()=>{if(!n&&!r)return;s(!1);let a=!0;const l=new Image;return l.onload=()=>{a&&s("loaded")},l.onerror=()=>{a&&s("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{a=!1}},[t,e,n,r]),i}const Ob=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:a,component:l="div",slots:u={},slotProps:d={},imgProps:f,sizes:p,src:g,srcSet:v,variant:y="circular",...x}=r;let b=null;const T={...r,component:l,variant:y},w=aj({...f,...typeof d.img=="function"?d.img(T):d.img,src:g,srcSet:v}),C=g||v,R=C&&w!=="error";T.colorDefault=!R,delete T.ownerState;const L=nj(T),[D,k]=ht("root",{ref:n,className:_e(L.root,a),elementType:rj,externalForwardedProps:{slots:u,slotProps:d,component:l,...x},ownerState:T}),[P,F]=ht("img",{className:L.img,elementType:ij,externalForwardedProps:{slots:u,slotProps:{img:{...f,...d.img}}},additionalProps:{alt:i,src:g,srcSet:v,sizes:p},ownerState:T}),[O,$]=ht("fallback",{className:L.fallback,elementType:sj,externalForwardedProps:{slots:u,slotProps:d},shouldForwardComponentProp:!0,ownerState:T});return R?b=S.jsx(P,{...F}):s||s===0?b=s:C&&i?b=i[0]:b=S.jsx(O,{...$}),S.jsx(D,{...k,children:b})}),oj={entering:{opacity:1},entered:{opacity:1}},ux=I.forwardRef(function(e,n){const r=Ns(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:u,in:d,onEnter:f,onEntered:p,onEntering:g,onExit:v,onExited:y,onExiting:x,style:b,timeout:T=i,TransitionComponent:w=cs,...C}=e,R=I.useRef(null),L=Fn(R,oo(l),n),D=z=>G=>{if(z){const N=R.current;G===void 0?z(N):z(N,G)}},k=D(g),P=D((z,G)=>{Cb(z);const N=xc({style:b,timeout:T,easing:u},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",N),z.style.transition=r.transitions.create("opacity",N),f&&f(z,G)}),F=D(p),O=D(x),$=D(z=>{const G=xc({style:b,timeout:T,easing:u},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",G),z.style.transition=r.transitions.create("opacity",G),v&&v(z)}),_=D(y),K=z=>{s&&s(R.current,z)};return S.jsx(w,{appear:a,in:d,nodeRef:R,onEnter:P,onEntered:F,onEntering:k,onExit:$,onExited:_,onExiting:O,addEndListener:K,timeout:T,...C,children:(z,{ownerState:G,...N})=>I.cloneElement(l,{style:{opacity:0,visibility:z==="exited"&&!d?"hidden":void 0,...oj[z],...b,...l.props.style},ref:L,...N})})});function lj(t){return it("MuiBackdrop",t)}at("MuiBackdrop",["root","invisible"]);const cj=t=>{const{classes:e,invisible:n}=t;return st({root:["root",n&&"invisible"]},lj,e)},uj=ge("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),$I=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:l=!1,open:u,components:d={},componentsProps:f={},slotProps:p={},slots:g={},TransitionComponent:v,transitionDuration:y,...x}=r,b={...r,component:a,invisible:l},T=cj(b),w={transition:v,root:d.Root,...g},C={...f,...p},R={component:a,slots:w,slotProps:C},[L,D]=ht("root",{elementType:uj,externalForwardedProps:R,className:_e(T.root,s),ownerState:b}),[k,P]=ht("transition",{elementType:ux,externalForwardedProps:R,ownerState:b});return S.jsx(k,{in:u,timeout:y,...x,...P,children:S.jsx(L,{"aria-hidden":!0,...D,classes:T,ref:n,children:i})})});function dj(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,s=wb({badgeContent:e,max:r});let a=n;n===!1&&e===0&&!i&&(a=!0);const{badgeContent:l,max:u=r}=a?s:t,d=l&&Number(l)>u?`${u}+`:l;return{badgeContent:l,invisible:a,max:u,displayValue:d}}function fj(t){return it("MuiBadge",t)}const Na=at("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Nv=10,Bv=4,hj=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:s,classes:a={}}=t,l={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${de(n.vertical)}${de(n.horizontal)}`,`anchorOrigin${de(n.vertical)}${de(n.horizontal)}${de(i)}`,`overlap${de(i)}`,e!=="default"&&`color${de(e)}`]};return st(l,fj,a)},pj=ge("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),mj=ge("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${de(n.anchorOrigin.vertical)}${de(n.anchorOrigin.horizontal)}${de(n.overlap)}`],n.color!=="default"&&e[`color${de(n.color)}`],n.invisible&&e.invisible]}})(et(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Nv*2,lineHeight:1,padding:"0 6px",height:Nv*2,borderRadius:Nv,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(xn(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Bv,height:Bv*2,minWidth:Bv*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Na.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function vA(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const gj=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:s,classes:a,component:l,components:u={},componentsProps:d={},children:f,overlap:p="rectangular",color:g="default",invisible:v=!1,max:y=99,badgeContent:x,slots:b,slotProps:T,showZero:w=!1,variant:C="standard",...R}=r,{badgeContent:L,invisible:D,max:k,displayValue:P}=dj({max:y,invisible:v,badgeContent:x,showZero:w}),F=wb({anchorOrigin:vA(i),color:g,overlap:p,variant:C,badgeContent:x}),O=D||L==null&&C!=="dot",{color:$=g,overlap:_=p,anchorOrigin:K,variant:z=C}=O?F:r,G=vA(K),N=z!=="dot"?P:void 0,q={...r,badgeContent:L,invisible:O,max:k,displayValue:N,showZero:w,anchorOrigin:G,color:$,overlap:_,variant:z},H=hj(q),W={slots:{root:b?.root??u.Root,badge:b?.badge??u.Badge},slotProps:{root:T?.root??d.root,badge:T?.badge??d.badge}},[j,U]=ht("root",{elementType:pj,externalForwardedProps:{...W,...R},ownerState:q,className:_e(H.root,s),ref:n,additionalProps:{as:l}}),[Y,ne]=ht("badge",{elementType:mj,externalForwardedProps:W,ownerState:q,className:H.badge});return S.jsxs(j,{...U,children:[f,S.jsx(Y,{...ne,children:N})]})}),vj=at("MuiBox",["root"]),yj=bI(),Ce=SN({themeId:mm,defaultTheme:yj,defaultClassName:vj.root,generateClassName:aI.generate});function xj(t){return it("MuiButton",t)}const Ao=at("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),bj=I.createContext({}),Sj=I.createContext(void 0),Ej=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:l,classes:u}=t,d={root:["root",a&&"loading",s,`${s}${de(e)}`,`size${de(i)}`,`${s}Size${de(i)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${de(l)}`],startIcon:["icon","startIcon",`iconSize${de(i)}`],endIcon:["icon","endIcon",`iconSize${de(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},f=st(d,xj,u);return{...u,...f}},jI=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Tj=ge(ls,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(et(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ao.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ao.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ao.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ao.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(xn()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ao.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ao.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ao.loading}`]:{color:"transparent"}}}]}})),Cj=ge("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...jI]})),wj=ge("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...jI]})),Aj=ge("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),yA=ge("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),tn=I.forwardRef(function(e,n){const r=I.useContext(bj),i=I.useContext(Sj),s=yc(r,e),a=ot({props:s,name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:f,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:v=!1,endIcon:y,focusVisibleClassName:x,fullWidth:b=!1,id:T,loading:w=null,loadingIndicator:C,loadingPosition:R="center",size:L="medium",startIcon:D,type:k,variant:P="text",...F}=a,O=il(T),$=C??S.jsx(Zo,{"aria-labelledby":O,color:"inherit",size:16}),_={...a,color:u,component:d,disabled:p,disableElevation:g,disableFocusRipple:v,fullWidth:b,loading:w,loadingIndicator:$,loadingPosition:R,size:L,type:k,variant:P},K=Ej(_),z=(D||w&&R==="start")&&S.jsx(Cj,{className:K.startIcon,ownerState:_,children:D||S.jsx(yA,{className:K.loadingIconPlaceholder,ownerState:_})}),G=(y||w&&R==="end")&&S.jsx(wj,{className:K.endIcon,ownerState:_,children:y||S.jsx(yA,{className:K.loadingIconPlaceholder,ownerState:_})}),N=i||"",q=typeof w=="boolean"?S.jsx("span",{className:K.loadingWrapper,style:{display:"contents"},children:w&&S.jsx(Aj,{className:K.loadingIndicator,ownerState:_,children:$})}):null;return S.jsxs(Tj,{ownerState:_,className:_e(r.className,K.root,f,N),component:d,disabled:p||w,focusRipple:!v,focusVisibleClassName:_e(K.focusVisible,x),ref:n,type:k,id:w?O:T,...F,classes:K,children:[z,R!=="end"&&q,l,R==="end"&&q,G]})});function Rj(t){return I.Children.toArray(t).filter(e=>I.isValidElement(e))}function Lj(t){return it("MuiCard",t)}at("MuiCard",["root"]);const Ij=t=>{const{classes:e}=t;return st({root:["root"]},Lj,e)},kj=ge(Zn,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Za=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiCard"}),{className:i,raised:s=!1,...a}=r,l={...r,raised:s},u=Ij(l);return S.jsx(kj,{className:_e(u.root,i),elevation:s?8:void 0,ref:n,ownerState:l,...a})});function Dj(t){return it("MuiCardContent",t)}at("MuiCardContent",["root"]);const _j=t=>{const{classes:e}=t;return st({root:["root"]},Dj,e)},Pj=ge("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Ja=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiCardContent"}),{className:i,component:s="div",...a}=r,l={...r,component:s},u=_j(l);return S.jsx(Pj,{as:s,className:_e(u.root,i),ownerState:l,ref:n,...a})});function Oj(t){return it("MuiCardMedia",t)}at("MuiCardMedia",["root","media","img"]);const Mj=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return st({root:["root",n&&"media",r&&"img"]},Oj,e)},Fj=ge("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Nj=["video","audio","picture","iframe","img"],Bj=["picture","img"],$j=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:a="div",image:l,src:u,style:d,...f}=r,p=Nj.includes(a),g=!p&&l?{backgroundImage:`url("${l}")`,...d}:d,v={...r,component:a,isMediaComponent:p,isImageComponent:Bj.includes(a)},y=Mj(v);return S.jsx(Fj,{className:_e(y.root,s),as:a,role:!p&&l?"img":void 0,ref:n,style:g,ownerState:v,src:p?l||u:void 0,...f,children:i})});function jj(t){return it("PrivateSwitchBase",t)}at("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Uj=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${de(i)}`],input:["input"]};return st(s,jj,e)},zj=ge(ls,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Hj=ge("input",{name:"MuiSwitchBase",shouldForwardProp:Br})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Gj=I.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:d=!1,icon:f,id:p,inputProps:g,inputRef:v,name:y,onBlur:x,onChange:b,onFocus:T,readOnly:w,required:C=!1,tabIndex:R,type:L,value:D,slots:k={},slotProps:P={},...F}=e,[O,$]=qa({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),_=fa(),K=Q=>{T&&T(Q),_&&_.onFocus&&_.onFocus(Q)},z=Q=>{x&&x(Q),_&&_.onBlur&&_.onBlur(Q)},G=Q=>{if(Q.nativeEvent.defaultPrevented)return;const ee=Q.target.checked;$(ee),b&&b(Q,ee)};let N=l;_&&typeof N>"u"&&(N=_.disabled);const q=L==="checkbox"||L==="radio",H={...e,checked:O,disabled:N,disableFocusRipple:u,edge:d},W=Uj(H),j={slots:k,slotProps:{input:g,...P}},[U,Y]=ht("root",{ref:n,elementType:zj,className:W.root,shouldForwardComponentProp:!0,externalForwardedProps:{...j,component:"span",...F},getSlotProps:Q=>({...Q,onFocus:ee=>{Q.onFocus?.(ee),K(ee)},onBlur:ee=>{Q.onBlur?.(ee),z(ee)}}),ownerState:H,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:N,role:void 0,tabIndex:null}}),[ne,re]=ht("input",{ref:v,elementType:Hj,className:W.input,externalForwardedProps:j,getSlotProps:Q=>({...Q,onChange:ee=>{Q.onChange?.(ee),G(ee)}}),ownerState:H,additionalProps:{autoFocus:r,checked:i,defaultChecked:a,disabled:N,id:q?p:void 0,name:y,readOnly:w,required:C,tabIndex:R,type:L,...L==="checkbox"&&D===void 0?{}:{value:D}}});return S.jsxs(U,{...Y,children:[S.jsx(ne,{...re}),O?s:f]})}),Vj=rt(S.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Kj=rt(S.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Wj=rt(S.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function qj(t){return it("MuiCheckbox",t)}const $v=at("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Yj=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,s={root:["root",n&&"indeterminate",`color${de(r)}`,`size${de(i)}`]},a=st(s,qj,e);return{...e,...a}},Xj=ge(Gj,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${de(n.size)}`],n.color!=="default"&&e[`color${de(n.color)}`]]}})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{[`&.${$v.checked}, &.${$v.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${$v.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Qj=S.jsx(Kj,{}),Zj=S.jsx(Vj,{}),Jj=S.jsx(Wj,{}),Yd=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiCheckbox"}),{checkedIcon:i=Qj,color:s="primary",icon:a=Zj,indeterminate:l=!1,indeterminateIcon:u=Jj,inputProps:d,size:f="medium",disableRipple:p=!1,className:g,slots:v={},slotProps:y={},...x}=r,b=l?u:a,T=l?u:i,w={...r,disableRipple:p,color:s,indeterminate:l,size:f},C=Yj(w),R=y.input??d,[L,D]=ht("root",{ref:n,elementType:Xj,className:_e(C.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:y,...x},ownerState:w,additionalProps:{type:"checkbox",icon:I.cloneElement(b,{fontSize:b.props.fontSize??f}),checkedIcon:I.cloneElement(T,{fontSize:T.props.fontSize??f}),disableRipple:p,slots:v,slotProps:{input:Sb(typeof R=="function"?R(w):R,{"data-indeterminate":l})}}});return S.jsx(L,{...D,classes:C})});function xA(t){return t.substring(2).toLowerCase()}function eU(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function tU(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,a=I.useRef(!1),l=I.useRef(null),u=I.useRef(!1),d=I.useRef(!1);I.useEffect(()=>(setTimeout(()=>{u.current=!0},0),()=>{u.current=!1}),[]);const f=Fn(oo(e),l),p=Qn(y=>{const x=d.current;d.current=!1;const b=tr(l.current);if(!u.current||!l.current||"clientX"in y&&eU(y,b))return;if(a.current){a.current=!1;return}let T;y.composedPath?T=y.composedPath().includes(l.current):T=!b.documentElement.contains(y.target)||l.current.contains(y.target),!T&&(n||!x)&&i(y)}),g=y=>x=>{d.current=!0;const b=e.props[y];b&&b(x)},v={ref:f};return s!==!1&&(v[s]=g(s)),I.useEffect(()=>{if(s!==!1){const y=xA(s),x=tr(l.current),b=()=>{a.current=!0};return x.addEventListener(y,p),x.addEventListener("touchmove",b),()=>{x.removeEventListener(y,p),x.removeEventListener("touchmove",b)}}},[p,s]),r!==!1&&(v[r]=g(r)),I.useEffect(()=>{if(r!==!1){const y=xA(r),x=tr(l.current);return x.addEventListener(y,p),()=>{x.removeEventListener(y,p)}}},[p,r]),I.cloneElement(e,v)}function UI(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function nU(t){const e=tr(t);return e.body===t?Li(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ad(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function bA(t){return parseInt(Li(t).getComputedStyle(t).paddingRight,10)||0}function rU(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function SA(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,a=>{const l=!s.includes(a),u=!rU(a);l&&u&&ad(a,i)})}function jv(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function iU(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(nU(r)){const a=UI(Li(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${bA(r)+a}px`;const l=tr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${bA(u)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=tr(r).body;else{const a=r.parentElement,l=Li(r);s=a?.nodeName==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:l})=>{s?a.style.setProperty(l,s):a.style.removeProperty(l)})}}function sU(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class aU{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&ad(e.modalRef,!1);const i=sU(n);SA(n,e.mount,e.modalRef,i,!0);const s=jv(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=jv(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=iU(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=jv(this.containers,a=>a.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&ad(e.modalRef,n),SA(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&ad(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const oU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lU(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function cU(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function uU(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||cU(t))}function dU(t){const e=[],n=[];return Array.from(t.querySelectorAll(oU)).forEach((r,i)=>{const s=lU(r);s===-1||!uU(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function fU(){return!0}function hU(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=dU,isEnabled:a=fU,open:l}=t,u=I.useRef(!1),d=I.useRef(null),f=I.useRef(null),p=I.useRef(null),g=I.useRef(null),v=I.useRef(!1),y=I.useRef(null),x=Fn(oo(e),y),b=I.useRef(null);I.useEffect(()=>{!l||!y.current||(v.current=!n)},[n,l]),I.useEffect(()=>{if(!l||!y.current)return;const C=tr(y.current);return y.current.contains(C.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),v.current&&y.current.focus()),()=>{i||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}},[l]),I.useEffect(()=>{if(!l||!y.current)return;const C=tr(y.current),R=k=>{b.current=k,!(r||!a()||k.key!=="Tab")&&C.activeElement===y.current&&k.shiftKey&&(u.current=!0,f.current&&f.current.focus())},L=()=>{const k=y.current;if(k===null)return;if(!C.hasFocus()||!a()||u.current){u.current=!1;return}if(k.contains(C.activeElement)||r&&C.activeElement!==d.current&&C.activeElement!==f.current)return;if(C.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!v.current)return;let P=[];if((C.activeElement===d.current||C.activeElement===f.current)&&(P=s(y.current)),P.length>0){const F=!!(b.current?.shiftKey&&b.current?.key==="Tab"),O=P[0],$=P[P.length-1];typeof O!="string"&&typeof $!="string"&&(F?$.focus():O.focus())}else k.focus()};C.addEventListener("focusin",L),C.addEventListener("keydown",R,!0);const D=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(D),C.removeEventListener("focusin",L),C.removeEventListener("keydown",R,!0)}},[n,r,i,a,l,s]);const T=C=>{p.current===null&&(p.current=C.relatedTarget),v.current=!0,g.current=C.target;const R=e.props.onFocus;R&&R(C)},w=C=>{p.current===null&&(p.current=C.relatedTarget),v.current=!0};return S.jsxs(I.Fragment,{children:[S.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:d,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:x,onFocus:T}),S.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:f,"data-testid":"sentinelEnd"})]})}function pU(t){return typeof t=="function"?t():t}function mU(t){return t?t.props.hasOwnProperty("in"):!1}const EA=()=>{},xh=new aU;function gU(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:f}=t,p=I.useRef({}),g=I.useRef(null),v=I.useRef(null),y=Fn(v,f),[x,b]=I.useState(!d),T=mU(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const C=()=>tr(g.current),R=()=>(p.current.modalRef=v.current,p.current.mount=g.current,p.current),L=()=>{xh.mount(R(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},D=Qn(()=>{const G=pU(e)||C().body;xh.add(R(),G),v.current&&L()}),k=()=>xh.isTopModal(R()),P=Qn(G=>{g.current=G,G&&(d&&k()?L():v.current&&ad(v.current,w))}),F=I.useCallback(()=>{xh.remove(R(),w)},[w]);I.useEffect(()=>()=>{F()},[F]),I.useEffect(()=>{d?D():(!T||!i)&&F()},[d,F,T,i,D]);const O=G=>N=>{G.onKeyDown?.(N),!(N.key!=="Escape"||N.which===229||!k())&&(n||(N.stopPropagation(),u&&u(N,"escapeKeyDown")))},$=G=>N=>{G.onClick?.(N),N.target===N.currentTarget&&u&&u(N,"backdropClick")};return{getRootProps:(G={})=>{const N=Ho(t);delete N.onTransitionEnter,delete N.onTransitionExited;const q={...N,...G};return{role:"presentation",...q,onKeyDown:O(q),ref:y}},getBackdropProps:(G={})=>{const N=G;return{"aria-hidden":!0,...N,onClick:$(N),open:d}},getTransitionProps:()=>{const G=()=>{b(!1),s&&s()},N=()=>{b(!0),a&&a(),i&&F()};return{onEnter:Uw(G,l?.props.onEnter??EA),onExited:Uw(N,l?.props.onExited??EA)}},rootRef:y,portalRef:P,isTopModal:k,exited:x,hasTransition:T}}function vU(t){return it("MuiModal",t)}at("MuiModal",["root","hidden","backdrop"]);const yU=t=>{const{open:e,exited:n,classes:r}=t;return st({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},vU,r)},xU=ge("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(et(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),bU=ge($I,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Mb=I.forwardRef(function(e,n){const r=ot({name:"MuiModal",props:e}),{BackdropComponent:i=bU,BackdropProps:s,classes:a,className:l,closeAfterTransition:u=!1,children:d,container:f,component:p,components:g={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:b=!1,disablePortal:T=!1,disableRestoreFocus:w=!1,disableScrollLock:C=!1,hideBackdrop:R=!1,keepMounted:L=!1,onClose:D,onTransitionEnter:k,onTransitionExited:P,open:F,slotProps:O={},slots:$={},theme:_,...K}=r,z={...r,closeAfterTransition:u,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:b,disablePortal:T,disableRestoreFocus:w,disableScrollLock:C,hideBackdrop:R,keepMounted:L},{getRootProps:G,getBackdropProps:N,getTransitionProps:q,portalRef:H,isTopModal:W,exited:j,hasTransition:U}=gU({...z,rootRef:n}),Y={...z,exited:j},ne=yU(Y),re={};if(d.props.tabIndex===void 0&&(re.tabIndex="-1"),U){const{onEnter:Me,onExited:Ye}=q();re.onEnter=Me,re.onExited=Ye}const Q={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...v,...O}},[ee,Oe]=ht("root",{ref:n,elementType:xU,externalForwardedProps:{...Q,...K,component:p},getSlotProps:G,ownerState:Y,className:_e(l,ne?.root,!Y.open&&Y.exited&&ne?.hidden)}),[De,Be]=ht("backdrop",{ref:s?.ref,elementType:i,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Me=>N({...Me,onClick:Ye=>{Me?.onClick&&Me.onClick(Ye)}}),className:_e(s?.className,ne?.backdrop),ownerState:Y});return!L&&!F&&(!U||j)?null:S.jsx(NI,{ref:H,container:f,disablePortal:T,children:S.jsxs(ee,{...Oe,children:[!R&&i?S.jsx(De,{...Be}):null,S.jsx(hU,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:w,isEnabled:W,open:F,children:I.cloneElement(d,re)})]})})});function SU(t){return it("MuiDialog",t)}const Uv=at("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),zI=I.createContext({}),EU=ge($I,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),TU=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,a={root:["root"],container:["container",`scroll${de(n)}`],paper:["paper",`paperScroll${de(n)}`,`paperWidth${de(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return st(a,SU,e)},CU=ge(Mb,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),wU=ge("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${de(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),AU=ge(Zn,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${de(n.scroll)}`],e[`paperWidth${de(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(et(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Uv.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Uv.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Uv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),al=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiDialog"}),i=Ns(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:d,BackdropProps:f,children:p,className:g,disableEscapeKeyDown:v=!1,fullScreen:y=!1,fullWidth:x=!1,maxWidth:b="sm",onClick:T,onClose:w,open:C,PaperComponent:R=Zn,PaperProps:L={},scroll:D="paper",slots:k={},slotProps:P={},TransitionComponent:F=ux,transitionDuration:O=s,TransitionProps:$,..._}=r,K={...r,disableEscapeKeyDown:v,fullScreen:y,fullWidth:x,maxWidth:b,scroll:D},z=TU(K),G=I.useRef(),N=ye=>{G.current=ye.target===ye.currentTarget},q=ye=>{T&&T(ye),G.current&&(G.current=null,w&&w(ye,"backdropClick"))},H=il(l),W=I.useMemo(()=>({titleId:H}),[H]),j={transition:F,...k},U={transition:$,paper:L,backdrop:f,...P},Y={slots:j,slotProps:U},[ne,re]=ht("root",{elementType:CU,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:K,className:_e(z.root,g),ref:n}),[Q,ee]=ht("backdrop",{elementType:EU,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:K}),[Oe,De]=ht("paper",{elementType:AU,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:K,className:_e(z.paper,L.className)}),[Be,Me]=ht("container",{elementType:wU,externalForwardedProps:Y,ownerState:K,className:z.container}),[Ye,Ue]=ht("transition",{elementType:ux,externalForwardedProps:Y,ownerState:K,additionalProps:{appear:!0,in:C,timeout:O,role:"presentation"}});return S.jsx(ne,{closeAfterTransition:!0,slots:{backdrop:Q},slotProps:{backdrop:{transitionDuration:O,as:d,...ee}},disableEscapeKeyDown:v,onClose:w,open:C,onClick:q,...re,..._,children:S.jsx(Ye,{...Ue,children:S.jsx(Be,{onMouseDown:N,...Me,children:S.jsx(Oe,{as:R,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":H,"aria-modal":u,...De,children:S.jsx(zI.Provider,{value:W,children:p})})})})})});function RU(t){return it("MuiDialogActions",t)}at("MuiDialogActions",["root","spacing"]);const LU=t=>{const{classes:e,disableSpacing:n}=t;return st({root:["root",!n&&"spacing"]},RU,e)},IU=ge("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Oc=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...a}=r,l={...r,disableSpacing:s},u=LU(l);return S.jsx(IU,{className:_e(u.root,i),ownerState:l,ref:n,...a})});function kU(t){return it("MuiDialogContent",t)}at("MuiDialogContent",["root","dividers"]);function DU(t){return it("MuiDialogTitle",t)}const _U=at("MuiDialogTitle",["root"]),PU=t=>{const{classes:e,dividers:n}=t;return st({root:["root",n&&"dividers"]},kU,e)},OU=ge("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(et(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${_U.root} + &`]:{paddingTop:0}}}]}))),Mc=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...a}=r,l={...r,dividers:s},u=PU(l);return S.jsx(OU,{className:_e(u.root,i),ownerState:l,ref:n,...a})}),MU=t=>{const{classes:e}=t;return st({root:["root"]},DU,e)},FU=ge(Fe,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Hm=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...a}=r,l=r,u=MU(l),{titleId:d=s}=I.useContext(zI);return S.jsx(FU,{component:"h2",className:_e(u.root,i),ownerState:l,ref:n,variant:"h6",id:s??d,...a})});function NU(t){return it("MuiDivider",t)}const TA=at("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),BU=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:a,textAlign:l,variant:u}=t;return st({root:["root",e&&"absolute",u,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},NU,r)},$U=ge("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(et(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),jU=ge("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(et(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Np=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,orientation:l="horizontal",component:u=s||l==="vertical"?"div":"hr",flexItem:d=!1,light:f=!1,role:p=u!=="hr"?"separator":void 0,textAlign:g="center",variant:v="fullWidth",...y}=r,x={...r,absolute:i,component:u,flexItem:d,light:f,orientation:l,role:p,textAlign:g,variant:v},b=BU(x);return S.jsx($U,{as:u,className:_e(b.root,a),role:p,ref:n,ownerState:x,"aria-orientation":p==="separator"&&(u!=="hr"||l==="vertical")?l:void 0,...y,children:s?S.jsx(jU,{className:b.wrapper,ownerState:x,children:s}):null})});Np&&(Np.muiSkipListHighlight=!0);function UU(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Li(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const d=s.getComputedStyle(e);a=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let l=0,u=0;if(a&&a!=="none"&&typeof a=="string"){const d=a.split("(")[1].split(")")[0].split(",");l=parseInt(d[4],10),u=parseInt(d[5],10)}return t==="left"?i?`translateX(${i.right+l-r.left}px)`:`translateX(${s.innerWidth+l-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:t==="up"?i?`translateY(${i.bottom+u-r.top}px)`:`translateY(${s.innerHeight+u-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-u}px)`:`translateY(-${r.top+r.height-u}px)`}function zU(t){return typeof t=="function"?t():t}function bh(t,e,n){const r=zU(n),i=UU(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const HU=I.forwardRef(function(e,n){const r=Ns(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:u,container:d,direction:f="down",easing:p=i,in:g,onEnter:v,onEntered:y,onEntering:x,onExit:b,onExited:T,onExiting:w,style:C,timeout:R=s,TransitionComponent:L=cs,...D}=e,k=I.useRef(null),P=Fn(oo(u),k,n),F=H=>W=>{H&&(W===void 0?H(k.current):H(k.current,W))},O=F((H,W)=>{bh(f,H,d),Cb(H),v&&v(H,W)}),$=F((H,W)=>{const j=xc({timeout:R,style:C,easing:p},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",{...j}),H.style.transition=r.transitions.create("transform",{...j}),H.style.webkitTransform="none",H.style.transform="none",x&&x(H,W)}),_=F(y),K=F(w),z=F(H=>{const W=xc({timeout:R,style:C,easing:p},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",W),H.style.transition=r.transitions.create("transform",W),bh(f,H,d),b&&b(H)}),G=F(H=>{H.style.webkitTransition="",H.style.transition="",T&&T(H)}),N=H=>{a&&a(k.current,H)},q=I.useCallback(()=>{k.current&&bh(f,k.current,d)},[f,d]);return I.useEffect(()=>{if(g||f==="down"||f==="right")return;const H=Kd(()=>{k.current&&bh(f,k.current,d)}),W=Li(k.current);return W.addEventListener("resize",H),()=>{H.clear(),W.removeEventListener("resize",H)}},[f,g,d]),I.useEffect(()=>{g||q()},[g,q]),S.jsx(L,{nodeRef:k,onEnter:O,onEntered:_,onEntering:$,onExit:z,onExited:G,onExiting:K,addEndListener:N,appear:l,in:g,timeout:R,...D,children:(H,{ownerState:W,...j})=>I.cloneElement(u,{ref:P,style:{visibility:H==="exited"&&!g?"hidden":void 0,...C,...u.props.style},...j})})});function GU(t){return it("MuiDrawer",t)}at("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const HI=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},VU=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root",`anchor${de(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${de(n)}`,r!=="temporary"&&`paperAnchorDocked${de(n)}`]};return st(i,GU,e)},KU=ge(Mb,{name:"MuiDrawer",slot:"Root",overridesResolver:HI})(et(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),WU=ge("div",{shouldForwardProp:Br,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:HI})({flex:"0 0 auto"}),qU=ge(Zn,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${de(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${de(n.anchor)}`]]}})(et(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),GI={left:"right",right:"left",top:"down",bottom:"up"};function YU(t){return["left","right"].includes(t)}function XU({direction:t},e){return t==="rtl"&&YU(e)?GI[e]:e}const VI=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiDrawer"}),i=Ns(),s=so(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:u,children:d,className:f,elevation:p=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:v,...y}={},onClose:x,open:b=!1,PaperProps:T={},SlideProps:w,TransitionComponent:C,transitionDuration:R=a,variant:L="temporary",slots:D={},slotProps:k={},...P}=r,F=I.useRef(!1);I.useEffect(()=>{F.current=!0},[]);const O=XU({direction:s?"rtl":"ltr"},l),_={...r,anchor:l,elevation:p,open:b,variant:L,...P},K=VU(_),z={slots:{transition:C,...D},slotProps:{paper:T,transition:w,...k,backdrop:Sb(k.backdrop||{...u,...v},{transitionDuration:R})}},[G,N]=ht("root",{ref:n,elementType:KU,className:_e(K.root,K.modal,f),shouldForwardComponentProp:!0,ownerState:_,externalForwardedProps:{...z,...P,...y},additionalProps:{open:b,onClose:x,hideBackdrop:g,slots:{backdrop:z.slots.backdrop},slotProps:{backdrop:z.slotProps.backdrop}}}),[q,H]=ht("paper",{elementType:qU,shouldForwardComponentProp:!0,className:_e(K.paper,T.className),ownerState:_,externalForwardedProps:z,additionalProps:{elevation:L==="temporary"?p:0,square:!0,...L==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[W,j]=ht("docked",{elementType:WU,ref:n,className:_e(K.root,K.docked,f),ownerState:_,externalForwardedProps:z,additionalProps:P}),[U,Y]=ht("transition",{elementType:HU,ownerState:_,externalForwardedProps:z,additionalProps:{in:b,direction:GI[O],timeout:R,appear:F.current}}),ne=S.jsx(q,{...H,children:d});if(L==="permanent")return S.jsx(W,{...j,children:ne});const re=S.jsx(U,{...Y,children:ne});return L==="persistent"?S.jsx(W,{...j,children:re}):S.jsx(G,{...N,children:re})}),QU=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:a,multiline:l}=t,u={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${de(s)}`,a&&"hiddenLabel",l&&"multiline"],input:["input"]},d=st(u,j8,e);return{...e,...d}},ZU=ge(jm,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Bm(t,e),!n.disableUnderline&&e.underline]}})(et(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${xi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${xi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xi.disabled}, .${xi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${xi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(xn()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:l})=>a.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),JU=ge(Um,{name:"MuiFilledInput",slot:"Input",overridesResolver:$m})(et(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Fb=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:l=!1,hiddenLabel:u,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text",...y}=r,x={...r,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:f,type:v},b=QU(r),T={root:{ownerState:x},input:{ownerState:x}},w=p??a?Er(T,p??a):T,C=g.root??s.Root??ZU,R=g.input??s.Input??JU;return S.jsx(Pb,{slots:{root:C,input:R},slotProps:w,fullWidth:l,inputComponent:d,multiline:f,ref:n,type:v,...y,classes:b})});Fb.muiName="Input";function e9(t){return it("MuiFormControl",t)}at("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const t9=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return st(i,e9,e)},n9=ge("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${de(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),KI=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:l="div",disabled:u=!1,error:d=!1,focused:f,fullWidth:p=!1,hiddenLabel:g=!1,margin:v="none",required:y=!1,size:x="medium",variant:b="outlined",...T}=r,w={...r,color:a,component:l,disabled:u,error:d,fullWidth:p,hiddenLabel:g,margin:v,required:y,size:x,variant:b},C=t9(w),[R,L]=I.useState(()=>{let G=!1;return i&&I.Children.forEach(i,N=>{if(!rd(N,["Input","Select"]))return;const q=rd(N,["Select"])?N.props.input:N;q&&M8(q.props)&&(G=!0)}),G}),[D,k]=I.useState(()=>{let G=!1;return i&&I.Children.forEach(i,N=>{rd(N,["Input","Select"])&&(Fp(N.props,!0)||Fp(N.props.inputProps,!0))&&(G=!0)}),G}),[P,F]=I.useState(!1);u&&P&&F(!1);const O=f!==void 0&&!u?f:P;let $;I.useRef(!1);const _=I.useCallback(()=>{k(!0)},[]),K=I.useCallback(()=>{k(!1)},[]),z=I.useMemo(()=>({adornedStart:R,setAdornedStart:L,color:a,disabled:u,error:d,filled:D,focused:O,fullWidth:p,hiddenLabel:g,size:x,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:K,onFilled:_,registerEffect:$,required:y,variant:b}),[R,a,u,d,D,O,p,g,$,K,_,y,x,b]);return S.jsx(Nm.Provider,{value:z,children:S.jsx(n9,{as:l,ownerState:w,className:_e(C.root,s),ref:n,...T,children:i})})});function r9(t){return it("MuiFormControlLabel",t)}const ed=at("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),i9=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:s}=t,a={root:["root",n&&"disabled",`labelPlacement${de(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return st(a,r9,e)},s9=ge("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ed.label}`]:e.label},e.root,e[`labelPlacement${de(n.labelPlacement)}`]]}})(et(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ed.disabled}`]:{cursor:"default"},[`& .${ed.label}`]:{[`&.${ed.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),a9=ge("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(et(({theme:t})=>({[`&.${ed.error}`]:{color:(t.vars||t).palette.error.main}}))),WI=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:a={},control:l,disabled:u,disableTypography:d,inputRef:f,label:p,labelPlacement:g="end",name:v,onChange:y,required:x,slots:b={},slotProps:T={},value:w,...C}=r,R=fa(),L=u??l.props.disabled??R?.disabled,D=x??l.props.required,k={disabled:L,required:D};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof l.props[G]>"u"&&typeof r[G]<"u"&&(k[G]=r[G])});const P=sl({props:r,muiFormControl:R,states:["error"]}),F={...r,disabled:L,labelPlacement:g,required:D,error:P.error},O=i9(F),$={slots:b,slotProps:{...a,...T}},[_,K]=ht("typography",{elementType:Fe,externalForwardedProps:$,ownerState:F});let z=p;return z!=null&&z.type!==Fe&&!d&&(z=S.jsx(_,{component:"span",...K,className:_e(O.label,K?.className),children:z})),S.jsxs(s9,{className:_e(O.root,s),ownerState:F,ref:n,...C,children:[I.cloneElement(l,k),D?S.jsxs("div",{children:[z,S.jsxs(a9,{ownerState:F,"aria-hidden":!0,className:O.asterisk,children:["","*"]})]}):z]})});function o9(t){return it("MuiFormHelperText",t)}const CA=at("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var wA;const l9=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:a,focused:l,required:u}=t,d={root:["root",i&&"disabled",s&&"error",r&&`size${de(r)}`,n&&"contained",l&&"focused",a&&"filled",u&&"required"]};return st(d,o9,e)},c9=ge("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${CA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${CA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),u9=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p",disabled:l,error:u,filled:d,focused:f,margin:p,required:g,variant:v,...y}=r,x=fa(),b=sl({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),T={...r,component:a,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete T.ownerState;const w=l9(T);return S.jsx(c9,{as:a,className:_e(w.root,s),ref:n,...y,ownerState:T,children:i===" "?wA||(wA=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function d9(t){return it("MuiFormLabel",t)}const od=at("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),f9=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:a,required:l}=t,u={root:["root",`color${de(n)}`,i&&"disabled",s&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return st(u,d9,e)},h9=ge("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{[`&.${od.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${od.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${od.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),p9=ge("span",{name:"MuiFormLabel",slot:"Asterisk"})(et(({theme:t})=>({[`&.${od.error}`]:{color:(t.vars||t).palette.error.main}}))),m9=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:a,component:l="label",disabled:u,error:d,filled:f,focused:p,required:g,...v}=r,y=fa(),x=sl({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),b={...r,color:x.color||"primary",component:l,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},T=f9(b);return S.jsxs(h9,{as:l,ownerState:b,className:_e(T.root,s),ref:n,...v,children:[i,x.required&&S.jsxs(p9,{ownerState:b,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]})}),AA=oB({createStyledComponent:ge("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>ot({props:t,name:"MuiGrid"}),useTheme:Ns});function dx(t){return`scale(${t}, ${t**2})`}const g9={entering:{opacity:1,transform:dx(1)},entered:{opacity:1,transform:"none"}},zv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),wd=I.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:a,in:l,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:v,style:y,timeout:x="auto",TransitionComponent:b=cs,...T}=e,w=$o(),C=I.useRef(),R=Ns(),L=I.useRef(null),D=Fn(L,oo(s),n),k=G=>N=>{if(G){const q=L.current;N===void 0?G(q):G(q,N)}},P=k(f),F=k((G,N)=>{Cb(G);const{duration:q,delay:H,easing:W}=xc({style:y,timeout:x,easing:a},{mode:"enter"});let j;x==="auto"?(j=R.transitions.getAutoHeightDuration(G.clientHeight),C.current=j):j=q,G.style.transition=[R.transitions.create("opacity",{duration:j,delay:H}),R.transitions.create("transform",{duration:zv?j:j*.666,delay:H,easing:W})].join(","),u&&u(G,N)}),O=k(d),$=k(v),_=k(G=>{const{duration:N,delay:q,easing:H}=xc({style:y,timeout:x,easing:a},{mode:"exit"});let W;x==="auto"?(W=R.transitions.getAutoHeightDuration(G.clientHeight),C.current=W):W=N,G.style.transition=[R.transitions.create("opacity",{duration:W,delay:q}),R.transitions.create("transform",{duration:zv?W:W*.666,delay:zv?q:q||W*.333,easing:H})].join(","),G.style.opacity=0,G.style.transform=dx(.75),p&&p(G)}),K=k(g),z=G=>{x==="auto"&&w.start(C.current||0,G),r&&r(L.current,G)};return S.jsx(b,{appear:i,in:l,nodeRef:L,onEnter:F,onEntered:O,onEntering:P,onExit:_,onExited:K,onExiting:$,addEndListener:z,timeout:x==="auto"?null:x,...T,children:(G,{ownerState:N,...q})=>I.cloneElement(s,{style:{opacity:0,transform:dx(.75),visibility:G==="exited"&&!l?"hidden":void 0,...g9[G],...y,...s.props.style},ref:D,...q})})});wd&&(wd.muiSupportAuto=!0);const v9=t=>{const{classes:e,disableUnderline:n}=t,i=st({root:["root",!n&&"underline"],input:["input"]},B8,e);return{...e,...i}},y9=ge(jm,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Bm(t,e),!n.disableUnderline&&e.underline]}})(et(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ha.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ha.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ha.disabled}, .${Ha.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ha.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(xn()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),x9=ge(Um,{name:"MuiInput",slot:"Input",overridesResolver:$m})({}),Nb=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,slotProps:f,slots:p={},type:g="text",...v}=r,y=v9(r),b={root:{ownerState:{disableUnderline:i}}},T=f??a?Er(f??a,b):b,w=p.root??s.Root??y9,C=p.input??s.Input??x9;return S.jsx(Pb,{slots:{root:w,input:C},slotProps:T,fullWidth:l,inputComponent:u,multiline:d,ref:n,type:g,...v,classes:y})});Nb.muiName="Input";function b9(t){return it("MuiInputAdornment",t)}const RA=at("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var LA;const S9=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${de(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},E9=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:a}=t,l={root:["root",n&&"disablePointerEvents",i&&`position${de(i)}`,a,r&&"hiddenLabel",s&&`size${de(s)}`]};return st(l,b9,e)},T9=ge("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:S9})(et(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${RA.positionStart}&:not(.${RA.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),C9=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:l=!1,disableTypography:u=!1,position:d,variant:f,...p}=r,g=fa()||{};let v=f;f&&g.variant,g&&!v&&(v=g.variant);const y={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:l,position:d,variant:v},x=E9(y);return S.jsx(Nm.Provider,{value:null,children:S.jsx(T9,{as:a,ownerState:y,className:_e(x.root,s),ref:n,...p,children:typeof i=="string"&&!u?S.jsx(Fe,{color:"textSecondary",children:i}):S.jsxs(I.Fragment,{children:[d==="start"?LA||(LA=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function w9(t){return it("MuiInputLabel",t)}at("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const A9=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="medium"&&`size${de(r)}`,a],asterisk:[l&&"asterisk"]},d=st(u,w9,e);return{...e,...d}},R9=ge(m9,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${od.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(et(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),qI=I.forwardRef(function(e,n){const r=ot({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:a,variant:l,className:u,...d}=r,f=fa();let p=a;typeof p>"u"&&f&&(p=f.filled||f.focused||f.adornedStart);const g=sl({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),v={...r,disableAnimation:i,formControl:f,shrink:p,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=A9(v);return S.jsx(R9,{"data-shrink":p,ref:n,className:_e(y.root,u),...d,ownerState:v,classes:y})});function L9(t){return it("MuiLinearProgress",t)}at("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const fx=4,hx=io`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,I9=typeof hx!="string"?_c`
        animation: ${hx} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,px=io`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,k9=typeof px!="string"?_c`
        animation: ${px} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,mx=io`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,D9=typeof mx!="string"?_c`
        animation: ${mx} 3s infinite linear;
      `:null,_9=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${de(r)}`,n],dashed:["dashed",`dashedColor${de(r)}`],bar1:["bar","bar1",`barColor${de(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${de(r)}`,n==="buffer"&&`color${de(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return st(i,L9,e)},Bb=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),P9=ge("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${de(n.color)}`],e[n.variant]]}})(et(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{backgroundColor:Bb(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),O9=ge("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${de(n.color)}`]]}})(et(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(xn()).map(([e])=>{const n=Bb(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),D9||{animation:`${mx} 3s infinite linear`}),M9=ge("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${de(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(et(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${fx}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${fx}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:I9||{animation:`${hx} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),F9=ge("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${de(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(et(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:Bb(t,e),transition:`transform .${fx}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:k9||{animation:`${px} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),ld=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:a,valueBuffer:l,variant:u="indeterminate",...d}=r,f={...r,color:s,variant:u},p=_9(f),g=so(),v={},y={bar1:{},bar2:{}};if((u==="determinate"||u==="buffer")&&a!==void 0){v["aria-valuenow"]=Math.round(a),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let x=a-100;g&&(x=-x),y.bar1.transform=`translateX(${x}%)`}if(u==="buffer"&&l!==void 0){let x=(l||0)-100;g&&(x=-x),y.bar2.transform=`translateX(${x}%)`}return S.jsxs(P9,{className:_e(p.root,i),ownerState:f,role:"progressbar",...v,ref:n,...d,children:[u==="buffer"?S.jsx(O9,{className:p.dashed,ownerState:f}):null,S.jsx(M9,{className:p.bar1,ownerState:f,style:y.bar1}),u==="determinate"?null:S.jsx(F9,{className:p.bar2,ownerState:f,style:y.bar2})]})}),as=I.createContext({});function N9(t){return it("MuiList",t)}at("MuiList",["root","padding","dense","subheader"]);const B9=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return st({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},N9,e)},$9=ge("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ya=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:l=!1,disablePadding:u=!1,subheader:d,...f}=r,p=I.useMemo(()=>({dense:l}),[l]),g={...r,component:a,dense:l,disablePadding:u},v=B9(g);return S.jsx(as.Provider,{value:p,children:S.jsxs($9,{as:a,className:_e(v.root,s),ref:n,ownerState:g,...f,children:[d,i]})})});function j9(t){return it("MuiListItem",t)}at("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function U9(t){return it("MuiListItemButton",t)}const nc=at("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),z9=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},H9=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:a,selected:l}=t,d=st({root:["root",r&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},U9,n);return{...n,...d}},G9=ge(ls,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:z9})(et(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${nc.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${nc.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${nc.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${nc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${nc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Hv=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:l,dense:u=!1,disableGutters:d=!1,divider:f=!1,focusVisibleClassName:p,selected:g=!1,className:v,...y}=r,x=I.useContext(as),b=I.useMemo(()=>({dense:u||x.dense||!1,alignItems:i,disableGutters:d}),[i,x.dense,u,d]),T=I.useRef(null);Ri(()=>{s&&T.current&&T.current.focus()},[s]);const w={...r,alignItems:i,dense:b.dense,disableGutters:d,divider:f,selected:g},C=H9(w),R=Fn(T,n);return S.jsx(as.Provider,{value:b,children:S.jsx(G9,{ref:R,href:y.href||y.to,component:(y.href||y.to)&&a==="div"?"button":a,focusVisibleClassName:_e(C.focusVisible,p),ownerState:w,className:_e(C.root,v),...y,classes:C,children:l})})});function V9(t){return it("MuiListItemSecondaryAction",t)}at("MuiListItemSecondaryAction",["root","disableGutters"]);const K9=t=>{const{disableGutters:e,classes:n}=t;return st({root:["root",e&&"disableGutters"]},V9,n)},W9=ge("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),YI=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...s}=r,a=I.useContext(as),l={...r,disableGutters:a.disableGutters},u=K9(l);return S.jsx(W9,{className:_e(u.root,i),ownerState:l,ref:n,...s})});YI.muiName="ListItemSecondaryAction";const q9=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},Y9=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:s,divider:a,hasSecondaryAction:l}=t;return st({root:["root",r&&"dense",!i&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},j9,n)},X9=ge("div",{name:"MuiListItem",slot:"Root",overridesResolver:q9})(et(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${nc.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Q9=ge("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Gm=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiListItem"}),{alignItems:i="center",children:s,className:a,component:l,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:p,...g}={},dense:v=!1,disableGutters:y=!1,disablePadding:x=!1,divider:b=!1,secondaryAction:T,slotProps:w={},slots:C={},...R}=r,L=I.useContext(as),D=I.useMemo(()=>({dense:v||L.dense||!1,alignItems:i,disableGutters:y}),[i,L.dense,v,y]),k=I.useRef(null),P=I.Children.toArray(s),F=P.length&&rd(P[P.length-1],["ListItemSecondaryAction"]),O={...r,alignItems:i,dense:D.dense,disableGutters:y,disablePadding:x,divider:b,hasSecondaryAction:F},$=Y9(O),_=Fn(k,n),K=C.root||u.Root||X9,z=w.root||d.root||{},G={className:_e($.root,z.className,a),...R};let N=l||"li";return F?(N=!G.component&&!l?"div":N,f==="li"&&(N==="li"?N="div":G.component==="li"&&(G.component="div")),S.jsx(as.Provider,{value:D,children:S.jsxs(Q9,{as:f,className:_e($.container,p),ref:_,ownerState:O,...g,children:[S.jsx(K,{...z,...!Ds(K)&&{as:N,ownerState:{...O,...z.ownerState}},...G,children:P}),P.pop()]})})):S.jsx(as.Provider,{value:D,children:S.jsxs(K,{...z,as:N,ref:_,...!Ds(K)&&{ownerState:{...O,...z.ownerState}},...G,children:[P,T&&S.jsx(YI,{children:T})]})})});function Z9(t){return it("MuiListItemIcon",t)}const IA=at("MuiListItemIcon",["root","alignItemsFlexStart"]),J9=t=>{const{alignItems:e,classes:n}=t;return st({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Z9,n)},e7=ge("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(et(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Gv=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiListItemIcon"}),{className:i,...s}=r,a=I.useContext(as),l={...r,alignItems:a.alignItems},u=J9(l);return S.jsx(e7,{className:_e(u.root,i),ownerState:l,ref:n,...s})});function t7(t){return it("MuiListItemText",t)}const ic=at("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),n7=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return st({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},t7,e)},r7=ge("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ic.primary}`]:e.primary},{[`& .${ic.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${qw.root}:where(& .${ic.primary})`]:{display:"block"},[`.${qw.root}:where(& .${ic.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),cd=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:l=!1,primary:u,primaryTypographyProps:d,secondary:f,secondaryTypographyProps:p,slots:g={},slotProps:v={},...y}=r,{dense:x}=I.useContext(as);let b=u??i,T=f;const w={...r,disableTypography:a,inset:l,primary:!!b,secondary:!!T,dense:x},C=n7(w),R={slots:g,slotProps:{primary:d,secondary:p,...v}},[L,D]=ht("root",{className:_e(C.root,s),elementType:r7,externalForwardedProps:{...R,...y},ownerState:w,ref:n}),[k,P]=ht("primary",{className:C.primary,elementType:Fe,externalForwardedProps:R,ownerState:w}),[F,O]=ht("secondary",{className:C.secondary,elementType:Fe,externalForwardedProps:R,ownerState:w});return b!=null&&b.type!==Fe&&!a&&(b=S.jsx(k,{variant:x?"body2":"body1",component:P?.variant?void 0:"span",...P,children:b})),T!=null&&T.type!==Fe&&!a&&(T=S.jsx(F,{variant:"body2",color:"textSecondary",...O,children:T})),S.jsxs(L,{...D,children:[b,T]})});function Vv(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function kA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function XI(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function ju(t,e,n,r,i,s){let a=!1,l=i(t,e,e?n:!1);for(;l;){if(l===t.firstChild){if(a)return!1;a=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!XI(l,s)||u)l=i(t,l,n);else return l.focus(),!0}return!1}const i7=I.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:l,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:f,variant:p="selectedMenu",...g}=e,v=I.useRef(null),y=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ri(()=>{i&&v.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:R})=>{const L=!v.current.style.width;if(C.clientHeight<v.current.clientHeight&&L){const D=`${UI(Li(C))}px`;v.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=D,v.current.style.width=`calc(100% + ${D})`}return v.current}}),[]);const x=C=>{const R=v.current,L=C.key;if(C.ctrlKey||C.metaKey||C.altKey){f&&f(C);return}const k=tr(R).activeElement;if(L==="ArrowDown")C.preventDefault(),ju(R,k,d,u,Vv);else if(L==="ArrowUp")C.preventDefault(),ju(R,k,d,u,kA);else if(L==="Home")C.preventDefault(),ju(R,null,d,u,Vv);else if(L==="End")C.preventDefault(),ju(R,null,d,u,kA);else if(L.length===1){const P=y.current,F=L.toLowerCase(),O=performance.now();P.keys.length>0&&(O-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&F!==P.keys[0]&&(P.repeating=!1)),P.lastTime=O,P.keys.push(F);const $=k&&!P.repeating&&XI(k,P);P.previousKeyMatched&&($||ju(R,k,!1,u,Vv,P))?C.preventDefault():P.previousKeyMatched=!1}f&&f(C)},b=Fn(v,n);let T=-1;I.Children.forEach(a,(C,R)=>{if(!I.isValidElement(C)){T===R&&(T+=1,T>=a.length&&(T=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||T===-1)&&(T=R),T===R&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(T+=1,T>=a.length&&(T=-1))});const w=I.Children.map(a,(C,R)=>{if(R===T){const L={};return s&&(L.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(L.tabIndex=0),I.cloneElement(C,L)}return C});return S.jsx(Ya,{role:"menu",ref:b,className:l,onKeyDown:x,tabIndex:i?0:-1,...g,children:w})});function s7(t){return it("MuiPopover",t)}at("MuiPopover",["root","paper"]);function DA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function _A(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function PA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Sh(t){return typeof t=="function"?t():t}const a7=t=>{const{classes:e}=t;return st({root:["root"],paper:["paper"]},s7,e)},o7=ge(Mb,{name:"MuiPopover",slot:"Root"})({}),QI=ge(Zn,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),l7=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:d,className:f,container:p,elevation:g=8,marginThreshold:v=16,open:y,PaperProps:x={},slots:b={},slotProps:T={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:R="auto",TransitionProps:L={},disableScrollLock:D=!1,...k}=r,P=I.useRef(),F={...r,anchorOrigin:a,anchorReference:u,elevation:g,marginThreshold:v,transformOrigin:w,TransitionComponent:C,transitionDuration:R,TransitionProps:L},O=a7(F),$=I.useCallback(()=>{if(u==="anchorPosition")return l;const Me=Sh(s),Ue=(Me&&Me.nodeType===1?Me:tr(P.current).body).getBoundingClientRect();return{top:Ue.top+DA(Ue,a.vertical),left:Ue.left+_A(Ue,a.horizontal)}},[s,a.horizontal,a.vertical,l,u]),_=I.useCallback(Me=>({vertical:DA(Me,w.vertical),horizontal:_A(Me,w.horizontal)}),[w.horizontal,w.vertical]),K=I.useCallback(Me=>{const Ye={width:Me.offsetWidth,height:Me.offsetHeight},Ue=_(Ye);if(u==="none")return{top:null,left:null,transformOrigin:PA(Ue)};const ye=$();let Re=ye.top-Ue.vertical,gt=ye.left-Ue.horizontal;const Le=Re+Ye.height,Pe=gt+Ye.width,ke=Li(Sh(s)),bt=ke.innerHeight-v,Ve=ke.innerWidth-v;if(v!==null&&Re<v){const pt=Re-v;Re-=pt,Ue.vertical+=pt}else if(v!==null&&Le>bt){const pt=Le-bt;Re-=pt,Ue.vertical+=pt}if(v!==null&&gt<v){const pt=gt-v;gt-=pt,Ue.horizontal+=pt}else if(Pe>Ve){const pt=Pe-Ve;gt-=pt,Ue.horizontal+=pt}return{top:`${Math.round(Re)}px`,left:`${Math.round(gt)}px`,transformOrigin:PA(Ue)}},[s,u,$,_,v]),[z,G]=I.useState(y),N=I.useCallback(()=>{const Me=P.current;if(!Me)return;const Ye=K(Me);Ye.top!==null&&Me.style.setProperty("top",Ye.top),Ye.left!==null&&(Me.style.left=Ye.left),Me.style.transformOrigin=Ye.transformOrigin,G(!0)},[K]);I.useEffect(()=>(D&&window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)),[s,D,N]);const q=()=>{N()},H=()=>{G(!1)};I.useEffect(()=>{y&&N()}),I.useImperativeHandle(i,()=>y?{updatePosition:()=>{N()}}:null,[y,N]),I.useEffect(()=>{if(!y)return;const Me=Kd(()=>{N()}),Ye=Li(Sh(s));return Ye.addEventListener("resize",Me),()=>{Me.clear(),Ye.removeEventListener("resize",Me)}},[s,y,N]);let W=R;const j={slots:{transition:C,...b},slotProps:{transition:L,paper:x,...T}},[U,Y]=ht("transition",{elementType:wd,externalForwardedProps:j,ownerState:F,getSlotProps:Me=>({...Me,onEntering:(Ye,Ue)=>{Me.onEntering?.(Ye,Ue),q()},onExited:Ye=>{Me.onExited?.(Ye),H()}}),additionalProps:{appear:!0,in:y}});R==="auto"&&!U.muiSupportAuto&&(W=void 0);const ne=p||(s?tr(Sh(s)).body:void 0),[re,{slots:Q,slotProps:ee,...Oe}]=ht("root",{ref:n,elementType:o7,externalForwardedProps:{...j,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:Sb(typeof T.backdrop=="function"?T.backdrop(F):T.backdrop,{invisible:!0})},container:ne,open:y},ownerState:F,className:_e(O.root,f)}),[De,Be]=ht("paper",{ref:P,className:O.paper,elementType:QI,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:z?void 0:{opacity:0}},ownerState:F});return S.jsx(re,{...Oe,...!Ds(re)&&{slots:Q,slotProps:ee,disableScrollLock:D},children:S.jsx(U,{...Y,timeout:W,children:S.jsx(De,{...Be,children:d})})})});function c7(t){return it("MuiMenu",t)}at("MuiMenu",["root","paper","list"]);const u7={vertical:"top",horizontal:"right"},d7={vertical:"top",horizontal:"left"},f7=t=>{const{classes:e}=t;return st({root:["root"],paper:["paper"],list:["list"]},c7,e)},h7=ge(l7,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),p7=ge(QI,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),m7=ge(i7,{name:"MuiMenu",slot:"List"})({outline:0}),cc=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:a,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:p={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y,...x}={},variant:b="selectedMenu",slots:T={},slotProps:w={},...C}=r,R=so(),L={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:u,onEntering:y,PaperProps:p,transitionDuration:v,TransitionProps:x,variant:b},D=f7(L),k=i&&!l&&f,P=I.useRef(null),F=(W,j)=>{P.current&&P.current.adjustStyleForScrollbar(W,{direction:R?"rtl":"ltr"}),y&&y(W,j)},O=W=>{W.key==="Tab"&&(W.preventDefault(),d&&d(W,"tabKeyDown"))};let $=-1;I.Children.map(s,(W,j)=>{I.isValidElement(W)&&(W.props.disabled||(b==="selectedMenu"&&W.props.selected||$===-1)&&($=j))});const _={slots:T,slotProps:{list:u,transition:x,paper:p,...w}},K=Jr({elementType:T.root,externalSlotProps:w.root,ownerState:L,className:[D.root,a]}),[z,G]=ht("paper",{className:D.paper,elementType:p7,externalForwardedProps:_,shouldForwardComponentProp:!0,ownerState:L}),[N,q]=ht("list",{className:_e(D.list,u.className),elementType:m7,shouldForwardComponentProp:!0,externalForwardedProps:_,getSlotProps:W=>({...W,onKeyDown:j=>{O(j),W.onKeyDown?.(j)}}),ownerState:L}),H=typeof _.slotProps.transition=="function"?_.slotProps.transition(L):_.slotProps.transition;return S.jsx(h7,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?u7:d7,slots:{root:T.root,paper:z,backdrop:T.backdrop,...T.transition&&{transition:T.transition}},slotProps:{root:K,paper:G,backdrop:typeof w.backdrop=="function"?w.backdrop(L):w.backdrop,transition:{...H,onEntering:(...W)=>{F(...W),H?.onEntering?.(...W)}}},open:f,ref:n,transitionDuration:v,ownerState:L,...C,classes:g,children:S.jsx(N,{actions:P,autoFocus:i&&($===-1||l),autoFocusItem:k,variant:b,...q,children:s})})});function g7(t){return it("MuiMenuItem",t)}const Uu=at("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),v7=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},y7=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:a}=t,u=st({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},g7,a);return{...a,...u}},x7=ge(ls,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:v7})(et(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uu.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Uu.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Uu.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Uu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Uu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${TA.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${TA.inset}`]:{marginLeft:52},[`& .${ic.root}`]:{marginTop:0,marginBottom:0},[`& .${ic.inset}`]:{paddingLeft:36},[`& .${IA.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${IA.root} svg`]:{fontSize:"1.25rem"}}}]}))),or=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:d,role:f="menuitem",tabIndex:p,className:g,...v}=r,y=I.useContext(as),x=I.useMemo(()=>({dense:a||y.dense||!1,disableGutters:u}),[y.dense,a,u]),b=I.useRef(null);Ri(()=>{i&&b.current&&b.current.focus()},[i]);const T={...r,dense:x.dense,divider:l,disableGutters:u},w=y7(r),C=Fn(b,n);let R;return r.disabled||(R=p!==void 0?p:-1),S.jsx(as.Provider,{value:x,children:S.jsx(x7,{ref:C,role:f,tabIndex:R,component:s,focusVisibleClassName:_e(w.focusVisible,d),className:_e(w.root,g),...v,ownerState:T,classes:w})})});function b7(t){return it("MuiNativeSelect",t)}const $b=at("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),S7=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:a}=t,l={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${de(n)}`,s&&"iconOpen",r&&"disabled"]};return st(l,b7,e)},ZI=ge("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${$b.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),E7=ge(ZI,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Br,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${$b.multiple}`]:e.multiple}]}})({}),JI=ge("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${$b.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),T7=ge(JI,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),C7=I.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:a,inputRef:l,variant:u="standard",...d}=e,f={...e,disabled:i,variant:u,error:s},p=S7(f);return S.jsxs(I.Fragment,{children:[S.jsx(E7,{ownerState:f,className:_e(p.select,r),disabled:i,ref:l||n,...d}),e.multiple?null:S.jsx(T7,{as:a,ownerState:f,className:p.icon})]})});var OA;const w7=ge("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Br})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),A7=ge("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Br})(et(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function R7(t){const{children:e,classes:n,className:r,label:i,notched:s,...a}=t,l=i!=null&&i!=="",u={...t,notched:s,withLabel:l};return S.jsx(w7,{"aria-hidden":!0,className:r,ownerState:u,...a,children:S.jsx(A7,{ownerState:u,children:l?S.jsx("span",{children:i}):OA||(OA=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const L7=t=>{const{classes:e}=t,r=st({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$8,e);return{...e,...r}},I7=ge(jm,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Bm})(et(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${$i.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${$i.focused} .${$i.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(xn()).map(([n])=>({props:{color:n},style:{[`&.${$i.focused} .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${$i.error} .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${$i.disabled} .${$i.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),k7=ge(R7,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(et(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),D7=ge(Um,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:$m})(et(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),jb=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:d,slots:f={},slotProps:p={},type:g="text",...v}=r,y=L7(r),x=fa(),b=sl({props:r,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T={...r,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:x,fullWidth:s,hiddenLabel:b.hiddenLabel,multiline:u,size:b.size,type:g},w=f.root??i.Root??I7,C=f.input??i.Input??D7,[R,L]=ht("notchedOutline",{elementType:k7,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:T,externalForwardedProps:{slots:f,slotProps:p},additionalProps:{label:l!=null&&l!==""&&b.required?S.jsxs(I.Fragment,{children:[l,"","*"]}):l}});return S.jsx(Pb,{slots:{root:w,input:C},slotProps:p,renderSuffix:D=>S.jsx(R,{...L,notched:typeof d<"u"?d:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:s,inputComponent:a,multiline:u,ref:n,type:g,...v,classes:{...y,notchedOutline:null}})});jb.muiName="Input";const _7={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function ek(t){return it("MuiSelect",t)}const zu=at("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var MA;const P7=ge(ZI,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${zu.select}`]:e.select},{[`&.${zu.select}`]:e[n.variant]},{[`&.${zu.error}`]:e.error},{[`&.${zu.multiple}`]:e.multiple}]}})({[`&.${zu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),O7=ge(JI,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),M7=ge("input",{shouldForwardProp:t=>Pm(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function FA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function F7(t){return t==null||typeof t=="string"&&!t.trim()}const N7=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:a}=t,l={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${de(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return st(l,ek,e)},B7=I.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:d,defaultValue:f,disabled:p,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:x,labelId:b,MenuProps:T={},multiple:w,name:C,onBlur:R,onChange:L,onClose:D,onFocus:k,onOpen:P,open:F,readOnly:O,renderValue:$,required:_,SelectDisplayProps:K={},tabIndex:z,type:G,value:N,variant:q="standard",...H}=e,[W,j]=qa({controlled:N,default:f,name:"Select"}),[U,Y]=qa({controlled:F,default:d,name:"Select"}),ne=I.useRef(null),re=I.useRef(null),[Q,ee]=I.useState(null),{current:Oe}=I.useRef(F!=null),[De,Be]=I.useState(),Me=Fn(n,x),Ye=I.useCallback(Qe=>{re.current=Qe,Qe&&ee(Qe)},[]),Ue=Q?.parentNode;I.useImperativeHandle(Me,()=>({focus:()=>{re.current.focus()},node:ne.current,value:W}),[W]),I.useEffect(()=>{d&&U&&Q&&!Oe&&(Be(a?null:Ue.clientWidth),re.current.focus())},[Q,a]),I.useEffect(()=>{s&&re.current.focus()},[s]),I.useEffect(()=>{if(!b)return;const Qe=tr(re.current).getElementById(b);if(Qe){const Et=()=>{getSelection().isCollapsed&&re.current.focus()};return Qe.addEventListener("click",Et),()=>{Qe.removeEventListener("click",Et)}}},[b]);const ye=(Qe,Et)=>{Qe?P&&P(Et):D&&D(Et),Oe||(Be(a?null:Ue.clientWidth),Y(Qe))},Re=Qe=>{Qe.button===0&&(Qe.preventDefault(),re.current.focus(),ye(!0,Qe))},gt=Qe=>{ye(!1,Qe)},Le=I.Children.toArray(l),Pe=Qe=>{const Et=Le.find(Lt=>Lt.props.value===Qe.target.value);Et!==void 0&&(j(Et.props.value),L&&L(Qe,Et))},ke=Qe=>Et=>{let Lt;if(Et.currentTarget.hasAttribute("tabindex")){if(w){Lt=Array.isArray(W)?W.slice():[];const ln=W.indexOf(Qe.props.value);ln===-1?Lt.push(Qe.props.value):Lt.splice(ln,1)}else Lt=Qe.props.value;if(Qe.props.onClick&&Qe.props.onClick(Et),W!==Lt&&(j(Lt),L)){const ln=Et.nativeEvent||Et,wn=new ln.constructor(ln.type,ln);Object.defineProperty(wn,"target",{writable:!0,value:{value:Lt,name:C}}),L(wn,Qe)}w||ye(!1,Et)}},bt=Qe=>{O||[" ","ArrowUp","ArrowDown","Enter"].includes(Qe.key)&&(Qe.preventDefault(),ye(!0,Qe))},Ve=Q!==null&&U,pt=Qe=>{!Ve&&R&&(Object.defineProperty(Qe,"target",{writable:!0,value:{value:W,name:C}}),R(Qe))};delete H["aria-invalid"];let Ke,Ut;const Se=[];let pe=!1;(Fp({value:W})||g)&&($?Ke=$(W):pe=!0);const be=Le.map(Qe=>{if(!I.isValidElement(Qe))return null;let Et;if(w){if(!Array.isArray(W))throw new Error(ca(2));Et=W.some(Lt=>FA(Lt,Qe.props.value)),Et&&pe&&Se.push(Qe.props.children)}else Et=FA(W,Qe.props.value),Et&&pe&&(Ut=Qe.props.children);return I.cloneElement(Qe,{"aria-selected":Et?"true":"false",onClick:ke(Qe),onKeyUp:Lt=>{Lt.key===" "&&Lt.preventDefault(),Qe.props.onKeyUp&&Qe.props.onKeyUp(Lt)},role:"option",selected:Et,value:void 0,"data-value":Qe.props.value})});pe&&(w?Se.length===0?Ke=null:Ke=Se.reduce((Qe,Et,Lt)=>(Qe.push(Et),Lt<Se.length-1&&Qe.push(", "),Qe),[]):Ke=Ut);let $e=De;!a&&Oe&&Q&&($e=Ue.clientWidth);let Ge;typeof z<"u"?Ge=z:Ge=p?null:0;const We=K.id||(C?`mui-component-select-${C}`:void 0),Xe={...e,variant:q,value:W,open:Ve,error:v},je=N7(Xe),It={...T.PaperProps,...typeof T.slotProps?.paper=="function"?T.slotProps.paper(Xe):T.slotProps?.paper},yt={...T.MenuListProps,...typeof T.slotProps?.list=="function"?T.slotProps.list(Xe):T.slotProps?.list},Dt=il();return S.jsxs(I.Fragment,{children:[S.jsx(P7,{as:"div",ref:Ye,tabIndex:Ge,role:"combobox","aria-controls":Ve?Dt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,We].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":_?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:bt,onMouseDown:p||O?null:Re,onBlur:pt,onFocus:k,...K,ownerState:Xe,className:_e(K.className,je.select,u),id:We,children:F7(Ke)?MA||(MA=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ke}),S.jsx(M7,{"aria-invalid":v,value:Array.isArray(W)?W.join(","):W,name:C,ref:ne,"aria-hidden":!0,onChange:Pe,tabIndex:-1,disabled:p,className:je.nativeInput,autoFocus:s,required:_,...H,ownerState:Xe}),S.jsx(O7,{as:y,className:je.icon,ownerState:Xe}),S.jsx(cc,{id:`menu-${C||""}`,anchorEl:Ue,open:Ve,onClose:gt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...T,slotProps:{...T.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Dt,...yt},paper:{...It,style:{minWidth:$e,...It!=null?It.style:null}}},children:be})]})}),$7=t=>{const{classes:e}=t,r=st({root:["root"]},ek,e);return{...e,...r}},Ub={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Br(t)&&t!=="variant"},j7=ge(Nb,Ub)(""),U7=ge(jb,Ub)(""),z7=ge(Fb,Ub)(""),zb=I.forwardRef(function(e,n){const r=ot({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:l,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:f=BI,id:p,input:g,inputProps:v,label:y,labelId:x,MenuProps:b,multiple:T=!1,native:w=!1,onClose:C,onOpen:R,open:L,renderValue:D,SelectDisplayProps:k,variant:P="outlined",...F}=r,O=w?C7:B7,$=fa(),_=sl({props:r,muiFormControl:$,states:["variant","error"]}),K=_.variant||P,z={...r,variant:K,classes:a},G=$7(z),{root:N,...q}=G,H=g||{standard:S.jsx(j7,{ownerState:z}),outlined:S.jsx(U7,{label:y,ownerState:z}),filled:S.jsx(z7,{ownerState:z})}[K],W=Fn(n,oo(H));return S.jsx(I.Fragment,{children:I.cloneElement(H,{inputComponent:O,inputProps:{children:s,error:_.error,IconComponent:f,variant:K,type:void 0,multiple:T,...w?{id:p}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:x,MenuProps:b,onClose:C,onOpen:R,open:L,renderValue:D,SelectDisplayProps:{id:p,...k}},...v,classes:v?Er(q,v.classes):q,...g?g.props.inputProps:{}},...(T&&w||d)&&K==="outlined"?{notched:!0}:{},ref:W,className:_e(H.props.className,l,G.root),...!g&&{variant:K},...F})})});zb.muiName="Select";function H7(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const G7=2;function Yl(t,e,n,r,i){return n===1?Math.min(t+e,i):Math.max(t-e,r)}function tk(t,e){return t-e}function NA(t,e){const{index:n}=t.reduce((r,i,s)=>{const a=Math.abs(e-i);return r===null||a<r.distance||a===r.distance?{distance:a,index:s}:r},null)??{};return n}function Eh(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Bp(t,e,n){return(t-e)*100/(n-e)}function V7(t,e,n){return(n-e)*t+e}function K7(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function W7(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(K7(e)))}function BA({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(tk)}function Th({sliderRef:t,activeIndex:e,setActive:n}){const r=tr(t.current);(!t.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}function Ch(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?H7(t,e):!1}const q7={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Y7=t=>t;let wh;function $A(){return wh===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?wh=CSS.supports("touch-action","none"):wh=!0),wh}function X7(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:l=100,min:u=0,name:d,onChange:f,onChangeCommitted:p,orientation:g="horizontal",rootRef:v,scale:y=Y7,step:x=1,shiftStep:b=10,tabIndex:T,value:w}=t,C=I.useRef(void 0),[R,L]=I.useState(-1),[D,k]=I.useState(-1),[P,F]=I.useState(!1),O=I.useRef(0),$=I.useRef(null),[_,K]=qa({controlled:w,default:n??u,name:"Slider"}),z=f&&((pe,be,$e)=>{const Ge=pe.nativeEvent||pe,We=new Ge.constructor(Ge.type,Ge);Object.defineProperty(We,"target",{writable:!0,value:{value:be,name:d}}),$.current=be,f(We,be,$e)}),G=Array.isArray(_);let N=G?_.slice().sort(tk):[_];N=N.map(pe=>pe==null?u:ec(pe,u,l));const q=a===!0&&x!==null?[...Array(Math.floor((l-u)/x)+1)].map((pe,be)=>({value:u+x*be})):a||[],H=q.map(pe=>pe.value),[W,j]=I.useState(-1),U=I.useRef(null),Y=Fn(v,U),ne=pe=>be=>{const $e=Number(be.currentTarget.getAttribute("data-index"));bc(be.target)&&j($e),k($e),pe?.onFocus?.(be)},re=pe=>be=>{bc(be.target)||j(-1),k(-1),pe?.onBlur?.(be)},Q=(pe,be)=>{const $e=Number(pe.currentTarget.getAttribute("data-index")),Ge=N[$e],We=H.indexOf(Ge);let Xe=be;if(q&&x==null){const je=H[H.length-1];Xe>=je?Xe=je:Xe<=H[0]?Xe=H[0]:Xe=Xe<Ge?H[We-1]:H[We+1]}if(Xe=ec(Xe,u,l),G){i&&(Xe=ec(Xe,N[$e-1]||-1/0,N[$e+1]||1/0));const je=Xe;Xe=BA({values:N,newValue:Xe,index:$e});let It=$e;i||(It=Xe.indexOf(je)),Th({sliderRef:U,activeIndex:It})}K(Xe),j($e),z&&!Ch(Xe,_)&&z(pe,Xe,$e),p&&p(pe,$.current??Xe)},ee=pe=>be=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(be.key)){be.preventDefault();const $e=Number(be.currentTarget.getAttribute("data-index")),Ge=N[$e];let We=null;if(x!=null){const Xe=be.shiftKey?b:x;switch(be.key){case"ArrowUp":We=Yl(Ge,Xe,1,u,l);break;case"ArrowRight":We=Yl(Ge,Xe,s?-1:1,u,l);break;case"ArrowDown":We=Yl(Ge,Xe,-1,u,l);break;case"ArrowLeft":We=Yl(Ge,Xe,s?1:-1,u,l);break;case"PageUp":We=Yl(Ge,b,1,u,l);break;case"PageDown":We=Yl(Ge,b,-1,u,l);break;case"Home":We=u;break;case"End":We=l;break}}else if(q){const Xe=H[H.length-1],je=H.indexOf(Ge),It=[s?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],yt=[s?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];It.includes(be.key)?je===0?We=H[0]:We=H[je-1]:yt.includes(be.key)&&(je===H.length-1?We=Xe:We=H[je+1])}We!=null&&Q(be,We)}pe?.onKeyDown?.(be)};Ri(()=>{r&&U.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&R!==-1&&L(-1),r&&W!==-1&&j(-1);const Oe=pe=>be=>{pe.onChange?.(be),Q(be,be.target.valueAsNumber)},De=I.useRef(void 0);let Be=g;s&&g==="horizontal"&&(Be+="-reverse");const Me=({finger:pe,move:be=!1})=>{const{current:$e}=U,{width:Ge,height:We,bottom:Xe,left:je}=$e.getBoundingClientRect();let It;Be.startsWith("vertical")?It=(Xe-pe.y)/We:It=(pe.x-je)/Ge,Be.includes("-reverse")&&(It=1-It);let yt;if(yt=V7(It,u,l),x)yt=W7(yt,x,u);else{const Qe=NA(H,yt);yt=H[Qe]}yt=ec(yt,u,l);let Dt=0;if(G){be?Dt=De.current:Dt=NA(N,yt),i&&(yt=ec(yt,N[Dt-1]||-1/0,N[Dt+1]||1/0));const Qe=yt;yt=BA({values:N,newValue:yt,index:Dt}),i&&be||(Dt=yt.indexOf(Qe),De.current=Dt)}return{newValue:yt,activeIndex:Dt}},Ye=Qn(pe=>{const be=Eh(pe,C);if(!be)return;if(O.current+=1,pe.type==="mousemove"&&pe.buttons===0){Ue(pe);return}const{newValue:$e,activeIndex:Ge}=Me({finger:be,move:!0});Th({sliderRef:U,activeIndex:Ge,setActive:L}),K($e),!P&&O.current>G7&&F(!0),z&&!Ch($e,_)&&z(pe,$e,Ge)}),Ue=Qn(pe=>{const be=Eh(pe,C);if(F(!1),!be)return;const{newValue:$e}=Me({finger:be,move:!0});L(-1),pe.type==="touchend"&&k(-1),p&&p(pe,$.current??$e),C.current=void 0,Re()}),ye=Qn(pe=>{if(r)return;$A()||pe.preventDefault();const be=pe.changedTouches[0];be!=null&&(C.current=be.identifier);const $e=Eh(pe,C);if($e!==!1){const{newValue:We,activeIndex:Xe}=Me({finger:$e});Th({sliderRef:U,activeIndex:Xe,setActive:L}),K(We),z&&!Ch(We,_)&&z(pe,We,Xe)}O.current=0;const Ge=tr(U.current);Ge.addEventListener("touchmove",Ye,{passive:!0}),Ge.addEventListener("touchend",Ue,{passive:!0})}),Re=I.useCallback(()=>{const pe=tr(U.current);pe.removeEventListener("mousemove",Ye),pe.removeEventListener("mouseup",Ue),pe.removeEventListener("touchmove",Ye),pe.removeEventListener("touchend",Ue)},[Ue,Ye]);I.useEffect(()=>{const{current:pe}=U;return pe.addEventListener("touchstart",ye,{passive:$A()}),()=>{pe.removeEventListener("touchstart",ye),Re()}},[Re,ye]),I.useEffect(()=>{r&&Re()},[r,Re]);const gt=pe=>be=>{if(pe.onMouseDown?.(be),r||be.defaultPrevented||be.button!==0)return;be.preventDefault();const $e=Eh(be,C);if($e!==!1){const{newValue:We,activeIndex:Xe}=Me({finger:$e});Th({sliderRef:U,activeIndex:Xe,setActive:L}),K(We),z&&!Ch(We,_)&&z(be,We,Xe)}O.current=0;const Ge=tr(U.current);Ge.addEventListener("mousemove",Ye,{passive:!0}),Ge.addEventListener("mouseup",Ue)},Le=Bp(G?N[0]:u,u,l),Pe=Bp(N[N.length-1],u,l)-Le,ke=(pe={})=>{const be=Ho(pe),$e={onMouseDown:gt(be||{})},Ge={...be,...$e};return{...pe,ref:Y,...Ge}},bt=pe=>be=>{pe.onMouseOver?.(be);const $e=Number(be.currentTarget.getAttribute("data-index"));k($e)},Ve=pe=>be=>{pe.onMouseLeave?.(be),k(-1)},pt=(pe={})=>{const be=Ho(pe),$e={onMouseOver:bt(be||{}),onMouseLeave:Ve(be||{})};return{...pe,...be,...$e}},Ke=pe=>({pointerEvents:R!==-1&&R!==pe?"none":void 0});let Ut;return g==="vertical"&&(Ut=s?"vertical-rl":"vertical-lr"),{active:R,axis:Be,axisProps:q7,dragging:P,focusedThumbIndex:W,getHiddenInputProps:(pe={})=>{const be=Ho(pe),$e={onChange:Oe(be||{}),onFocus:ne(be||{}),onBlur:re(be||{}),onKeyDown:ee(be||{})},Ge={...be,...$e};return{tabIndex:T,"aria-labelledby":e,"aria-orientation":g,"aria-valuemax":y(l),"aria-valuemin":y(u),name:d,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...pe,...Ge,style:{..._7,direction:s?"rtl":"ltr",width:"100%",height:"100%",writingMode:Ut}}},getRootProps:ke,getThumbProps:pt,marks:q,open:D,range:G,rootRef:Y,trackLeap:Pe,trackOffset:Le,values:N,getThumbStyle:Ke}}const Q7=t=>!t||!Ds(t);function Z7(t){return it("MuiSlider",t)}const zi=at("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),J7=t=>{const{open:e}=t;return{offset:_e(e&&zi.valueLabelOpen),circle:zi.valueLabelCircle,label:zi.valueLabelLabel}};function ez(t){const{children:e,className:n,value:r}=t,i=J7(t);return e?I.cloneElement(e,{className:e.props.className},S.jsxs(I.Fragment,{children:[e.props.children,S.jsx("span",{className:_e(i.offset,n),"aria-hidden":!0,children:S.jsx("span",{className:i.circle,children:S.jsx("span",{className:i.label,children:r})})})]})):null}function jA(t){return t}const tz=ge("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${de(n.color)}`],n.size!=="medium"&&e[`size${de(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(et(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${zi.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${zi.dragging}`]:{[`& .${zi.thumb}, & .${zi.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),nz=ge("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),rz=ge("span",{name:"MuiSlider",slot:"Track"})(et(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),iz=ge("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${de(n.color)}`],n.size!=="medium"&&e[`thumbSize${de(n.size)}`]]}})(et(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${zi.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${zi.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${zi.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),sz=ge(ez,{name:"MuiSlider",slot:"ValueLabel"})(et(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${zi.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${zi.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),az=ge("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Pm(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(et(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),oz=ge("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Pm(t)&&t!=="markLabelActive"})(et(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),lz=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:s,classes:a,color:l,size:u}=t,d={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",l&&`color${de(l)}`,u&&`size${de(u)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",u&&`thumbSize${de(u)}`,l&&`thumbColor${de(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return st(d,Z7,a)},cz=({children:t})=>t,uz=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiSlider"}),i=so(),{"aria-label":s,"aria-valuetext":a,"aria-labelledby":l,component:u="span",components:d={},componentsProps:f={},color:p="primary",classes:g,className:v,disableSwap:y=!1,disabled:x=!1,getAriaLabel:b,getAriaValueText:T,marks:w=!1,max:C=100,min:R=0,name:L,onChange:D,onChangeCommitted:k,orientation:P="horizontal",shiftStep:F=10,size:O="medium",step:$=1,scale:_=jA,slotProps:K,slots:z,tabIndex:G,track:N="normal",value:q,valueLabelDisplay:H="off",valueLabelFormat:W=jA,...j}=r,U={...r,isRtl:i,max:C,min:R,classes:g,disabled:x,disableSwap:y,orientation:P,marks:w,color:p,size:O,step:$,shiftStep:F,scale:_,track:N,valueLabelDisplay:H,valueLabelFormat:W},{axisProps:Y,getRootProps:ne,getHiddenInputProps:re,getThumbProps:Q,open:ee,active:Oe,axis:De,focusedThumbIndex:Be,range:Me,dragging:Ye,marks:Ue,values:ye,trackOffset:Re,trackLeap:gt,getThumbStyle:Le}=X7({...U,rootRef:n});U.marked=Ue.length>0&&Ue.some(Ot=>Ot.label),U.dragging=Ye,U.focusedThumbIndex=Be;const Pe=lz(U),ke=z?.root??d.Root??tz,bt=z?.rail??d.Rail??nz,Ve=z?.track??d.Track??rz,pt=z?.thumb??d.Thumb??iz,Ke=z?.valueLabel??d.ValueLabel??sz,Ut=z?.mark??d.Mark??az,Se=z?.markLabel??d.MarkLabel??oz,pe=z?.input??d.Input??"input",be=K?.root??f.root,$e=K?.rail??f.rail,Ge=K?.track??f.track,We=K?.thumb??f.thumb,Xe=K?.valueLabel??f.valueLabel,je=K?.mark??f.mark,It=K?.markLabel??f.markLabel,yt=K?.input??f.input,Dt=Jr({elementType:ke,getSlotProps:ne,externalSlotProps:be,externalForwardedProps:j,additionalProps:{...Q7(ke)&&{as:u}},ownerState:{...U,...be?.ownerState},className:[Pe.root,v]}),Qe=Jr({elementType:bt,externalSlotProps:$e,ownerState:U,className:Pe.rail}),Et=Jr({elementType:Ve,externalSlotProps:Ge,additionalProps:{style:{...Y[De].offset(Re),...Y[De].leap(gt)}},ownerState:{...U,...Ge?.ownerState},className:Pe.track}),Lt=Jr({elementType:pt,getSlotProps:Q,externalSlotProps:We,ownerState:{...U,...We?.ownerState},className:Pe.thumb}),ln=Jr({elementType:Ke,externalSlotProps:Xe,ownerState:{...U,...Xe?.ownerState},className:Pe.valueLabel}),wn=Jr({elementType:Ut,externalSlotProps:je,ownerState:U,className:Pe.mark}),dr=Jr({elementType:Se,externalSlotProps:It,ownerState:U,className:Pe.markLabel}),Hn=Jr({elementType:pe,getSlotProps:re,externalSlotProps:yt,ownerState:U});return S.jsxs(ke,{...Dt,children:[S.jsx(bt,{...Qe}),S.jsx(Ve,{...Et}),Ue.filter(Ot=>Ot.value>=R&&Ot.value<=C).map((Ot,en)=>{const Nn=Bp(Ot.value,R,C),Bn=Y[De].offset(Nn);let dn;return N===!1?dn=ye.includes(Ot.value):dn=N==="normal"&&(Me?Ot.value>=ye[0]&&Ot.value<=ye[ye.length-1]:Ot.value<=ye[0])||N==="inverted"&&(Me?Ot.value<=ye[0]||Ot.value>=ye[ye.length-1]:Ot.value>=ye[0]),S.jsxs(I.Fragment,{children:[S.jsx(Ut,{"data-index":en,...wn,...!Ds(Ut)&&{markActive:dn},style:{...Bn,...wn.style},className:_e(wn.className,dn&&Pe.markActive)}),Ot.label!=null?S.jsx(Se,{"aria-hidden":!0,"data-index":en,...dr,...!Ds(Se)&&{markLabelActive:dn},style:{...Bn,...dr.style},className:_e(Pe.markLabel,dr.className,dn&&Pe.markLabelActive),children:Ot.label}):null]},en)}),ye.map((Ot,en)=>{const Nn=Bp(Ot,R,C),Bn=Y[De].offset(Nn),dn=H==="off"?cz:Ke;return S.jsx(dn,{...!Ds(dn)&&{valueLabelFormat:W,valueLabelDisplay:H,value:typeof W=="function"?W(_(Ot),en):W,index:en,open:ee===en||Oe===en||H==="on",disabled:x},...ln,children:S.jsx(pt,{"data-index":en,...Lt,className:_e(Pe.thumb,Lt.className,Oe===en&&Pe.active,Be===en&&Pe.focusVisible),style:{...Bn,...Le(en),...Lt.style},children:S.jsx(pe,{"data-index":en,"aria-label":b?b(en):s,"aria-valuenow":_(Ot),"aria-labelledby":l,"aria-valuetext":T?T(_(Ot),en):a,value:ye[en],...Hn})})},en)})]})});function dz(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,a=$o();I.useEffect(()=>{if(!i)return;function T(w){w.defaultPrevented||w.key==="Escape"&&r?.(w,"escapeKeyDown")}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[i,r]);const l=Qn((T,w)=>{r?.(T,w)}),u=Qn(T=>{!r||T==null||a.start(T,()=>{l(null,"timeout")})});I.useEffect(()=>(i&&u(e),a.clear),[i,e,u,a]);const d=T=>{r?.(T,"clickaway")},f=a.clear,p=I.useCallback(()=>{e!=null&&u(s??e*.5)},[e,s,u]),g=T=>w=>{const C=T.onBlur;C?.(w),p()},v=T=>w=>{const C=T.onFocus;C?.(w),f()},y=T=>w=>{const C=T.onMouseEnter;C?.(w),f()},x=T=>w=>{const C=T.onMouseLeave;C?.(w),p()};return I.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",p),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",f)}},[n,i,p,f]),{getRootProps:(T={})=>{const w={...Ho(t),...Ho(T)};return{role:"presentation",...T,...w,onBlur:g(w),onFocus:v(w),onMouseEnter:y(w),onMouseLeave:x(w)}},onClickAway:d}}function fz(t){return it("MuiSnackbarContent",t)}at("MuiSnackbarContent",["root","message","action"]);const hz=t=>{const{classes:e}=t;return st({root:["root"],action:["action"],message:["message"]},fz,e)},pz=ge(Zn,{name:"MuiSnackbarContent",slot:"Root"})(et(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(Yy(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:Yy(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),mz=ge("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),gz=ge("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),vz=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:a,role:l="alert",...u}=r,d=r,f=hz(d);return S.jsxs(pz,{role:l,elevation:6,className:_e(f.root,s),ownerState:d,ref:n,...u,children:[S.jsx(mz,{className:f.message,ownerState:d,children:a}),i?S.jsx(gz,{className:f.action,ownerState:d,children:i}):null]})});function yz(t){return it("MuiSnackbar",t)}at("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const xz=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${de(n.vertical)}${de(n.horizontal)}`]};return st(r,yz,e)},bz=ge("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${de(n.anchorOrigin.vertical)}${de(n.anchorOrigin.horizontal)}`]]}})(et(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Vm=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiSnackbar"}),i=Ns(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:d=null,children:f,className:p,ClickAwayListenerProps:g,ContentProps:v,disableWindowBlurListener:y=!1,message:x,onBlur:b,onClose:T,onFocus:w,onMouseEnter:C,onMouseLeave:R,open:L,resumeHideDuration:D,slots:k={},slotProps:P={},TransitionComponent:F,transitionDuration:O=s,TransitionProps:{onEnter:$,onExited:_,...K}={},...z}=r,G={...r,anchorOrigin:{vertical:l,horizontal:u},autoHideDuration:d,disableWindowBlurListener:y,TransitionComponent:F,transitionDuration:O},N=xz(G),{getRootProps:q,onClickAway:H}=dz({...G}),[W,j]=I.useState(!0),U=ye=>{j(!0),_&&_(ye)},Y=(ye,Re)=>{j(!1),$&&$(ye,Re)},ne={slots:{transition:F,...k},slotProps:{content:v,clickAwayListener:g,transition:K,...P}},[re,Q]=ht("root",{ref:n,className:[N.root,p],elementType:bz,getSlotProps:q,externalForwardedProps:{...ne,...z},ownerState:G}),[ee,{ownerState:Oe,...De}]=ht("clickAwayListener",{elementType:tU,externalForwardedProps:ne,getSlotProps:ye=>({onClickAway:(...Re)=>{const gt=Re[0];ye.onClickAway?.(...Re),!gt?.defaultMuiPrevented&&H(...Re)}}),ownerState:G}),[Be,Me]=ht("content",{elementType:vz,shouldForwardComponentProp:!0,externalForwardedProps:ne,additionalProps:{message:x,action:a},ownerState:G}),[Ye,Ue]=ht("transition",{elementType:wd,externalForwardedProps:ne,getSlotProps:ye=>({onEnter:(...Re)=>{ye.onEnter?.(...Re),Y(...Re)},onExited:(...Re)=>{ye.onExited?.(...Re),U(...Re)}}),additionalProps:{appear:!0,in:L,timeout:O,direction:l==="top"?"down":"up"},ownerState:G});return!L&&W?null:S.jsx(ee,{...De,...k.clickAwayListener&&{ownerState:Oe},children:S.jsx(re,{...Q,children:S.jsx(Ye,{...Ue,children:f||S.jsx(Be,{...Me})})})})});function Sz(t){return it("MuiTooltip",t)}const Xn=at("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Ez(t){return Math.round(t*1e5)/1e5}const Tz=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${de(s.split("-")[0])}`],arrow:["arrow"]};return st(a,Sz,e)},Cz=ge(Fm,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(et(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Xn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Xn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Xn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Xn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Xn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Xn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Xn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Xn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),wz=ge("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${de(n.placement.split("-")[0])}`]]}})(et(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Xn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Xn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Xn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Xn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Ez(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Xn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Xn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Xn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Xn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Xn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Xn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Xn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Xn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Xn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Xn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Az=ge("span",{name:"MuiTooltip",slot:"Arrow"})(et(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Ah=!1;const UA=new Om;let Hu={x:0,y:0};function Rh(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Sr=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:a,components:l={},componentsProps:u={},describeChild:d=!1,disableFocusListener:f=!1,disableHoverListener:p=!1,disableInteractive:g=!1,disableTouchListener:v=!1,enterDelay:y=100,enterNextDelay:x=0,enterTouchDelay:b=700,followCursor:T=!1,id:w,leaveDelay:C=0,leaveTouchDelay:R=1500,onClose:L,onOpen:D,open:k,placement:P="bottom",PopperComponent:F,PopperProps:O={},slotProps:$={},slots:_={},title:K,TransitionComponent:z,TransitionProps:G,...N}=r,q=I.isValidElement(s)?s:S.jsx("span",{children:s}),H=Ns(),W=so(),[j,U]=I.useState(),[Y,ne]=I.useState(null),re=I.useRef(!1),Q=g||T,ee=$o(),Oe=$o(),De=$o(),Be=$o(),[Me,Ye]=qa({controlled:k,default:!1,name:"Tooltip",state:"open"});let Ue=Me;const ye=il(w),Re=I.useRef(),gt=Qn(()=>{Re.current!==void 0&&(document.body.style.WebkitUserSelect=Re.current,Re.current=void 0),Be.clear()});I.useEffect(()=>gt,[gt]);const Le=Tt=>{UA.clear(),Ah=!0,Ye(!0),D&&!Ue&&D(Tt)},Pe=Qn(Tt=>{UA.start(800+C,()=>{Ah=!1}),Ye(!1),L&&Ue&&L(Tt),ee.start(H.transitions.duration.shortest,()=>{re.current=!1})}),ke=Tt=>{re.current&&Tt.type!=="touchstart"||(j&&j.removeAttribute("title"),Oe.clear(),De.clear(),y||Ah&&x?Oe.start(Ah?x:y,()=>{Le(Tt)}):Le(Tt))},bt=Tt=>{Oe.clear(),De.start(C,()=>{Pe(Tt)})},[,Ve]=I.useState(!1),pt=Tt=>{bc(Tt.target)||(Ve(!1),bt(Tt))},Ke=Tt=>{j||U(Tt.currentTarget),bc(Tt.target)&&(Ve(!0),ke(Tt))},Ut=Tt=>{re.current=!0;const kn=q.props;kn.onTouchStart&&kn.onTouchStart(Tt)},Se=Tt=>{Ut(Tt),De.clear(),ee.clear(),gt(),Re.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Be.start(b,()=>{document.body.style.WebkitUserSelect=Re.current,ke(Tt)})},pe=Tt=>{q.props.onTouchEnd&&q.props.onTouchEnd(Tt),gt(),De.start(R,()=>{Pe(Tt)})};I.useEffect(()=>{if(!Ue)return;function Tt(kn){kn.key==="Escape"&&Pe(kn)}return document.addEventListener("keydown",Tt),()=>{document.removeEventListener("keydown",Tt)}},[Pe,Ue]);const be=Fn(oo(q),U,n);!K&&K!==0&&(Ue=!1);const $e=I.useRef(),Ge=Tt=>{const kn=q.props;kn.onMouseMove&&kn.onMouseMove(Tt),Hu={x:Tt.clientX,y:Tt.clientY},$e.current&&$e.current.update()},We={},Xe=typeof K=="string";d?(We.title=!Ue&&Xe&&!p?K:null,We["aria-describedby"]=Ue?ye:null):(We["aria-label"]=Xe?K:null,We["aria-labelledby"]=Ue&&!Xe?ye:null);const je={...We,...N,...q.props,className:_e(N.className,q.props.className),onTouchStart:Ut,ref:be,...T?{onMouseMove:Ge}:{}},It={};v||(je.onTouchStart=Se,je.onTouchEnd=pe),p||(je.onMouseOver=Rh(ke,je.onMouseOver),je.onMouseLeave=Rh(bt,je.onMouseLeave),Q||(It.onMouseOver=ke,It.onMouseLeave=bt)),f||(je.onFocus=Rh(Ke,je.onFocus),je.onBlur=Rh(pt,je.onBlur),Q||(It.onFocus=Ke,It.onBlur=pt));const yt={...r,isRtl:W,arrow:i,disableInteractive:Q,placement:P,PopperComponentProp:F,touch:re.current},Dt=typeof $.popper=="function"?$.popper(yt):$.popper,Qe=I.useMemo(()=>{let Tt=[{name:"arrow",enabled:!!Y,options:{element:Y,padding:4}}];return O.popperOptions?.modifiers&&(Tt=Tt.concat(O.popperOptions.modifiers)),Dt?.popperOptions?.modifiers&&(Tt=Tt.concat(Dt.popperOptions.modifiers)),{...O.popperOptions,...Dt?.popperOptions,modifiers:Tt}},[Y,O.popperOptions,Dt?.popperOptions]),Et=Tz(yt),Lt=typeof $.transition=="function"?$.transition(yt):$.transition,ln={slots:{popper:l.Popper,transition:l.Transition??z,tooltip:l.Tooltip,arrow:l.Arrow,..._},slotProps:{arrow:$.arrow??u.arrow,popper:{...O,...Dt??u.popper},tooltip:$.tooltip??u.tooltip,transition:{...G,...Lt??u.transition}}},[wn,dr]=ht("popper",{elementType:Cz,externalForwardedProps:ln,ownerState:yt,className:_e(Et.popper,O?.className)}),[Hn,Ot]=ht("transition",{elementType:wd,externalForwardedProps:ln,ownerState:yt}),[en,Nn]=ht("tooltip",{elementType:wz,className:Et.tooltip,externalForwardedProps:ln,ownerState:yt}),[Bn,dn]=ht("arrow",{elementType:Az,className:Et.arrow,externalForwardedProps:ln,ownerState:yt,ref:ne});return S.jsxs(I.Fragment,{children:[I.cloneElement(q,je),S.jsx(wn,{as:F??Fm,placement:P,anchorEl:T?{getBoundingClientRect:()=>({top:Hu.y,left:Hu.x,right:Hu.x,bottom:Hu.y,width:0,height:0})}:j,popperRef:$e,open:j?Ue:!1,id:ye,transition:!0,...It,...dr,popperOptions:Qe,children:({TransitionProps:Tt})=>S.jsx(Hn,{timeout:H.transitions.duration.shorter,...Tt,...Ot,children:S.jsxs(en,{...Nn,children:[K,i?S.jsx(Bn,{...dn}):null]})})})]})}),Hb=pB({createStyledComponent:ge("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>ot({props:t,name:"MuiStack"})});function Rz(t){return it("MuiTab",t)}const Bi=at("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Lz=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:s,label:a,selected:l,disabled:u}=t,d={root:["root",s&&a&&"labelIcon",`textColor${de(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",u&&"disabled"],icon:["iconWrapper","icon"]};return st(d,Rz,e)},Iz=ge(ls,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${de(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Bi.iconWrapper}`]:e.iconWrapper},{[`& .${Bi.icon}`]:e.icon}]}})(et(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${Bi.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${Bi.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${Bi.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${Bi.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Bi.selected}`]:{opacity:1},[`&.${Bi.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Bi.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Bi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Bi.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Bi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Gu=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:l,icon:u,iconPosition:d="top",indicator:f,label:p,onChange:g,onClick:v,onFocus:y,selected:x,selectionFollowsFocus:b,textColor:T="inherit",value:w,wrapped:C=!1,...R}=r,L={...r,disabled:s,disableFocusRipple:a,selected:x,icon:!!u,iconPosition:d,label:!!p,fullWidth:l,textColor:T,wrapped:C},D=Lz(L),k=u&&p&&I.isValidElement(u)?I.cloneElement(u,{className:_e(D.icon,u.props.className)}):u,P=O=>{!x&&g&&g(O,w),v&&v(O)},F=O=>{b&&!x&&g&&g(O,w),y&&y(O)};return S.jsxs(Iz,{focusRipple:!a,className:_e(D.root,i),ref:n,role:"tab","aria-selected":x,disabled:s,onClick:P,onFocus:F,ownerState:L,tabIndex:x?0:-1,...R,children:[d==="top"||d==="start"?S.jsxs(I.Fragment,{children:[k,p]}):S.jsxs(I.Fragment,{children:[p,k]}),f]})}),nk=I.createContext();function kz(t){return it("MuiTable",t)}at("MuiTable",["root","stickyHeader"]);const Dz=t=>{const{classes:e,stickyHeader:n}=t;return st({root:["root",n&&"stickyHeader"]},kz,e)},_z=ge("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(et(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),zA="table",rk=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTable"}),{className:i,component:s=zA,padding:a="normal",size:l="medium",stickyHeader:u=!1,...d}=r,f={...r,component:s,padding:a,size:l,stickyHeader:u},p=Dz(f),g=I.useMemo(()=>({padding:a,size:l,stickyHeader:u}),[a,l,u]);return S.jsx(nk.Provider,{value:g,children:S.jsx(_z,{as:s,role:s===zA?null:"table",ref:n,className:_e(p.root,i),ownerState:f,...d})})}),Km=I.createContext();function Pz(t){return it("MuiTableBody",t)}at("MuiTableBody",["root"]);const Oz=t=>{const{classes:e}=t;return st({root:["root"]},Pz,e)},Mz=ge("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Fz={variant:"body"},HA="tbody",ik=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTableBody"}),{className:i,component:s=HA,...a}=r,l={...r,component:s},u=Oz(l);return S.jsx(Km.Provider,{value:Fz,children:S.jsx(Mz,{className:_e(u.root,i),as:s,ref:n,role:s===HA?null:"rowgroup",ownerState:l,...a})})});function Nz(t){return it("MuiTableCell",t)}const Bz=at("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),$z=t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:a}=t,l={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${de(r)}`,i!=="normal"&&`padding${de(i)}`,`size${de(s)}`]};return st(l,Nz,e)},jz=ge("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${de(n.size)}`],n.padding!=="normal"&&e[`padding${de(n.padding)}`],n.align!=="inherit"&&e[`align${de(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(et(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Bz.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),lr=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:a,padding:l,scope:u,size:d,sortDirection:f,variant:p,...g}=r,v=I.useContext(nk),y=I.useContext(Km),x=y&&y.variant==="head";let b;a?b=a:b=x?"th":"td";let T=u;b==="td"?T=void 0:!T&&x&&(T="col");const w=p||y&&y.variant,C={...r,align:i,component:b,padding:l||(v&&v.padding?v.padding:"normal"),size:d||(v&&v.size?v.size:"medium"),sortDirection:f,stickyHeader:w==="head"&&v&&v.stickyHeader,variant:w},R=$z(C);let L=null;return f&&(L=f==="asc"?"ascending":"descending"),S.jsx(jz,{as:b,ref:n,className:_e(R.root,s),"aria-sort":L,scope:T,ownerState:C,...g})});function Uz(t){return it("MuiTableContainer",t)}at("MuiTableContainer",["root"]);const zz=t=>{const{classes:e}=t;return st({root:["root"]},Uz,e)},Hz=ge("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Gz=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTableContainer"}),{className:i,component:s="div",...a}=r,l={...r,component:s},u=zz(l);return S.jsx(Hz,{ref:n,as:s,className:_e(u.root,i),ownerState:l,...a})});function Vz(t){return it("MuiTableHead",t)}at("MuiTableHead",["root"]);const Kz=t=>{const{classes:e}=t;return st({root:["root"]},Vz,e)},Wz=ge("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),qz={variant:"head"},GA="thead",Yz=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTableHead"}),{className:i,component:s=GA,...a}=r,l={...r,component:s},u=Kz(l);return S.jsx(Km.Provider,{value:qz,children:S.jsx(Wz,{as:s,className:_e(u.root,i),ref:n,role:s===GA?null:"rowgroup",ownerState:l,...a})})});function Xz(t){return it("MuiToolbar",t)}at("MuiToolbar",["root","gutters","regular","dense"]);const Qz=t=>{const{classes:e,disableGutters:n,variant:r}=t;return st({root:["root",!n&&"gutters",r]},Xz,e)},Zz=ge("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(et(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),sk=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:a=!1,variant:l="regular",...u}=r,d={...r,component:s,disableGutters:a,variant:l},f=Qz(d);return S.jsx(Zz,{as:s,className:_e(f.root,i),ref:n,ownerState:d,...u})}),Jz=rt(S.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),eH=rt(S.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function tH(t){return it("MuiTableRow",t)}const VA=at("MuiTableRow",["root","selected","hover","head","footer"]),nH=t=>{const{classes:e,selected:n,hover:r,head:i,footer:s}=t;return st({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},tH,e)},rH=ge("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(et(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${VA.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${VA.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),KA="tr",ud=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTableRow"}),{className:i,component:s=KA,hover:a=!1,selected:l=!1,...u}=r,d=I.useContext(Km),f={...r,component:s,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"},p=nH(f);return S.jsx(rH,{as:s,ref:n,className:_e(p.root,i),role:s===KA?null:"row",ownerState:f,...u})}),iH=rt(S.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function sH(t){return it("MuiTableSortLabel",t)}const Kv=at("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),aH=t=>{const{classes:e,direction:n,active:r}=t,i={root:["root",r&&"active",`direction${de(n)}`],icon:["icon",`iconDirection${de(n)}`]};return st(i,sH,e)},oH=ge(ls,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.active&&e.active]}})(et(({theme:t})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${Kv.icon}`]:{opacity:.5}},[`&.${Kv.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${Kv.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}))),lH=ge("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,e[`iconDirection${de(n.direction)}`]]}})(et(({theme:t})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),Wv=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTableSortLabel"}),{active:i=!1,children:s,className:a,direction:l="asc",hideSortIcon:u=!1,IconComponent:d=iH,slots:f={},slotProps:p={},...g}=r,v={...r,active:i,direction:l,hideSortIcon:u,IconComponent:d},y=aH(v),x={slots:f,slotProps:p},[b,T]=ht("root",{elementType:oH,externalForwardedProps:x,ownerState:v,className:_e(y.root,a),ref:n}),[w,C]=ht("icon",{elementType:lH,externalForwardedProps:x,ownerState:v,className:y.icon});return S.jsxs(b,{disableRipple:!0,component:"span",...T,...g,children:[s,u&&!i?null:S.jsx(w,{as:d,...C})]})});function cH(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function uH(t,e,n,r={},i=()=>{}){const{ease:s=cH,duration:a=300}=r;let l=null;const u=e[t];let d=!1;const f=()=>{d=!0},p=g=>{if(d){i(new Error("Animation cancelled"));return}l===null&&(l=g);const v=Math.min(1,(g-l)/a);if(e[t]=s(v)*(n-u)+u,v>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(p)};return u===n?(i(new Error("Element already at target position")),f):(requestAnimationFrame(p),f)}const dH={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function fH(t){const{onChange:e,...n}=t,r=I.useRef(),i=I.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Ri(()=>{const a=Kd(()=>{const u=r.current;s(),u!==r.current&&e(r.current)}),l=Li(i.current);return l.addEventListener("resize",a),()=>{a.clear(),l.removeEventListener("resize",a)}},[e]),I.useEffect(()=>{s(),e(r.current)},[e]),S.jsx("div",{style:dH,...n,ref:i})}function hH(t){return it("MuiTabScrollButton",t)}const pH=at("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),mH=t=>{const{classes:e,orientation:n,disabled:r}=t;return st({root:["root",n,r&&"disabled"]},hH,e)},gH=ge(ls,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${pH.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),vH=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:a={},direction:l,orientation:u,disabled:d,...f}=r,p=so(),g={isRtl:p,...r},v=mH(g),y=s.StartScrollButtonIcon??Jz,x=s.EndScrollButtonIcon??eH,b=Jr({elementType:y,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),T=Jr({elementType:x,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return S.jsx(gH,{component:"div",className:_e(v.root,i),ref:n,role:null,ownerState:g,tabIndex:null,...f,style:{...f.style,...u==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:l==="left"?S.jsx(y,{...b}):S.jsx(x,{...T})})});function yH(t){return it("MuiTabs",t)}const qv=at("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),WA=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,qA=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Lh=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=n(t,i);else{i.focus();return}}},xH=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:l,classes:u}=t;return st({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},yH,u)},bH=ge("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${qv.scrollButtons}`]:e.scrollButtons},{[`& .${qv.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(et(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${qv.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),SH=ge("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),EH=ge("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),TH=ge("span",{name:"MuiTabs",slot:"Indicator"})(et(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),CH=ge(fH)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),YA={},wH=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTabs"}),i=Ns(),s=so(),{"aria-label":a,"aria-labelledby":l,action:u,centered:d=!1,children:f,className:p,component:g="div",allowScrollButtonsMobile:v=!1,indicatorColor:y="primary",onChange:x,orientation:b="horizontal",ScrollButtonComponent:T,scrollButtons:w="auto",selectionFollowsFocus:C,slots:R={},slotProps:L={},TabIndicatorProps:D={},TabScrollButtonProps:k={},textColor:P="primary",value:F,variant:O="standard",visibleScrollbar:$=!1,..._}=r,K=O==="scrollable",z=b==="vertical",G=z?"scrollTop":"scrollLeft",N=z?"top":"left",q=z?"bottom":"right",H=z?"clientHeight":"clientWidth",W=z?"height":"width",j={...r,component:g,allowScrollButtonsMobile:v,indicatorColor:y,orientation:b,vertical:z,scrollButtons:w,textColor:P,variant:O,visibleScrollbar:$,fixed:!K,hideScrollbar:K&&!$,scrollableX:K&&!z,scrollableY:K&&z,centered:d&&!K,scrollButtonsHideMobile:!v},U=xH(j),Y=Jr({elementType:R.StartScrollButtonIcon,externalSlotProps:L.startScrollButtonIcon,ownerState:j}),ne=Jr({elementType:R.EndScrollButtonIcon,externalSlotProps:L.endScrollButtonIcon,ownerState:j}),[re,Q]=I.useState(!1),[ee,Oe]=I.useState(YA),[De,Be]=I.useState(!1),[Me,Ye]=I.useState(!1),[Ue,ye]=I.useState(!1),[Re,gt]=I.useState({overflow:"hidden",scrollbarWidth:0}),Le=new Map,Pe=I.useRef(null),ke=I.useRef(null),bt={slots:R,slotProps:{indicator:D,scrollButton:k,...L}},Ve=()=>{const nt=Pe.current;let ut;if(nt){const J=nt.getBoundingClientRect();ut={clientWidth:nt.clientWidth,scrollLeft:nt.scrollLeft,scrollTop:nt.scrollTop,scrollWidth:nt.scrollWidth,top:J.top,bottom:J.bottom,left:J.left,right:J.right}}let X;if(nt&&F!==!1){const J=ke.current.children;if(J.length>0){const se=J[Le.get(F)];X=se?se.getBoundingClientRect():null}}return{tabsMeta:ut,tabMeta:X}},pt=Qn(()=>{const{tabsMeta:nt,tabMeta:ut}=Ve();let X=0,J;z?(J="top",ut&&nt&&(X=ut.top-nt.top+nt.scrollTop)):(J=s?"right":"left",ut&&nt&&(X=(s?-1:1)*(ut[J]-nt[J]+nt.scrollLeft)));const se={[J]:X,[W]:ut?ut[W]:0};if(typeof ee[J]!="number"||typeof ee[W]!="number")Oe(se);else{const we=Math.abs(ee[J]-se[J]),He=Math.abs(ee[W]-se[W]);(we>=1||He>=1)&&Oe(se)}}),Ke=(nt,{animation:ut=!0}={})=>{ut?uH(G,Pe.current,nt,{duration:i.transitions.duration.standard}):Pe.current[G]=nt},Ut=nt=>{let ut=Pe.current[G];z?ut+=nt:ut+=nt*(s?-1:1),Ke(ut)},Se=()=>{const nt=Pe.current[H];let ut=0;const X=Array.from(ke.current.children);for(let J=0;J<X.length;J+=1){const se=X[J];if(ut+se[H]>nt){J===0&&(ut=nt);break}ut+=se[H]}return ut},pe=()=>{Ut(-1*Se())},be=()=>{Ut(Se())},[$e,{onChange:Ge,...We}]=ht("scrollbar",{className:_e(U.scrollableX,U.hideScrollbar),elementType:CH,shouldForwardComponentProp:!0,externalForwardedProps:bt,ownerState:j}),Xe=I.useCallback(nt=>{Ge?.(nt),gt({overflow:null,scrollbarWidth:nt})},[Ge]),[je,It]=ht("scrollButtons",{className:_e(U.scrollButtons,k.className),elementType:vH,externalForwardedProps:bt,ownerState:j,additionalProps:{orientation:b,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Y,endScrollButtonIcon:ne}}}),yt=()=>{const nt={};nt.scrollbarSizeListener=K?S.jsx($e,{...We,onChange:Xe}):null;const X=K&&(w==="auto"&&(De||Me)||w===!0);return nt.scrollButtonStart=X?S.jsx(je,{direction:s?"right":"left",onClick:pe,disabled:!De,...It}):null,nt.scrollButtonEnd=X?S.jsx(je,{direction:s?"left":"right",onClick:be,disabled:!Me,...It}):null,nt},Dt=Qn(nt=>{const{tabsMeta:ut,tabMeta:X}=Ve();if(!(!X||!ut)){if(X[N]<ut[N]){const J=ut[G]+(X[N]-ut[N]);Ke(J,{animation:nt})}else if(X[q]>ut[q]){const J=ut[G]+(X[q]-ut[q]);Ke(J,{animation:nt})}}}),Qe=Qn(()=>{K&&w!==!1&&ye(!Ue)});I.useEffect(()=>{const nt=Kd(()=>{Pe.current&&pt()});let ut;const X=we=>{we.forEach(He=>{He.removedNodes.forEach(dt=>{ut?.unobserve(dt)}),He.addedNodes.forEach(dt=>{ut?.observe(dt)})}),nt(),Qe()},J=Li(Pe.current);J.addEventListener("resize",nt);let se;return typeof ResizeObserver<"u"&&(ut=new ResizeObserver(nt),Array.from(ke.current.children).forEach(we=>{ut.observe(we)})),typeof MutationObserver<"u"&&(se=new MutationObserver(X),se.observe(ke.current,{childList:!0})),()=>{nt.clear(),J.removeEventListener("resize",nt),se?.disconnect(),ut?.disconnect()}},[pt,Qe]),I.useEffect(()=>{const nt=Array.from(ke.current.children),ut=nt.length;if(typeof IntersectionObserver<"u"&&ut>0&&K&&w!==!1){const X=nt[0],J=nt[ut-1],se={root:Pe.current,threshold:.99},we=Ze=>{Be(!Ze[0].isIntersecting)},He=new IntersectionObserver(we,se);He.observe(X);const dt=Ze=>{Ye(!Ze[0].isIntersecting)},St=new IntersectionObserver(dt,se);return St.observe(J),()=>{He.disconnect(),St.disconnect()}}},[K,w,Ue,f?.length]),I.useEffect(()=>{Q(!0)},[]),I.useEffect(()=>{pt()}),I.useEffect(()=>{Dt(YA!==ee)},[Dt,ee]),I.useImperativeHandle(u,()=>({updateIndicator:pt,updateScrollButtons:Qe}),[pt,Qe]);const[Et,Lt]=ht("indicator",{className:_e(U.indicator,D.className),elementType:TH,externalForwardedProps:bt,ownerState:j,additionalProps:{style:ee}}),ln=S.jsx(Et,{...Lt});let wn=0;const dr=I.Children.map(f,nt=>{if(!I.isValidElement(nt))return null;const ut=nt.props.value===void 0?wn:nt.props.value;Le.set(ut,wn);const X=ut===F;return wn+=1,I.cloneElement(nt,{fullWidth:O==="fullWidth",indicator:X&&!re&&ln,selected:X,selectionFollowsFocus:C,onChange:x,textColor:P,value:ut,...wn===1&&F===!1&&!nt.props.tabIndex?{tabIndex:0}:{}})}),Hn=nt=>{if(nt.altKey||nt.shiftKey||nt.ctrlKey||nt.metaKey)return;const ut=ke.current,X=tr(ut).activeElement;if(X.getAttribute("role")!=="tab")return;let se=b==="horizontal"?"ArrowLeft":"ArrowUp",we=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&s&&(se="ArrowRight",we="ArrowLeft"),nt.key){case se:nt.preventDefault(),Lh(ut,X,qA);break;case we:nt.preventDefault(),Lh(ut,X,WA);break;case"Home":nt.preventDefault(),Lh(ut,null,WA);break;case"End":nt.preventDefault(),Lh(ut,null,qA);break}},Ot=yt(),[en,Nn]=ht("root",{ref:n,className:_e(U.root,p),elementType:bH,externalForwardedProps:{...bt,..._,component:g},ownerState:j}),[Bn,dn]=ht("scroller",{ref:Pe,className:U.scroller,elementType:SH,externalForwardedProps:bt,ownerState:j,additionalProps:{style:{overflow:Re.overflow,[z?`margin${s?"Left":"Right"}`:"marginBottom"]:$?void 0:-Re.scrollbarWidth}}}),[Tt,kn]=ht("list",{ref:ke,className:_e(U.list,U.flexContainer),elementType:EH,externalForwardedProps:bt,ownerState:j,getSlotProps:nt=>({...nt,onKeyDown:ut=>{Hn(ut),nt.onKeyDown?.(ut)}})});return S.jsxs(en,{...Nn,children:[Ot.scrollButtonStart,Ot.scrollbarSizeListener,S.jsxs(Bn,{...dn,children:[S.jsx(Tt,{"aria-label":a,"aria-labelledby":l,"aria-orientation":b==="vertical"?"vertical":null,role:"tablist",...kn,children:dr}),re&&ln]}),Ot.scrollButtonEnd]})});function AH(t){return it("MuiTextField",t)}at("MuiTextField",["root"]);const RH={standard:Nb,filled:Fb,outlined:jb},LH=t=>{const{classes:e}=t;return st({root:["root"]},AH,e)},IH=ge(KI,{name:"MuiTextField",slot:"Root"})({}),Vi=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:l,color:u="primary",defaultValue:d,disabled:f=!1,error:p=!1,FormHelperTextProps:g,fullWidth:v=!1,helperText:y,id:x,InputLabelProps:b,inputProps:T,InputProps:w,inputRef:C,label:R,maxRows:L,minRows:D,multiline:k=!1,name:P,onBlur:F,onChange:O,onFocus:$,placeholder:_,required:K=!1,rows:z,select:G=!1,SelectProps:N,slots:q={},slotProps:H={},type:W,value:j,variant:U="outlined",...Y}=r,ne={...r,autoFocus:s,color:u,disabled:f,error:p,fullWidth:v,multiline:k,required:K,select:G,variant:U},re=LH(ne),Q=il(x),ee=y&&Q?`${Q}-helper-text`:void 0,Oe=R&&Q?`${Q}-label`:void 0,De=RH[U],Be={slots:q,slotProps:{input:w,inputLabel:b,htmlInput:T,formHelperText:g,select:N,...H}},Me={},Ye=Be.slotProps.inputLabel;U==="outlined"&&(Ye&&typeof Ye.shrink<"u"&&(Me.notched=Ye.shrink),Me.label=R),G&&((!N||!N.native)&&(Me.id=void 0),Me["aria-describedby"]=void 0);const[Ue,ye]=ht("root",{elementType:IH,shouldForwardComponentProp:!0,externalForwardedProps:{...Be,...Y},ownerState:ne,className:_e(re.root,l),ref:n,additionalProps:{disabled:f,error:p,fullWidth:v,required:K,color:u,variant:U}}),[Re,gt]=ht("input",{elementType:De,externalForwardedProps:Be,additionalProps:Me,ownerState:ne}),[Le,Pe]=ht("inputLabel",{elementType:qI,externalForwardedProps:Be,ownerState:ne}),[ke,bt]=ht("htmlInput",{elementType:"input",externalForwardedProps:Be,ownerState:ne}),[Ve,pt]=ht("formHelperText",{elementType:u9,externalForwardedProps:Be,ownerState:ne}),[Ke,Ut]=ht("select",{elementType:zb,externalForwardedProps:Be,ownerState:ne}),Se=S.jsx(Re,{"aria-describedby":ee,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:v,multiline:k,name:P,rows:z,maxRows:L,minRows:D,type:W,value:j,id:Q,inputRef:C,onBlur:F,onChange:O,onFocus:$,placeholder:_,inputProps:bt,slots:{input:q.htmlInput?ke:void 0},...gt});return S.jsxs(Ue,{...ye,children:[R!=null&&R!==""&&S.jsx(Le,{htmlFor:Q,id:Oe,...Pe,children:R}),G?S.jsx(Ke,{"aria-describedby":ee,id:Q,labelId:Oe,value:j,input:Se,...Ut,children:a}):Se,y&&S.jsx(Ve,{id:ee,...pt,children:y})]})});function kH(t){return it("MuiToggleButton",t)}const jo=at("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ak=I.createContext({}),ok=I.createContext(void 0);function DH(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const _H=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:s,color:a}=t,l={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${de(s)}`,a]};return st(l,kH,e)},PH=ge(ls,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${de(n.size)}`]]}})(et(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${jo.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${jo.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(xn()).map(([e])=>({props:{color:e},style:{[`&.${jo.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),vs=I.forwardRef(function(e,n){const{value:r,...i}=I.useContext(ak),s=I.useContext(ok),a=yc({...i,selected:DH(e.value,r)},e),l=ot({props:a,name:"MuiToggleButton"}),{children:u,className:d,color:f="standard",disabled:p=!1,disableFocusRipple:g=!1,fullWidth:v=!1,onChange:y,onClick:x,selected:b,size:T="medium",value:w,...C}=l,R={...l,color:f,disabled:p,disableFocusRipple:g,fullWidth:v,size:T},L=_H(R),D=P=>{x&&(x(P,w),P.defaultPrevented)||y&&y(P,w)},k=s||"";return S.jsx(PH,{className:_e(i.className,L.root,d,k),disabled:p,focusRipple:!g,ref:n,onClick:D,onChange:y,value:w,ownerState:R,"aria-pressed":b,...C,children:u})});function OH(t){return it("MuiToggleButtonGroup",t)}const _n=at("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),MH=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,s={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${de(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return st(s,OH,e)},FH=ge("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${_n.grouped}`]:e.grouped},{[`& .${_n.grouped}`]:e[`grouped${de(n.orientation)}`]},{[`& .${_n.firstButton}`]:e.firstButton},{[`& .${_n.lastButton}`]:e.lastButton},{[`& .${_n.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(et(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${_n.grouped}`]:{[`&.${_n.selected} + .${_n.grouped}.${_n.selected}`]:{borderTop:0,marginTop:0}},[`& .${_n.firstButton},& .${_n.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${_n.lastButton},& .${_n.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${_n.lastButton}.${jo.disabled},& .${_n.middleButton}.${jo.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${_n.grouped}`]:{[`&.${_n.selected} + .${_n.grouped}.${_n.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${_n.firstButton},& .${_n.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${_n.lastButton},& .${_n.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${_n.lastButton}.${jo.disabled},& .${_n.middleButton}.${jo.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Yv=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:s,color:a="standard",disabled:l=!1,exclusive:u=!1,fullWidth:d=!1,onChange:f,orientation:p="horizontal",size:g="medium",value:v,...y}=r,x={...r,disabled:l,fullWidth:d,orientation:p,size:g},b=MH(x),T=I.useCallback((k,P)=>{if(!f)return;const F=v&&v.indexOf(P);let O;v&&F>=0?(O=v.slice(),O.splice(F,1)):O=v?v.concat(P):[P],f(k,O)},[f,v]),w=I.useCallback((k,P)=>{f&&f(k,v===P?null:P)},[f,v]),C=I.useMemo(()=>({className:b.grouped,onChange:u?w:T,value:v,size:g,fullWidth:d,color:a,disabled:l}),[b.grouped,u,w,T,v,g,d,a,l]),R=Rj(i),L=R.length,D=k=>{const P=k===0,F=k===L-1;return P&&F?"":P?b.firstButton:F?b.lastButton:b.middleButton};return S.jsx(FH,{role:"group",className:_e(b.root,s),ref:n,ownerState:x,...y,children:S.jsx(ak.Provider,{value:C,children:R.map((k,P)=>S.jsx(ok.Provider,{value:D(P),children:k},P))})})});function NH(){return""}function _r(t){const e=NH();if(t.startsWith("http://")||t.startsWith("https://"))return t;const n=t.startsWith("/")?t:`/${t}`;return`${e}${n}`}const BH=()=>S.jsxs("svg",{width:"273",height:"49.5",viewBox:"0 0 182 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsxs("g",{clipPath:"url(#clip0_1255_1759)",children:[S.jsx("path",{d:"M165.012 32.4618C169.413 32.6636 173.881 31.0872 177.243 27.7248C183.585 21.3823 183.585 11.0994 177.243 4.75688C170.899 -1.58563 160.616 -1.58563 154.274 4.75688C150.893 8.13762 149.316 12.6346 149.538 17.0581V32.4618H165.012Z",fill:"#FFEB61"}),S.jsx("path",{d:"M150.976 9.5153L172.485 31.0229C174.184 30.2508 175.777 29.1728 177.182 27.7814L154.217 4.81805C152.829 6.22172 151.749 7.81653 150.976 9.5153Z",fill:"#51312D"}),S.jsx("path",{d:"M149.526 16.0031C149.517 16.3563 149.522 16.7079 149.538 17.0596L149.54 23.9587L158.043 32.4618H165.012C165.338 32.4786 165.668 32.4786 165.997 32.474L149.526 16.0031Z",fill:"#51312D"}),S.jsx("path",{d:"M166.754 8.0306C167.5 7.28289 167.488 6.05812 166.722 5.29665C165.954 4.53213 164.728 4.52142 163.985 5.2676C163.24 6.01378 163.255 7.23855 164.022 8.00155C164.788 8.76301 166.012 8.7783 166.754 8.0306Z",fill:"#51312D"}),S.jsx("path",{opacity:"0.5",d:"M165.529 16.1452L156.208 6.82261C153.667 4.01068 149.989 2.24463 145.899 2.24463C138.223 2.24463 132 8.46787 132 16.1452C132 23.8196 138.223 30.0443 145.899 30.0413C149.969 30.0428 153.628 28.2905 156.168 25.5076L165.529 16.1452Z",fill:"#FFEB61"})]}),S.jsx("path",{d:"M3.69043 30H0.511719V2.41699H3.69043V14.209C4.36263 13.1722 5.01204 12.4032 5.63867 11.9019C6.27669 11.4006 6.9375 11.0246 7.62109 10.7739C8.31608 10.5119 9.08512 10.3809 9.92822 10.3809C11.1245 10.3809 12.1955 10.6258 13.1411 11.1157C14.0981 11.6056 14.8387 12.3291 15.3628 13.2861C15.8869 14.2318 16.1489 15.7528 16.1489 17.8491V30H12.9702V19.2163C12.9702 17.5073 12.8563 16.2996 12.6284 15.5933C12.4006 14.8755 11.9676 14.3172 11.3296 13.9185C10.6916 13.5083 9.9624 13.3032 9.14209 13.3032C8.20785 13.3032 7.31917 13.5767 6.47607 14.1235C5.63298 14.6704 4.95508 15.4338 4.44238 16.4136C3.94108 17.3934 3.69043 18.7948 3.69043 20.6177V30Z",fill:"#FFEB61"}),S.jsx("path",{d:"M20.9512 10.9106H24.1299V30H20.9512V10.9106ZM20.9512 6.67236V3.47656H24.1299V6.67236H20.9512Z",fill:"#FFEB61"}),S.jsx("path",{d:"M34.8452 30L27.0693 10.9106H30.4873L36.6055 25.8813L42.8604 10.9106H46.022L38.0239 30H34.8452Z",fill:"#FFEB61"}),S.jsx("path",{d:"M61.4199 25.0952H64.5986V25.2661C64.5986 26.1092 64.2625 26.9694 63.5903 27.8467C62.9181 28.724 62.0295 29.3905 60.9243 29.8462C59.8192 30.3019 58.5488 30.5298 57.1133 30.5298C54.208 30.5298 51.9635 29.5898 50.3799 27.71C48.8076 25.8301 48.0215 23.4546 48.0215 20.5835C48.0215 17.644 48.8532 15.2116 50.5166 13.2861C52.1914 11.3493 54.3447 10.3809 56.9766 10.3809C58.4235 10.3809 59.7337 10.6942 60.9072 11.3208C62.0807 11.9474 63.0093 12.9272 63.6929 14.2603C64.3765 15.5819 64.7183 17.4276 64.7183 19.7974V20.8569H51.166C51.166 22.8963 51.7129 24.5768 52.8066 25.8984C53.9118 27.2201 55.4385 27.8809 57.3867 27.8809C58.7881 27.8809 59.8078 27.6131 60.4458 27.0776C61.0952 26.5308 61.4199 25.9269 61.4199 25.2661V25.0952ZM51.3711 18.4644H61.6763V18.0884C61.6763 17.1997 61.4598 16.3395 61.0269 15.5078C60.6053 14.6647 60.0186 14.0438 59.2666 13.645C58.5146 13.2349 57.6374 13.0298 56.6348 13.0298C55.4499 13.0298 54.3561 13.5083 53.3535 14.4653C52.3509 15.411 51.6901 16.744 51.3711 18.4644Z",fill:"#FFEB61"}),S.jsx("path",{d:"M72.0327 30H68.854C68.911 29.3734 68.9622 28.61 69.0078 27.71C69.042 26.8099 69.0705 26.075 69.0933 25.5054C69.116 24.9357 69.1274 24.554 69.1274 24.3604V2.41699H72.3062V14.2261C73.0011 13.1437 73.6506 12.3576 74.2544 11.8677C74.8696 11.3778 75.5361 11.0075 76.2539 10.7568C76.9831 10.5062 77.7464 10.3809 78.5439 10.3809C79.9909 10.3809 81.3182 10.7796 82.5259 11.5771C83.7336 12.3633 84.6735 13.5425 85.3457 15.1147C86.0179 16.687 86.354 18.453 86.354 20.4126C86.354 23.3179 85.6533 25.7332 84.252 27.6587C82.8506 29.5728 80.8966 30.5298 78.3901 30.5298C77.5698 30.5298 76.8008 30.4102 76.083 30.1709C75.3652 29.943 74.7215 29.6012 74.1519 29.1455C73.5936 28.6784 72.9784 27.8524 72.3062 26.6675L72.2036 28.0518C72.158 28.8151 72.1011 29.4645 72.0327 30ZM72.3062 20.4639C72.3062 22.6286 72.7733 24.4059 73.7075 25.7959C74.6418 27.1859 75.952 27.8809 77.6382 27.8809C79.1877 27.8809 80.4751 27.2656 81.5005 26.0352C82.5259 24.8047 83.0386 22.9647 83.0386 20.5151C83.0386 17.6554 82.5145 15.673 81.4663 14.5679C80.4181 13.4513 79.1706 12.8931 77.7236 12.8931C76.7096 12.8931 75.764 13.2007 74.8867 13.8159C74.0208 14.4198 73.3714 15.3255 72.9385 16.5332C72.5169 17.7295 72.3062 19.0397 72.3062 20.4639Z",fill:"#FFEB61"}),S.jsx("path",{d:"M98.5732 30.5298C96.0781 30.5298 93.9476 29.6867 92.1816 28.0005C90.4271 26.3029 89.5498 23.785 89.5498 20.4468C89.5498 17.12 90.4271 14.6134 92.1816 12.9272C93.9476 11.2297 96.0781 10.3809 98.5732 10.3809C101.057 10.3809 103.176 11.2297 104.931 12.9272C106.697 14.6134 107.58 17.12 107.58 20.4468C107.58 23.785 106.697 26.3029 104.931 28.0005C103.176 29.6867 101.057 30.5298 98.5732 30.5298ZM98.5732 27.8809C100.282 27.8809 101.655 27.203 102.692 25.8472C103.74 24.48 104.264 22.6799 104.264 20.4468C104.264 18.2251 103.74 16.4364 102.692 15.0806C101.655 13.7134 100.282 13.0298 98.5732 13.0298C96.8529 13.0298 95.4686 13.7134 94.4204 15.0806C93.3836 16.4364 92.8652 18.2251 92.8652 20.4468C92.8652 22.6799 93.3836 24.48 94.4204 25.8472C95.4686 27.203 96.8529 27.8809 98.5732 27.8809Z",fill:"#FFEB61"}),S.jsx("path",{d:"M123.371 27.2998V29.9658C121.821 30.3418 120.636 30.5298 119.816 30.5298C118.631 30.5298 117.56 30.2905 116.603 29.812C115.657 29.3335 114.934 28.6385 114.433 27.7271C113.943 26.8156 113.698 25.363 113.698 23.3691V13.5596H110.382V10.9106H113.698V6.39893H116.876V10.9106H122.448V13.5596H116.876V22.4634C116.876 24.1496 117.007 25.3231 117.27 25.9839C117.532 26.6333 117.942 27.1118 118.5 27.4194C119.07 27.7271 119.748 27.8809 120.534 27.8809C121.16 27.8809 122.106 27.6872 123.371 27.2998Z",fill:"#FFEB61"}),S.jsx("defs",{children:S.jsx("clipPath",{id:"clip0_1255_1759",children:S.jsx("rect",{width:"50",height:"32.4786",fill:"white",transform:"translate(132)"})})})]});function $H(){const[t,e]=I.useState(""),[n,r]=I.useState(""),[i,s]=I.useState(!1),[a,l]=I.useState(""),[u,d]=I.useState(!1),f=lm(),p=Kr();I.useEffect(()=>{const v=localStorage.getItem("rememberedUsername"),y=localStorage.getItem("rememberedPassword");v&&y&&(e(v),r(y),s(!0))},[]);const g=async v=>{v.preventDefault(),l(""),d(!0);try{const y=new URLSearchParams({boxuser:t,boxpass:n}),x=await fetch(_r(`/cass/login.fn?${y.toString()}`),{method:"GET",credentials:"include"});console.log("Login response status:",x.status),console.log("Login response headers:",[...x.headers.entries()]);const b=await x.text();if(console.log("Login response body:",b.substring(0,500)),!x.ok){console.error("Login failed with status:",x.status),console.error("Response body:",b),l(`Server error (${x.status}). Please try again.`),d(!1);return}if(b.includes("Invalid")){l("Invalid Username or Password"),d(!1);return}let T=null;const w=b.match(/id=['"]session-uuid['"][^>]*value=['"]([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})['"]/i);if(w&&(T=w[1],console.log("Extracted UUID from hidden input:",T)),!T){const C=b.match(/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i);C&&(T=C[1],console.log("Extracted UUID from response (generic match):",T))}if(!T)for(let C=0;C<5;C++){await new Promise(L=>setTimeout(L,100*(C+1)));const R=document.cookie.split(";").map(L=>L.trim());console.log(`Attempt ${C+1} - All cookies:`,R);for(const L of R){const[D,k]=L.split("=");if(D.trim()==="uuid"&&k)if(k.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){T=k,console.log("Found valid UUID in cookies:",T);break}else console.log("Ignoring non-UUID cookie value:",k)}if(T)break}if(!T){console.log("Trying to get UUID from nodeinfo...");try{const L=(await(await fetch(_r("/cass/nodeinfo.fn"),{method:"GET",credentials:"include"})).text()).match(/uuid[=:"'\s]+([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i);L&&(T=L[1],console.log("Got UUID from nodeinfo:",T))}catch(C){console.error("Failed to get UUID from nodeinfo:",C)}}T||(T="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){const R=Math.random()*16|0;return(C==="x"?R:R&3|8).toString(16)}),console.warn("Generated client-side UUID (DEV MODE ONLY):",T)),localStorage.setItem("uuid",T),console.log("Stored UUID in localStorage:",T),console.log("Backend should have set cookie via Set-Cookie header"),console.log("Current cookies:",document.cookie),i?(localStorage.setItem("rememberedUsername",t),localStorage.setItem("rememberedPassword",n)):(localStorage.removeItem("rememberedUsername"),localStorage.removeItem("rememberedPassword")),p($3({uuid:T,username:t})),f("/home")}catch(y){console.error("Login error:",y),l("An error occurred during login. Please try again."),d(!1)}};return S.jsx(Ce,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#004080"},children:S.jsxs(Ce,{sx:{textAlign:"center",mt:5},children:[S.jsx(Ce,{sx:{mb:4},children:S.jsx(BH,{})}),S.jsxs(Za,{sx:{width:380,borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[S.jsxs(Ja,{sx:{p:3},children:[a&&S.jsx(Hi,{severity:"error",sx:{mb:2},children:a}),u&&S.jsx(Hi,{severity:"success",sx:{mb:2},children:"Loading..."}),S.jsxs("form",{onSubmit:g,children:[S.jsx(Vi,{fullWidth:!0,placeholder:"Username",variant:"outlined",margin:"normal",value:t,onChange:v=>e(v.target.value),required:!0,autoComplete:"username",sx:{mb:2}}),S.jsx(Vi,{fullWidth:!0,placeholder:"Password",type:"password",variant:"outlined",margin:"normal",value:n,onChange:v=>r(v.target.value),required:!0,autoComplete:"current-password",sx:{mb:2}}),S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[S.jsx(WI,{control:S.jsx(Yd,{checked:i,onChange:v=>s(v.target.checked),size:"small"}),label:"Remember password"}),S.jsx(Fe,{component:"a",href:"#",variant:"body2",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Forgot password?"})]}),S.jsx(tn,{fullWidth:!0,type:"submit",variant:"contained",disabled:u,sx:{backgroundColor:"#007bff",textTransform:"none","&:hover":{backgroundColor:"#0056b3"}},children:u?"Loading...":"Sign In"})]})]}),S.jsx(Ce,{sx:{backgroundColor:"#f8f9fa",borderTop:"1px solid #dee2e6",py:2,px:3,textAlign:"center",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:S.jsx(Fe,{variant:"caption",color:"text.secondary",children:" and  2013-2025 Alterante Inc. All rights reserved."})})]})]})})}function jH(){return Xt(U3)?S.jsx(xL,{}):S.jsx(Fy,{to:"/login",replace:!0})}const UH=rt(S.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),Gb=rt(S.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Ih=rt(S.jsx("path",{d:"M4 8h4V4H4zm6 12h4v-4h-4zm-6 0h4v-4H4zm0-6h4v-4H4zm6 0h4v-4h-4zm6-10v4h4V4zm-6 4h4V4h-4zm6 6h4v-4h-4zm0 6h4v-4h-4z"})),zH=rt(S.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),HH=rt(S.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),GH=rt(S.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 11h-3v3.75c0 1.24-1.01 2.25-2.25 2.25S8.5 17.99 8.5 16.75s1.01-2.25 2.25-2.25c.46 0 .89.14 1.25.38V11h4zm-3-4V3.5L18.5 9z"})),lk=rt(S.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),VH=rt(S.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),KH=rt(S.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),WH=rt(S.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),qH=rt(S.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Wm=rt(S.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),qm=rt(S.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),ol=rt(S.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),ck=rt(S.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"})),YH=rt(S.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3"})),uk=rt(S.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),XH=rt(S.jsx("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"})),XA=rt(S.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),Vb=rt(S.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),el=rt(S.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),Os=rt(S.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),QH=rt(S.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),ZH=rt(S.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),wc=rt(S.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),JH=rt(S.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"})),eG=rt(S.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),Ym=rt(S.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),dk=rt(S.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),tG=rt(S.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),Kb=rt(S.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),Wb=rt(S.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),nG=rt(S.jsx("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"})),rG=rt(S.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),iG=rt(S.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),qb=rt(S.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"})),sG=rt(S.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),aG=rt(S.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),oG=rt(S.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),Yb=rt(S.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),fk=rt(S.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"})),gx=rt(S.jsx("path",{d:"M8 5v14l11-7z"})),Xb=rt(S.jsx("path",{d:"M15 6H3v2h12zm0 4H3v2h12zM3 16h8v-2H3zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6z"})),lG=rt(S.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),cG=rt(S.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),uG=rt(S.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Xm=rt(S.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),hk=rt(S.jsx("path",{d:"M10 8v8l5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"})),dG=rt(S.jsx("path",{d:"M6 6h12v12H6z"})),fG=rt(S.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"})),hG=rt(S.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2M4 12h4v2H4zm10 6H4v-2h10zm6 0h-4v-2h4zm0-4H10v-2h10z"})),pk=rt(S.jsx("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2M3 19c0 1.1.9 2 2 2h3V10H3z"})),pG=rt(S.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),mG=rt(S.jsx("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"})),Qb=rt(S.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"})),QA=rt(S.jsx("path",{d:"M2 4v7h20V4zm8 16h12v-7H10zm-8 0h6v-7H2z"})),gG=rt(S.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),Xv=rt(S.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}));function mk(t,e){return function(){return t.apply(e,arguments)}}const{toString:vG}=Object.prototype,{getPrototypeOf:Zb}=Object,{iterator:Qm,toStringTag:gk}=Symbol,Zm=(t=>e=>{const n=vG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),us=t=>(t=t.toLowerCase(),e=>Zm(e)===t),Jm=t=>e=>typeof e===t,{isArray:Fc}=Array,Ac=Jm("undefined");function Xd(t){return t!==null&&!Ac(t)&&t.constructor!==null&&!Ac(t.constructor)&&ii(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const vk=us("ArrayBuffer");function yG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&vk(t.buffer),e}const xG=Jm("string"),ii=Jm("function"),yk=Jm("number"),Qd=t=>t!==null&&typeof t=="object",bG=t=>t===!0||t===!1,ip=t=>{if(Zm(t)!=="object")return!1;const e=Zb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gk in t)&&!(Qm in t)},SG=t=>{if(!Qd(t)||Xd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},EG=us("Date"),TG=us("File"),CG=us("Blob"),wG=us("FileList"),AG=t=>Qd(t)&&ii(t.pipe),RG=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ii(t.append)&&((e=Zm(t))==="formdata"||e==="object"&&ii(t.toString)&&t.toString()==="[object FormData]"))},LG=us("URLSearchParams"),[IG,kG,DG,_G]=["ReadableStream","Request","Response","Headers"].map(us),PG=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Fc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Xd(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}function xk(t,e){if(Xd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bk=t=>!Ac(t)&&t!==Uo;function vx(){const{caseless:t,skipUndefined:e}=bk(this)&&this||{},n={},r=(i,s)=>{const a=t&&xk(n,s)||s;ip(n[a])&&ip(i)?n[a]=vx(n[a],i):ip(i)?n[a]=vx({},i):Fc(i)?n[a]=i.slice():(!e||!Ac(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Zd(arguments[i],r);return n}const OG=(t,e,n,{allOwnKeys:r}={})=>(Zd(e,(i,s)=>{n&&ii(i)?t[s]=mk(i,n):t[s]=i},{allOwnKeys:r}),t),MG=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FG=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NG=(t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Zb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},BG=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$G=t=>{if(!t)return null;if(Fc(t))return t;let e=t.length;if(!yk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jG=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Zb(Uint8Array)),UG=(t,e)=>{const r=(t&&t[Qm]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},zG=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},HG=us("HTMLFormElement"),GG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ZA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),VG=us("RegExp"),Sk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Zd(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},KG=t=>{Sk(t,(e,n)=>{if(ii(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ii(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WG=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Fc(t)?r(t):r(String(t).split(e)),n},qG=()=>{},YG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XG(t){return!!(t&&ii(t.append)&&t[gk]==="FormData"&&t[Qm])}const QG=t=>{const e=new Array(10),n=(r,i)=>{if(Qd(r)){if(e.indexOf(r)>=0)return;if(Xd(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Fc(r)?[]:{};return Zd(r,(a,l)=>{const u=n(a,i+1);!Ac(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},ZG=us("AsyncFunction"),JG=t=>t&&(Qd(t)||ii(t))&&ii(t.then)&&ii(t.catch),Ek=((t,e)=>t?setImmediate:e?((n,r)=>(Uo.addEventListener("message",({source:i,data:s})=>{i===Uo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Uo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ii(Uo.postMessage)),eV=typeof queueMicrotask<"u"?queueMicrotask.bind(Uo):typeof process<"u"&&process.nextTick||Ek,tV=t=>t!=null&&ii(t[Qm]),ve={isArray:Fc,isArrayBuffer:vk,isBuffer:Xd,isFormData:RG,isArrayBufferView:yG,isString:xG,isNumber:yk,isBoolean:bG,isObject:Qd,isPlainObject:ip,isEmptyObject:SG,isReadableStream:IG,isRequest:kG,isResponse:DG,isHeaders:_G,isUndefined:Ac,isDate:EG,isFile:TG,isBlob:CG,isRegExp:VG,isFunction:ii,isStream:AG,isURLSearchParams:LG,isTypedArray:jG,isFileList:wG,forEach:Zd,merge:vx,extend:OG,trim:PG,stripBOM:MG,inherits:FG,toFlatObject:NG,kindOf:Zm,kindOfTest:us,endsWith:BG,toArray:$G,forEachEntry:UG,matchAll:zG,isHTMLForm:HG,hasOwnProperty:ZA,hasOwnProp:ZA,reduceDescriptors:Sk,freezeMethods:KG,toObjectSet:WG,toCamelCase:GG,noop:qG,toFiniteNumber:YG,findKey:xk,global:Uo,isContextDefined:bk,isSpecCompliantForm:XG,toJSONObject:QG,isAsyncFn:ZG,isThenable:JG,setImmediate:Ek,asap:eV,isIterable:tV};function Ft(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ve.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const Tk=Ft.prototype,Ck={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ck[t]={value:t}});Object.defineProperties(Ft,Ck);Object.defineProperty(Tk,"isAxiosError",{value:!0});Ft.from=(t,e,n,r,i,s)=>{const a=Object.create(Tk);ve.toFlatObject(t,a,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Ft.call(a,l,u,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const nV=null;function yx(t){return ve.isPlainObject(t)||ve.isArray(t)}function wk(t){return ve.endsWith(t,"[]")?t.slice(0,-2):t}function JA(t,e,n){return t?t.concat(e).map(function(i,s){return i=wk(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function rV(t){return ve.isArray(t)&&!t.some(yx)}const iV=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function eg(t,e,n){if(!ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!ve.isUndefined(b[x])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(i))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ve.isDate(y))return y.toISOString();if(ve.isBoolean(y))return y.toString();if(!u&&ve.isBlob(y))throw new Ft("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(y)||ve.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,x,b){let T=y;if(y&&!b&&typeof y=="object"){if(ve.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(ve.isArray(y)&&rV(y)||(ve.isFileList(y)||ve.endsWith(x,"[]"))&&(T=ve.toArray(y)))return x=wk(x),T.forEach(function(C,R){!(ve.isUndefined(C)||C===null)&&e.append(a===!0?JA([x],R,s):a===null?x:x+"[]",d(C))}),!1}return yx(y)?!0:(e.append(JA(b,x,s),d(y)),!1)}const p=[],g=Object.assign(iV,{defaultVisitor:f,convertValue:d,isVisitable:yx});function v(y,x){if(!ve.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(y),ve.forEach(y,function(T,w){(!(ve.isUndefined(T)||T===null)&&i.call(e,T,ve.isString(w)?w.trim():w,x,g))===!0&&v(T,x?x.concat(w):[w])}),p.pop()}}if(!ve.isObject(t))throw new TypeError("data must be an object");return v(t),e}function eR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jb(t,e){this._pairs=[],t&&eg(t,this,e)}const Ak=Jb.prototype;Ak.append=function(e,n){this._pairs.push([e,n])};Ak.toString=function(e){const n=e?function(r){return e.call(this,r,eR)}:eR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rk(t,e,n){if(!e)return t;const r=n&&n.encode||sV;ve.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=ve.isURLSearchParams(e)?e.toString():new Jb(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class tR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Lk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aV=typeof URLSearchParams<"u"?URLSearchParams:Jb,oV=typeof FormData<"u"?FormData:null,lV=typeof Blob<"u"?Blob:null,cV={isBrowser:!0,classes:{URLSearchParams:aV,FormData:oV,Blob:lV},protocols:["http","https","file","blob","url","data"]},e1=typeof window<"u"&&typeof document<"u",xx=typeof navigator=="object"&&navigator||void 0,uV=e1&&(!xx||["ReactNative","NativeScript","NS"].indexOf(xx.product)<0),dV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fV=e1&&window.location.href||"http://localhost",hV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e1,hasStandardBrowserEnv:uV,hasStandardBrowserWebWorkerEnv:dV,navigator:xx,origin:fV},Symbol.toStringTag,{value:"Module"})),Nr={...hV,...cV};function pV(t,e){return eg(t,new Nr.classes.URLSearchParams,{visitor:function(n,r,i,s){return Nr.isNode&&ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function mV(t){return ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gV(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Ik(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=s>=n.length;return a=!a&&ve.isArray(i)?i.length:a,u?(ve.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!ve.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&ve.isArray(i[a])&&(i[a]=gV(i[a])),!l)}if(ve.isFormData(t)&&ve.isFunction(t.entries)){const n={};return ve.forEachEntry(t,(r,i)=>{e(mV(r),i,n,0)}),n}return null}function vV(t,e,n){if(ve.isString(t))try{return(e||JSON.parse)(t),ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jd={transitional:Lk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ve.isObject(e);if(s&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return i?JSON.stringify(Ik(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pV(e,this.formSerializer).toString();if((l=ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return eg(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),vV(e)):e}],transformResponse:[function(e){const n=this.transitional||Jd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Ft.from(l,Ft.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],t=>{Jd.headers[t]={}});const yV=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xV=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&yV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nR=Symbol("internals");function Vu(t){return t&&String(t).trim().toLowerCase()}function sp(t){return t===!1||t==null?t:ve.isArray(t)?t.map(sp):String(t)}function bV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const SV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qv(t,e,n,r,i){if(ve.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ve.isString(e)){if(ve.isString(r))return e.indexOf(r)!==-1;if(ve.isRegExp(r))return r.test(e)}}function EV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function TV(t,e){const n=ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let si=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const f=Vu(u);if(!f)throw new Error("header name must be a non-empty string");const p=ve.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||u]=sp(l))}const a=(l,u)=>ve.forEach(l,(d,f)=>s(d,f,u));if(ve.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ve.isString(e)&&(e=e.trim())&&!SV(e))a(xV(e),n);else if(ve.isObject(e)&&ve.isIterable(e)){let l={},u,d;for(const f of e){if(!ve.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?ve.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Vu(e),e){const r=ve.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return bV(i);if(ve.isFunction(n))return n.call(this,i,r);if(ve.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vu(e),e){const r=ve.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Qv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Vu(a),a){const l=ve.findKey(r,a);l&&(!n||Qv(r,r[l],l,n))&&(delete r[l],i=!0)}}return ve.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Qv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ve.forEach(this,(i,s)=>{const a=ve.findKey(r,s);if(a){n[a]=sp(i),delete n[s];return}const l=e?EV(s):String(s).trim();l!==s&&delete n[s],n[l]=sp(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ve.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[nR]=this[nR]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=Vu(a);r[l]||(TV(i,a),r[l]=!0)}return ve.isArray(e)?e.forEach(s):s(e),this}};si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(si.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ve.freezeMethods(si);function Zv(t,e){const n=this||Jd,r=e||n,i=si.from(r.headers);let s=r.data;return ve.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function kk(t){return!!(t&&t.__CANCEL__)}function Nc(t,e,n){Ft.call(this,t??"canceled",Ft.ERR_CANCELED,e,n),this.name="CanceledError"}ve.inherits(Nc,Ft,{__CANCEL__:!0});function Dk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ft("Request failed with status code "+n.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function CV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),f=r[s];a||(a=d),n[i]=u,r[i]=d;let p=s,g=0;for(;p!==i;)g+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const v=f&&d-f;return v?Math.round(g*1e3/v):void 0}}function AV(t,e){let n=0,r=1e3/e,i,s;const a=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...d)};return[(...d)=>{const f=Date.now(),p=f-n;p>=r?a(d,f):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},r-p)))},()=>i&&a(i)]}const $p=(t,e,n=3)=>{let r=0;const i=wV(50,250);return AV(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,u=a-r,d=i(u),f=a<=l;r=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-a)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},n)},rR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},iR=t=>(...e)=>ve.asap(()=>t(...e)),RV=Nr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Nr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,LV=Nr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];ve.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&a.push("path="+r),ve.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _k(t,e,n){let r=!IV(e);return t&&(r||n==!1)?kV(t,e):e}const sR=t=>t instanceof si?{...t}:t;function tl(t,e){e=e||{};const n={};function r(d,f,p,g){return ve.isPlainObject(d)&&ve.isPlainObject(f)?ve.merge.call({caseless:g},d,f):ve.isPlainObject(f)?ve.merge({},f):ve.isArray(f)?f.slice():f}function i(d,f,p,g){if(ve.isUndefined(f)){if(!ve.isUndefined(d))return r(void 0,d,p,g)}else return r(d,f,p,g)}function s(d,f){if(!ve.isUndefined(f))return r(void 0,f)}function a(d,f){if(ve.isUndefined(f)){if(!ve.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,p){if(p in e)return r(d,f);if(p in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,f,p)=>i(sR(d),sR(f),p,!0)};return ve.forEach(Object.keys({...t,...e}),function(f){const p=u[f]||i,g=p(t[f],e[f],f);ve.isUndefined(g)&&p!==l||(n[f]=g)}),n}const Pk=t=>{const e=tl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=si.from(a),e.url=Rk(_k(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(n)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ve.isFunction(n.getHeaders)){const u=n.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,p])=>{d.includes(f.toLowerCase())&&a.set(f,p)})}}if(Nr.hasStandardBrowserEnv&&(r&&ve.isFunction(r)&&(r=r(e)),r||r!==!1&&RV(e.url))){const u=i&&s&&LV.read(s);u&&a.set(i,u)}return e},DV=typeof XMLHttpRequest<"u",_V=DV&&function(t){return new Promise(function(n,r){const i=Pk(t);let s=i.data;const a=si.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,p,g,v,y;function x(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function T(){if(!b)return;const C=si.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};Dk(function(k){n(k),x()},function(k){r(k),x()},L),b=null}"onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(T)},b.onabort=function(){b&&(r(new Ft("Request aborted",Ft.ECONNABORTED,t,b)),b=null)},b.onerror=function(R){const L=R&&R.message?R.message:"Network Error",D=new Ft(L,Ft.ERR_NETWORK,t,b);D.event=R||null,r(D),b=null},b.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||Lk;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new Ft(R,L.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&ve.forEach(a.toJSON(),function(R,L){b.setRequestHeader(L,R)}),ve.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),d&&([g,y]=$p(d,!0),b.addEventListener("progress",g)),u&&b.upload&&([p,v]=$p(u),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=C=>{b&&(r(!C||C.type?new Nc(null,t,b):C),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const w=CV(i.url);if(w&&Nr.protocols.indexOf(w)===-1){r(new Ft("Unsupported protocol "+w+":",Ft.ERR_BAD_REQUEST,t));return}b.send(s||null)})},PV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Ft?f:new Nc(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,s(new Ft(`timeout ${e} of ms exceeded`,Ft.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>ve.asap(l),u}},OV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MV=async function*(t,e){for await(const n of FV(t))yield*OV(n,e)},FV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},aR=(t,e,n,r)=>{const i=MV(t,e);let s=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let p=f.byteLength;if(n){let g=s+=p;n(g)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},oR=64*1024,{isFunction:kh}=ve,NV=(({Request:t,Response:e})=>({Request:t,Response:e}))(ve.global),{ReadableStream:lR,TextEncoder:cR}=ve.global,uR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BV=t=>{t=ve.merge.call({skipUndefined:!0},NV,t);const{fetch:e,Request:n,Response:r}=t,i=e?kh(e):typeof fetch=="function",s=kh(n),a=kh(r);if(!i)return!1;const l=i&&kh(lR),u=i&&(typeof cR=="function"?(y=>x=>y.encode(x))(new cR):async y=>new Uint8Array(await new n(y).arrayBuffer())),d=s&&l&&uR(()=>{let y=!1;const x=new n(Nr.origin,{body:new lR,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),f=a&&l&&uR(()=>ve.isReadableStream(new r("").body)),p={stream:f&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(x,b)=>{let T=x&&x[y];if(T)return T.call(x);throw new Ft(`Response type '${y}' is not supported`,Ft.ERR_NOT_SUPPORT,b)})});const g=async y=>{if(y==null)return 0;if(ve.isBlob(y))return y.size;if(ve.isSpecCompliantForm(y))return(await new n(Nr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(y)||ve.isArrayBuffer(y))return y.byteLength;if(ve.isURLSearchParams(y)&&(y=y+""),ve.isString(y))return(await u(y)).byteLength},v=async(y,x)=>{const b=ve.toFiniteNumber(y.getContentLength());return b??g(x)};return async y=>{let{url:x,method:b,data:T,signal:w,cancelToken:C,timeout:R,onDownloadProgress:L,onUploadProgress:D,responseType:k,headers:P,withCredentials:F="same-origin",fetchOptions:O}=Pk(y),$=e||fetch;k=k?(k+"").toLowerCase():"text";let _=PV([w,C&&C.toAbortSignal()],R),K=null;const z=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let G;try{if(D&&d&&b!=="get"&&b!=="head"&&(G=await v(P,T))!==0){let U=new n(x,{method:"POST",body:T,duplex:"half"}),Y;if(ve.isFormData(T)&&(Y=U.headers.get("content-type"))&&P.setContentType(Y),U.body){const[ne,re]=rR(G,$p(iR(D)));T=aR(U.body,oR,ne,re)}}ve.isString(F)||(F=F?"include":"omit");const N=s&&"credentials"in n.prototype,q={...O,signal:_,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:T,duplex:"half",credentials:N?F:void 0};K=s&&new n(x,q);let H=await(s?$(K,O):$(x,q));const W=f&&(k==="stream"||k==="response");if(f&&(L||W&&z)){const U={};["status","statusText","headers"].forEach(Q=>{U[Q]=H[Q]});const Y=ve.toFiniteNumber(H.headers.get("content-length")),[ne,re]=L&&rR(Y,$p(iR(L),!0))||[];H=new r(aR(H.body,oR,ne,()=>{re&&re(),z&&z()}),U)}k=k||"text";let j=await p[ve.findKey(p,k)||"text"](H,y);return!W&&z&&z(),await new Promise((U,Y)=>{Dk(U,Y,{data:j,headers:si.from(H.headers),status:H.status,statusText:H.statusText,config:y,request:K})})}catch(N){throw z&&z(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,y,K),{cause:N.cause||N}):Ft.from(N,N&&N.code,y,K)}}},$V=new Map,Ok=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,l=a,u,d,f=$V;for(;l--;)u=s[l],d=f.get(u),d===void 0&&f.set(u,d=l?new Map:BV(e)),f=d;return d};Ok();const bx={http:nV,xhr:_V,fetch:{get:Ok}};ve.forEach(bx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dR=t=>`- ${t}`,jV=t=>ve.isFunction(t)||t===null||t===!1,Mk={getAdapter:(t,e)=>{t=ve.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let l;if(i=r,!jV(r)&&(i=bx[(l=String(r)).toLowerCase()],i===void 0))throw new Ft(`Unknown adapter '${l}'`);if(i&&(ve.isFunction(i)||(i=i.get(e))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(dR).join(`
`):" "+dR(a[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:bx};function Jv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Nc(null,t)}function fR(t){return Jv(t),t.headers=si.from(t.headers),t.data=Zv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Mk.getAdapter(t.adapter||Jd.adapter,t)(t).then(function(r){return Jv(t),r.data=Zv.call(t,t.transformResponse,r),r.headers=si.from(r.headers),r},function(r){return kk(r)||(Jv(t),r&&r.response&&(r.response.data=Zv.call(t,t.transformResponse,r.response),r.response.headers=si.from(r.response.headers))),Promise.reject(r)})}const Fk="1.12.2",tg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const hR={};tg.transitional=function(e,n,r){function i(s,a){return"[Axios v"+Fk+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new Ft(i(a," has been removed"+(n?" in "+n:"")),Ft.ERR_DEPRECATED);return n&&!hR[a]&&(hR[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}};tg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function UV(t,e,n){if(typeof t!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],u=l===void 0||a(l,s,t);if(u!==!0)throw new Ft("option "+s+" must be "+u,Ft.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ft("Unknown option "+s,Ft.ERR_BAD_OPTION)}}const ap={assertOptions:UV,validators:tg},ys=ap.validators;let Vo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tR,response:new tR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=tl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ap.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),i!=null&&(ve.isFunction(i)?n.paramsSerializer={serialize:i}:ap.assertOptions(i,{encode:ys.function,serialize:ys.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ap.assertOptions(n,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&ve.merge(s.common,s[n.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=si.concat(a,s);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let f,p=0,g;if(!u){const y=[fR.bind(this),void 0];for(y.unshift(...l),y.push(...d),g=y.length,f=Promise.resolve(n);p<g;)f=f.then(y[p++],y[p++]);return f}g=l.length;let v=n;for(;p<g;){const y=l[p++],x=l[p++];try{v=y(v)}catch(b){x.call(this,b);break}}try{f=fR.call(this,v)}catch(y){return Promise.reject(y)}for(p=0,g=d.length;p<g;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=tl(this.defaults,e);const n=_k(e.baseURL,e.url,e.allowAbsoluteUrls);return Rk(n,e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){Vo.prototype[e]=function(n,r){return this.request(tl(r||{},{method:e,url:n,data:(r||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,l){return this.request(tl(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Vo.prototype[e]=n(),Vo.prototype[e+"Form"]=n(!0)});let zV=class Nk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new Nc(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Nk(function(i){e=i}),cancel:e}}};function HV(t){return function(n){return t.apply(null,n)}}function GV(t){return ve.isObject(t)&&t.isAxiosError===!0}const Sx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sx).forEach(([t,e])=>{Sx[e]=t});function Bk(t){const e=new Vo(t),n=mk(Vo.prototype.request,e);return ve.extend(n,Vo.prototype,e,{allOwnKeys:!0}),ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Bk(tl(t,i))},n}const nr=Bk(Jd);nr.Axios=Vo;nr.CanceledError=Nc;nr.CancelToken=zV;nr.isCancel=kk;nr.VERSION=Fk;nr.toFormData=eg;nr.AxiosError=Ft;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=HV;nr.isAxiosError=GV;nr.mergeConfig=tl;nr.AxiosHeaders=si;nr.formToJSON=t=>Ik(ve.isHTMLForm(t)?new FormData(t):t);nr.getAdapter=Mk.getAdapter;nr.HttpStatusCode=Sx;nr.default=nr;const{Axios:wee,AxiosError:Aee,CanceledError:Ree,isCancel:Lee,CancelToken:Iee,VERSION:kee,all:Dee,Cancel:_ee,isAxiosError:Pee,spread:Oee,toFormData:Mee,AxiosHeaders:Fee,HttpStatusCode:Nee,formToJSON:Bee,getAdapter:$ee,mergeConfig:jee}=nr,Xi=nr.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});Xi.interceptors.request.use(t=>{t.params||(t.params={});const e=localStorage.getItem("uuid");return e&&!t.params.uuid&&(t.params.uuid=e),t.params.view||(t.params.view="json"),t},t=>Promise.reject(t));Xi.interceptors.response.use(t=>t,t=>(t.response&&t.response.status===401&&(localStorage.removeItem("uuid"),document.cookie="uuid=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/login"),Promise.reject(t)));const VV=async t=>{const{ftype:e=".all",days:n=0,foo:r="",numobj:i=100,date:s,order:a="Desc",screenSize:l=160}=t,u={ftype:e,foo:r||".all",days:n>0?n:"",view:"json",numobj:i,order:a,screenSize:l};if(s!=null){console.log("Converting date:",{rawDate:s,type:typeof s});const p=new Date(Number(s));if(console.log("Date object:",p,"isValid:",!isNaN(p.getTime())),isNaN(p.getTime()))console.error("Invalid date value:",s);else{const g=p.getFullYear(),v=String(p.getMonth()+1).padStart(2,"0"),y=String(p.getDate()).padStart(2,"0"),x=String(p.getHours()).padStart(2,"0"),b=String(p.getMinutes()).padStart(2,"0"),T=String(p.getSeconds()).padStart(2,"0"),w=String(p.getMilliseconds()).padStart(3,"0"),R=p.toLocaleTimeString("en-US",{timeZoneName:"short"}).split(" ").pop()||"GMT";u.date=`${g}.${v}.${y}+${x}:${b}:${T}.${w}+${R}`,console.log("Formatted date:",u.date)}}console.log("Fetching files with params:",u);const d=await Xi.get("/cass/query.fn",{params:u}),f=Array.isArray(d.data?.fighters)?d.data.fighters:[];return{files:f,hasMore:f.length>=i}},KV=async t=>{const{ftype:e=".all",foo:n="",days:r=0}=t,i={ftype:e,days:r};n&&(i.foo=n);const a=(await Xi.get("/cass/sidebar.fn",{params:i})).data||{};console.log("sidebar.fn response:",a);const l=a.objFound?.[0]||{},u=a.objFound?.[1]||{};return console.log("File type data:",l),console.log("Time range data:",u),{fileTypes:[{ftype:".all",count:parseInt(l.nTotal||0)},{ftype:".photo",count:parseInt(l.nPhoto||0)},{ftype:".music",count:parseInt(l.nMusic||0)},{ftype:".video",count:parseInt(l.nVideo||0)},{ftype:".document",count:parseInt(l.nDocuments||0)},{ftype:".doc",count:parseInt(l.nDoc||0)},{ftype:".xls",count:parseInt(l.nXls||0)},{ftype:".ppt",count:parseInt(l.nPpt||0)},{ftype:".pdf",count:parseInt(l.nPdf||0)}],timeRanges:[{range:"1",count:parseInt(u.nPast24h||0)},{range:"3",count:parseInt(u.nPast3d||0)},{range:"7",count:parseInt(u.nPast7d||0)},{range:"14",count:parseInt(u.nPast14d||0)},{range:"30",count:parseInt(u.nPast30d||0)},{range:"365",count:parseInt(u.nPast365d||0)},{range:".all",count:parseInt(u.nAllTime||0)}]}},WV=async(t,e)=>{if(!t||t.length<2)return[];const{ftype:n=".all",days:r=0}=e||{},i={foo:t,ftype:n,days:r>0?r:"",view:"json",numobj:10},a=(await Xi.get("/cass/suggest.fn",{params:i})).data?.fighters||[];return Array.isArray(a)?a.map(l=>typeof l=="string"?l:l.name||""):[]},$k=async t=>{const e={},n=await Xi.get("/cass/gettags_webapp.fn",{params:e});return(Array.isArray(n.data?.fighters)?n.data.fighters:[]).map(i=>({tag:i.tagname||i.tag||"",count:parseInt(i.tagcnt||i.count||"0",10)}))},ng=async(t,e)=>{const r={tag:e.join(","),_:Date.now()};t.forEach(i=>{r[i]="on"}),await Xi.get("/cass/applytags.fn",{params:r})},t1=async(t,e)=>{const r={tag:e.join(","),_:Date.now()};t.forEach(i=>{r.DeleteTag=i}),await Xi.get("/cass/applytags.fn",{params:r})},qV=async t=>{const e=t.join(","),n=new URLSearchParams({multiclusterid:e}),r=localStorage.getItem("uuid");r&&n.append("uuid",r);const i=_r(`/cass/downloadmulti.fn?${n.toString()}`),s=document.createElement("a");s.href=i,s.download="files.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s)},YV=async(t="scanfolders")=>{const e=await Xi.get("/cass/getfolders-json.fn",{params:{sFolder:t}});return(Array.isArray(e.data)?e.data:e.data?.folders||[]).map(r=>({name:typeof r=="string"?r:r.name||r.folder||"",path:typeof r=="object"?r.path:void 0,count:typeof r=="object"?r.count:void 0,type:typeof r=="object"?r.type:void 0,md5:typeof r=="object"?r.md5:void 0}))};/*! js-cookie v3.0.5 | MIT */function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var XV={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ex(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Dh({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var u in a)a[u]&&(l+="; "+u,a[u]!==!0&&(l+="="+a[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+l}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},l=0;l<s.length;l++){var u=s[l].split("="),d=u.slice(1).join("=");try{var f=decodeURIComponent(u[0]);if(a[f]=t.read(d,f),i===f)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Dh({},s,{expires:-1}))},withAttributes:function(i){return Ex(this.converter,Dh({},this.attributes,i))},withConverter:function(i){return Ex(Dh({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var QV=Ex(XV,{path:"/"});function ll(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{d(r.next(f))}catch(p){a(p)}}function u(f){try{d(r.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}const ZV=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Rc(t,e,n){const r=JV(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&pR(r,"path",s),pR(r,"relativePath",s),r}function JV(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=ZV.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function pR(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const eK=[".DS_Store","Thumbs.db"];function tK(t){return ll(this,void 0,void 0,function*(){return jp(t)&&nK(t.dataTransfer)?aK(t.dataTransfer,t.type):rK(t)?iK(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?sK(t):[]})}function nK(t){return jp(t)}function rK(t){return jp(t)&&jp(t.target)}function jp(t){return typeof t=="object"&&t!==null}function iK(t){return Tx(t.target.files).map(e=>Rc(e))}function sK(t){return ll(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Rc(n))})}function aK(t,e){return ll(this,void 0,void 0,function*(){if(t.items){const n=Tx(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(oK));return mR(jk(r))}return mR(Tx(t.files).map(n=>Rc(n)))})}function mR(t){return t.filter(e=>eK.indexOf(e.name)===-1)}function Tx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function oK(t){if(typeof t.webkitGetAsEntry!="function")return gR(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?Uk(e):gR(t,e)}function jk(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?jk(n):[n]],[])}function gR(t,e){return ll(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const a=yield s.getFile();return a.handle=s,Rc(a)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Rc(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function lK(t){return ll(this,void 0,void 0,function*(){return t.isDirectory?Uk(t):cK(t)})}function Uk(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(a=>ll(this,void 0,void 0,function*(){if(a.length){const l=Promise.all(a.map(lK));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),a=>{r(a)})}s()})}function cK(t){return ll(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Rc(r,t.fullPath);e(i)},r=>{n(r)})})})}var _h={},vR;function uK(){return vR||(vR=1,_h.__esModule=!0,_h.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(a){var l=a.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),_h}var dK=uK();const ey=sm(dK);function yR(t){return pK(t)||hK(t)||Hk(t)||fK()}function fK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pK(t){if(Array.isArray(t))return Cx(t)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){zk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ad(t,e){return vK(t)||gK(t,e)||Hk(t,e)||mK()}function mK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hk(t,e){if(t){if(typeof t=="string")return Cx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cx(t,e)}}function Cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,l;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function vK(t){if(Array.isArray(t))return t}var yK=typeof ey=="function"?ey:ey.default,xK="file-invalid-type",bK="file-too-large",SK="file-too-small",EK="too-many-files",TK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:xK,message:"File type must be ".concat(r)}},SR=function(e){return{code:bK,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ER=function(e){return{code:SK,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},CK={code:EK,message:"Too many files"};function Gk(t,e){var n=t.type==="application/x-moz-file"||yK(t,e);return[n,n?null:TK(e)]}function Vk(t,e,n){if(Mo(t.size))if(Mo(e)&&Mo(n)){if(t.size>n)return[!1,SR(n)];if(t.size<e)return[!1,ER(e)]}else{if(Mo(e)&&t.size<e)return[!1,ER(e)];if(Mo(n)&&t.size>n)return[!1,SR(n)]}return[!0,null]}function Mo(t){return t!=null}function wK(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,a=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(u){var d=Gk(u,n),f=Ad(d,1),p=f[0],g=Vk(u,r,i),v=Ad(g,1),y=v[0],x=l?l(u):null;return p&&y&&!x})}function Up(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Ph(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function TR(t){t.preventDefault()}function AK(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function RK(t){return t.indexOf("Edge/")!==-1}function LK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return AK(t)||RK(t)}function xs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return e.some(function(l){return!Up(r)&&l&&l.apply(void 0,[r].concat(s)),Up(r)})}}function IK(){return"showOpenFilePicker"in window}function kK(t){if(Mo(t)){var e=Object.entries(t).filter(function(n){var r=Ad(n,2),i=r[0],s=r[1],a=!0;return Kk(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every(Wk))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var i=Ad(r,2),s=i[0],a=i[1];return bR(bR({},n),{},zk({},s,a))},{});return[{description:"Files",accept:e}]}return t}function DK(t){if(Mo(t))return Object.entries(t).reduce(function(e,n){var r=Ad(n,2),i=r[0],s=r[1];return[].concat(yR(e),[i],yR(s))},[]).filter(function(e){return Kk(e)||Wk(e)}).join(",")}function _K(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function PK(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Kk(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Wk(t){return/^.*\.[\w]+$/.test(t)}var OK=["children"],MK=["open"],FK=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],NK=["refKey","onChange","onClick"];function BK(t){return UK(t)||jK(t)||qk(t)||$K()}function $K(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UK(t){if(Array.isArray(t))return wx(t)}function ty(t,e){return GK(t)||HK(t,e)||qk(t,e)||zK()}function zK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qk(t,e){if(t){if(typeof t=="string")return wx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(t,e)}}function wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,l;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function GK(t){if(Array.isArray(t))return t}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ax(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zp(t,e){if(t==null)return{};var n=VK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var n1=I.forwardRef(function(t,e){var n=t.children,r=zp(t,OK),i=Xk(r),s=i.open,a=zp(i,MK);return I.useImperativeHandle(e,function(){return{open:s}},[s]),un.createElement(I.Fragment,null,n(Un(Un({},a),{},{open:s})))});n1.displayName="Dropzone";var Yk={disabled:!1,getFilesFromEvent:tK,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};n1.defaultProps=Yk;n1.propTypes={children:Rn.func,accept:Rn.objectOf(Rn.arrayOf(Rn.string)),multiple:Rn.bool,preventDropOnDocument:Rn.bool,noClick:Rn.bool,noKeyboard:Rn.bool,noDrag:Rn.bool,noDragEventsBubbling:Rn.bool,minSize:Rn.number,maxSize:Rn.number,maxFiles:Rn.number,disabled:Rn.bool,getFilesFromEvent:Rn.func,onFileDialogCancel:Rn.func,onFileDialogOpen:Rn.func,useFsAccessApi:Rn.bool,autoFocus:Rn.bool,onDragEnter:Rn.func,onDragLeave:Rn.func,onDragOver:Rn.func,onDrop:Rn.func,onDropAccepted:Rn.func,onDropRejected:Rn.func,onError:Rn.func,validator:Rn.func};var Rx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Xk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Un(Un({},Yk),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,l=e.multiple,u=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,p=e.onDragOver,g=e.onDrop,v=e.onDropAccepted,y=e.onDropRejected,x=e.onFileDialogCancel,b=e.onFileDialogOpen,T=e.useFsAccessApi,w=e.autoFocus,C=e.preventDropOnDocument,R=e.noClick,L=e.noKeyboard,D=e.noDrag,k=e.noDragEventsBubbling,P=e.onError,F=e.validator,O=I.useMemo(function(){return DK(n)},[n]),$=I.useMemo(function(){return kK(n)},[n]),_=I.useMemo(function(){return typeof b=="function"?b:wR},[b]),K=I.useMemo(function(){return typeof x=="function"?x:wR},[x]),z=I.useRef(null),G=I.useRef(null),N=I.useReducer(KK,Rx),q=ty(N,2),H=q[0],W=q[1],j=H.isFocused,U=H.isFileDialogActive,Y=I.useRef(typeof window<"u"&&window.isSecureContext&&T&&IK()),ne=function(){!Y.current&&U&&setTimeout(function(){if(G.current){var pe=G.current.files;pe.length||(W({type:"closeDialog"}),K())}},300)};I.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[G,U,K,Y]);var re=I.useRef([]),Q=function(pe){z.current&&z.current.contains(pe.target)||(pe.preventDefault(),re.current=[])};I.useEffect(function(){return C&&(document.addEventListener("dragover",TR,!1),document.addEventListener("drop",Q,!1)),function(){C&&(document.removeEventListener("dragover",TR),document.removeEventListener("drop",Q))}},[z,C]),I.useEffect(function(){return!r&&w&&z.current&&z.current.focus(),function(){}},[z,w,r]);var ee=I.useCallback(function(Se){P?P(Se):console.error(Se)},[P]),Oe=I.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ve(Se),re.current=[].concat(BK(re.current),[Se.target]),Ph(Se)&&Promise.resolve(i(Se)).then(function(pe){if(!(Up(Se)&&!k)){var be=pe.length,$e=be>0&&wK({files:pe,accept:O,minSize:a,maxSize:s,multiple:l,maxFiles:u,validator:F}),Ge=be>0&&!$e;W({isDragAccept:$e,isDragReject:Ge,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Se)}}).catch(function(pe){return ee(pe)})},[i,d,ee,k,O,a,s,l,u,F]),De=I.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ve(Se);var pe=Ph(Se);if(pe&&Se.dataTransfer)try{Se.dataTransfer.dropEffect="copy"}catch{}return pe&&p&&p(Se),!1},[p,k]),Be=I.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ve(Se);var pe=re.current.filter(function($e){return z.current&&z.current.contains($e)}),be=pe.indexOf(Se.target);be!==-1&&pe.splice(be,1),re.current=pe,!(pe.length>0)&&(W({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ph(Se)&&f&&f(Se))},[z,f,k]),Me=I.useCallback(function(Se,pe){var be=[],$e=[];Se.forEach(function(Ge){var We=Gk(Ge,O),Xe=ty(We,2),je=Xe[0],It=Xe[1],yt=Vk(Ge,a,s),Dt=ty(yt,2),Qe=Dt[0],Et=Dt[1],Lt=F?F(Ge):null;if(je&&Qe&&!Lt)be.push(Ge);else{var ln=[It,Et];Lt&&(ln=ln.concat(Lt)),$e.push({file:Ge,errors:ln.filter(function(wn){return wn})})}}),(!l&&be.length>1||l&&u>=1&&be.length>u)&&(be.forEach(function(Ge){$e.push({file:Ge,errors:[CK]})}),be.splice(0)),W({acceptedFiles:be,fileRejections:$e,isDragReject:$e.length>0,type:"setFiles"}),g&&g(be,$e,pe),$e.length>0&&y&&y($e,pe),be.length>0&&v&&v(be,pe)},[W,l,O,a,s,u,g,v,y,F]),Ye=I.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ve(Se),re.current=[],Ph(Se)&&Promise.resolve(i(Se)).then(function(pe){Up(Se)&&!k||Me(pe,Se)}).catch(function(pe){return ee(pe)}),W({type:"reset"})},[i,Me,ee,k]),Ue=I.useCallback(function(){if(Y.current){W({type:"openDialog"}),_();var Se={multiple:l,types:$};window.showOpenFilePicker(Se).then(function(pe){return i(pe)}).then(function(pe){Me(pe,null),W({type:"closeDialog"})}).catch(function(pe){_K(pe)?(K(pe),W({type:"closeDialog"})):PK(pe)?(Y.current=!1,G.current?(G.current.value=null,G.current.click()):ee(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ee(pe)});return}G.current&&(W({type:"openDialog"}),_(),G.current.value=null,G.current.click())},[W,_,K,T,Me,ee,$,l]),ye=I.useCallback(function(Se){!z.current||!z.current.isEqualNode(Se.target)||(Se.key===" "||Se.key==="Enter"||Se.keyCode===32||Se.keyCode===13)&&(Se.preventDefault(),Ue())},[z,Ue]),Re=I.useCallback(function(){W({type:"focus"})},[]),gt=I.useCallback(function(){W({type:"blur"})},[]),Le=I.useCallback(function(){R||(LK()?setTimeout(Ue,0):Ue())},[R,Ue]),Pe=function(pe){return r?null:pe},ke=function(pe){return L?null:Pe(pe)},bt=function(pe){return D?null:Pe(pe)},Ve=function(pe){k&&pe.stopPropagation()},pt=I.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=Se.refKey,be=pe===void 0?"ref":pe,$e=Se.role,Ge=Se.onKeyDown,We=Se.onFocus,Xe=Se.onBlur,je=Se.onClick,It=Se.onDragEnter,yt=Se.onDragOver,Dt=Se.onDragLeave,Qe=Se.onDrop,Et=zp(Se,FK);return Un(Un(Ax({onKeyDown:ke(xs(Ge,ye)),onFocus:ke(xs(We,Re)),onBlur:ke(xs(Xe,gt)),onClick:Pe(xs(je,Le)),onDragEnter:bt(xs(It,Oe)),onDragOver:bt(xs(yt,De)),onDragLeave:bt(xs(Dt,Be)),onDrop:bt(xs(Qe,Ye)),role:typeof $e=="string"&&$e!==""?$e:"presentation"},be,z),!r&&!L?{tabIndex:0}:{}),Et)}},[z,ye,Re,gt,Le,Oe,De,Be,Ye,L,D,r]),Ke=I.useCallback(function(Se){Se.stopPropagation()},[]),Ut=I.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=Se.refKey,be=pe===void 0?"ref":pe,$e=Se.onChange,Ge=Se.onClick,We=zp(Se,NK),Xe=Ax({accept:O,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Pe(xs($e,Ye)),onClick:Pe(xs(Ge,Ke)),tabIndex:-1},be,G);return Un(Un({},Xe),We)}},[G,n,l,Ye,r]);return Un(Un({},H),{},{isFocused:j&&!r,getRootProps:pt,getInputProps:Ut,rootRef:z,inputRef:G,open:Pe(Ue)})}function KK(t,e){switch(e.type){case"focus":return Un(Un({},t),{},{isFocused:!0});case"blur":return Un(Un({},t),{},{isFocused:!1});case"openDialog":return Un(Un({},Rx),{},{isFileDialogActive:!0});case"closeDialog":return Un(Un({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Un(Un({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Un(Un({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Un({},Rx);default:return t}}function wR(){}function WK({open:t,onClose:e}){const[n,r]=I.useState([]),[i,s]=I.useState(10),[a,l]=I.useState("0 KB/s"),u=I.useRef(new Map),[d,f]=I.useState(8087);I.useEffect(()=>{fetch("/cass/nodeinfo.fn").then(R=>R.json()).then(R=>{const L=R.nodes.find(D=>D.node_type==="server");L?.node_nettyport_post&&(f(L.node_nettyport_post),console.log("Netty port obtained from server:",L.node_nettyport_post))}).catch(R=>console.error("Failed to get netty port:",R))},[]);const p=I.useCallback(R=>{const L=R.map(D=>({file:D,progress:0,status:"pending",uploadedBytes:0}));r(D=>[...D,...L])},[]),{getRootProps:g,getInputProps:v,isDragActive:y}=Xk({onDrop:p,noClick:!0}),x=async(R,L)=>{const{file:D}=R,k=i*1024*1024,P=Math.ceil(D.size/k),F=new AbortController;u.current.set(D.name,F);const O=Date.now(),$=window.location.protocol,_=window.location.hostname,K=$==="https:";try{r(z=>z.map((G,N)=>N===L?{...G,status:"uploading",startTime:O}:G));for(let z=0;z<P;z++){const G=z*k,N=Math.min(G+k,D.size),q=D.slice(G,N),H=new FormData,W=`upload.${D.name}.${P}.${z+1}.p`,j=new File([q],W,{type:D.type});H.append(W,j);let U;const Y=window.location.port==="5173";K?U=`https://${_}/${W}`:U=Y?"/formpost":`http://${_}:${d}/formpost`;const ne=await fetch(U,{method:"POST",body:H,signal:F.signal,credentials:Y?"include":"omit"});if(!ne.ok)throw new Error(`Upload failed: ${ne.statusText}`);const re=N,Q=re/D.size*100,ee=(Date.now()-O)/1e3,Be=re/(1024*1024)*8/ee*122.07;r(Me=>Me.map((Ye,Ue)=>Ue===L?{...Ye,progress:Q,uploadedBytes:re,speed:Be}:Ye)),l(`${Be.toFixed(0)} KB/s`)}r(z=>z.map((G,N)=>N===L?{...G,status:"completed",progress:100}:G))}catch(z){z.name!=="AbortError"&&r(G=>G.map((N,q)=>q===L?{...N,status:"error",error:z.message||"Upload failed"}:N))}finally{u.current.delete(D.name)}},b=()=>{n.forEach((R,L)=>{R.status==="pending"&&x(R,L)})},T=R=>{const L=n[R],D=u.current.get(L.file.name);D&&D.abort(),r(k=>k.filter((P,F)=>F!==R))},w=()=>{u.current.forEach(R=>R.abort()),u.current.clear(),r([])},C=()=>{w(),e()};return t?S.jsx(Ce,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",p:3},children:S.jsxs(Zn,{...g(),sx:{width:"100%",maxWidth:800,maxHeight:"90vh",overflow:"auto",p:3,position:"relative"},children:[S.jsx(Nt,{onClick:C,sx:{position:"absolute",top:10,right:10},children:S.jsx(ol,{})}),S.jsxs(Ce,{sx:{mb:3,textAlign:"center"},children:[S.jsx(Fe,{variant:"h6",sx:{fontWeight:"bold",color:"text.secondary",mb:2},children:"Upload Chunk Size"}),S.jsx(Ce,{sx:{px:8},children:S.jsx(uz,{value:i,onChange:(R,L)=>s(L),min:5,max:20,step:5,marks:[{value:5,label:"5 MB"},{value:10,label:"10 MB"},{value:15,label:"15 MB"},{value:20,label:"20 MB"}],valueLabelDisplay:"auto",valueLabelFormat:R=>`${R} MB`})})]}),S.jsxs(Ce,{sx:{border:"2px dashed",borderColor:y?"primary.main":"divider",borderRadius:2,p:4,textAlign:"center",backgroundColor:y?"action.hover":"transparent",mb:3},children:[S.jsx(uk,{sx:{fontSize:60,color:"text.secondary",mb:2}}),S.jsx(Fe,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Drop files here"}),S.jsx("input",{...v()}),S.jsx(tn,{variant:"contained",color:"success",startIcon:S.jsx(Gb,{}),onClick:()=>document.querySelector('input[type="file"]')?.click(),children:"Add files..."})]}),a!=="0 KB/s"&&S.jsxs(Hi,{severity:"info",sx:{mb:2},children:["Speed: ",a]}),n.length>0&&S.jsxs(Ce,{children:[S.jsxs(Ce,{sx:{mb:2,display:"flex",gap:1,justifyContent:"flex-end"},children:[S.jsx(tn,{variant:"contained",color:"primary",onClick:b,disabled:n.every(R=>R.status!=="pending"),children:"Upload All"}),S.jsx(tn,{variant:"outlined",color:"error",onClick:w,children:"Clear All"})]}),n.map((R,L)=>S.jsxs(Zn,{sx:{p:2,mb:2},children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",mb:1},children:[S.jsxs(Ce,{sx:{flex:1},children:[S.jsx(Fe,{variant:"body2",sx:{fontWeight:500},children:R.file.name}),S.jsxs(Fe,{variant:"caption",color:"text.secondary",children:[(R.file.size/(1024*1024)).toFixed(2)," MB"]})]}),R.status==="completed"&&S.jsx(qH,{color:"success"})]}),R.status!=="pending"&&S.jsx(ld,{variant:"determinate",value:R.progress,sx:{mb:1}}),R.status==="completed"&&S.jsx(Hi,{severity:"success",sx:{mt:1},children:"File uploaded successfully."}),R.status==="error"&&S.jsx(Hi,{severity:"error",sx:{mt:1},children:R.error}),S.jsxs(Ce,{sx:{display:"flex",gap:1,mt:1},children:[R.status==="uploading"&&S.jsx(tn,{size:"small",variant:"outlined",color:"warning",startIcon:S.jsx(KH,{}),onClick:()=>T(L),children:"Cancel"}),S.jsx(tn,{size:"small",variant:"outlined",color:"error",startIcon:S.jsx(Vb,{}),onClick:()=>T(L),children:"Clear"})]})]},L))]})]})}):null}const qK=()=>S.jsxs("svg",{width:"120",height:"22",viewBox:"0 0 182 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsxs("g",{clipPath:"url(#clip0_1255_1759)",children:[S.jsx("path",{d:"M165.012 32.4618C169.413 32.6636 173.881 31.0872 177.243 27.7248C183.585 21.3823 183.585 11.0994 177.243 4.75688C170.899 -1.58563 160.616 -1.58563 154.274 4.75688C150.893 8.13762 149.316 12.6346 149.538 17.0581V32.4618H165.012Z",fill:"#FFEB61"}),S.jsx("path",{d:"M150.976 9.5153L172.485 31.0229C174.184 30.2508 175.777 29.1728 177.182 27.7814L154.217 4.81805C152.829 6.22172 151.749 7.81653 150.976 9.5153Z",fill:"#51312D"}),S.jsx("path",{d:"M149.526 16.0031C149.517 16.3563 149.522 16.7079 149.538 17.0596L149.54 23.9587L158.043 32.4618H165.012C165.338 32.4786 165.668 32.4786 165.997 32.474L149.526 16.0031Z",fill:"#51312D"}),S.jsx("path",{d:"M166.754 8.0306C167.5 7.28289 167.488 6.05812 166.722 5.29665C165.954 4.53213 164.728 4.52142 163.985 5.2676C163.24 6.01378 163.255 7.23855 164.022 8.00155C164.788 8.76301 166.012 8.7783 166.754 8.0306Z",fill:"#51312D"}),S.jsx("path",{opacity:"0.5",d:"M165.529 16.1452L156.208 6.82261C153.667 4.01068 149.989 2.24463 145.899 2.24463C138.223 2.24463 132 8.46787 132 16.1452C132 23.8196 138.223 30.0443 145.899 30.0413C149.969 30.0428 153.628 28.2905 156.168 25.5076L165.529 16.1452Z",fill:"#FFEB61"})]}),S.jsx("path",{d:"M3.69043 30H0.511719V2.41699H3.69043V14.209C4.36263 13.1722 5.01204 12.4032 5.63867 11.9019C6.27669 11.4006 6.9375 11.0246 7.62109 10.7739C8.31608 10.5119 9.08512 10.3809 9.92822 10.3809C11.1245 10.3809 12.1955 10.6258 13.1411 11.1157C14.0981 11.6056 14.8387 12.3291 15.3628 13.2861C15.8869 14.2318 16.1489 15.7528 16.1489 17.8491V30H12.9702V19.2163C12.9702 17.5073 12.8563 16.2996 12.6284 15.5933C12.4006 14.8755 11.9676 14.3172 11.3296 13.9185C10.6916 13.5083 9.9624 13.3032 9.14209 13.3032C8.20785 13.3032 7.31917 13.5767 6.47607 14.1235C5.63298 14.6704 4.95508 15.4338 4.44238 16.4136C3.94108 17.3934 3.69043 18.7948 3.69043 20.6177V30Z",fill:"#FFEB61"}),S.jsx("path",{d:"M20.9512 10.9106H24.1299V30H20.9512V10.9106ZM20.9512 6.67236V3.47656H24.1299V6.67236H20.9512Z",fill:"#FFEB61"}),S.jsx("path",{d:"M34.8452 30L27.0693 10.9106H30.4873L36.6055 25.8813L42.8604 10.9106H46.022L38.0239 30H34.8452Z",fill:"#FFEB61"}),S.jsx("path",{d:"M61.4199 25.0952H64.5986V25.2661C64.5986 26.1092 64.2625 26.9694 63.5903 27.8467C62.9181 28.724 62.0295 29.3905 60.9243 29.8462C59.8192 30.3019 58.5488 30.5298 57.1133 30.5298C54.208 30.5298 51.9635 29.5898 50.3799 27.71C48.8076 25.8301 48.0215 23.4546 48.0215 20.5835C48.0215 17.644 48.8532 15.2116 50.5166 13.2861C52.1914 11.3493 54.3447 10.3809 56.9766 10.3809C58.4235 10.3809 59.7337 10.6942 60.9072 11.3208C62.0807 11.9474 63.0093 12.9272 63.6929 14.2603C64.3765 15.5819 64.7183 17.4276 64.7183 19.7974V20.8569H51.166C51.166 22.8963 51.7129 24.5768 52.8066 25.8984C53.9118 27.2201 55.4385 27.8809 57.3867 27.8809C58.7881 27.8809 59.8078 27.6131 60.4458 27.0776C61.0952 26.5308 61.4199 25.9269 61.4199 25.2661V25.0952ZM51.3711 18.4644H61.6763V18.0884C61.6763 17.1997 61.4598 16.3395 61.0269 15.5078C60.6053 14.6647 60.0186 14.0438 59.2666 13.645C58.5146 13.2349 57.6374 13.0298 56.6348 13.0298C55.4499 13.0298 54.3561 13.5083 53.3535 14.4653C52.3509 15.411 51.6901 16.744 51.3711 18.4644Z",fill:"#FFEB61"}),S.jsx("path",{d:"M72.0327 30H68.854C68.911 29.3734 68.9622 28.61 69.0078 27.71C69.042 26.8099 69.0705 26.075 69.0933 25.5054C69.116 24.9357 69.1274 24.554 69.1274 24.3604V2.41699H72.3062V14.2261C73.0011 13.1437 73.6506 12.3576 74.2544 11.8677C74.8696 11.3778 75.5361 11.0075 76.2539 10.7568C76.9831 10.5062 77.7464 10.3809 78.5439 10.3809C79.9909 10.3809 81.3182 10.7796 82.5259 11.5771C83.7336 12.3633 84.6735 13.5425 85.3457 15.1147C86.0179 16.687 86.354 18.453 86.354 20.4126C86.354 23.3179 85.6533 25.7332 84.252 27.6587C82.8506 29.5728 80.8966 30.5298 78.3901 30.5298C77.5698 30.5298 76.8008 30.4102 76.083 30.1709C75.3652 29.943 74.7215 29.6012 74.1519 29.1455C73.5936 28.6784 72.9784 27.8524 72.3062 26.6675L72.2036 28.0518C72.158 28.8151 72.1011 29.4645 72.0327 30ZM72.3062 20.4639C72.3062 22.6286 72.7733 24.4059 73.7075 25.7959C74.6418 27.1859 75.952 27.8809 77.6382 27.8809C79.1877 27.8809 80.4751 27.2656 81.5005 26.0352C82.5259 24.8047 83.0386 22.9647 83.0386 20.5151C83.0386 17.6554 82.5145 15.673 81.4663 14.5679C80.4181 13.4513 79.1706 12.8931 77.7236 12.8931C76.7096 12.8931 75.764 13.2007 74.8867 13.8159C74.0208 14.4198 73.3714 15.3255 72.9385 16.5332C72.5169 17.7295 72.3062 19.0397 72.3062 20.4639Z",fill:"#FFEB61"}),S.jsx("path",{d:"M98.5732 30.5298C96.0781 30.5298 93.9476 29.6867 92.1816 28.0005C90.4271 26.3029 89.5498 23.785 89.5498 20.4468C89.5498 17.12 90.4271 14.6134 92.1816 12.9272C93.9476 11.2297 96.0781 10.3809 98.5732 10.3809C101.057 10.3809 103.176 11.2297 104.931 12.9272C106.697 14.6134 107.58 17.12 107.58 20.4468C107.58 23.785 106.697 26.3029 104.931 28.0005C103.176 29.6867 101.057 30.5298 98.5732 30.5298ZM98.5732 27.8809C100.282 27.8809 101.655 27.203 102.692 25.8472C103.74 24.48 104.264 22.6799 104.264 20.4468C104.264 18.2251 103.74 16.4364 102.692 15.0806C101.655 13.7134 100.282 13.0298 98.5732 13.0298C96.8529 13.0298 95.4686 13.7134 94.4204 15.0806C93.3836 16.4364 92.8652 18.2251 92.8652 20.4468C92.8652 22.6799 93.3836 24.48 94.4204 25.8472C95.4686 27.203 96.8529 27.8809 98.5732 27.8809Z",fill:"#FFEB61"}),S.jsx("path",{d:"M123.371 27.2998V29.9658C121.821 30.3418 120.636 30.5298 119.816 30.5298C118.631 30.5298 117.56 30.2905 116.603 29.812C115.657 29.3335 114.934 28.6385 114.433 27.7271C113.943 26.8156 113.698 25.363 113.698 23.3691V13.5596H110.382V10.9106H113.698V6.39893H116.876V10.9106H122.448V13.5596H116.876V22.4634C116.876 24.1496 117.007 25.3231 117.27 25.9839C117.532 26.6333 117.942 27.1118 118.5 27.4194C119.07 27.7271 119.748 27.8809 120.534 27.8809C121.16 27.8809 122.106 27.6872 123.371 27.2998Z",fill:"#FFEB61"}),S.jsx("defs",{children:S.jsx("clipPath",{id:"clip0_1255_1759",children:S.jsx("rect",{width:"50",height:"32.4786",fill:"white",transform:"translate(132)"})})})]});function YK(){const t=lm(),e=Bd(),n=Kr(),r=Xt(z3),i=Xt(D=>D.files.filters.searchQuery),s=Xt(D=>D.files.filters.ftype),a=Xt(D=>D.files.filters.range),[l,u]=I.useState(null),[d,f]=I.useState(i),[p,g]=I.useState([]),[v,y]=I.useState(!1);I.useEffect(()=>{f(i)},[i]);const x=D=>{u(D.currentTarget)},b=()=>{u(null)},T=()=>{QV.remove("uuid"),localStorage.removeItem("uuid"),n(j3()),b(),t("/login")},w=I.useCallback(async D=>{if(D.length<2){g([]);return}try{const k=await WV(D,{ftype:s,days:a===".all"?0:parseInt(a,10)});g(k)}catch(k){console.error("Failed to fetch suggestions:",k),g([])}},[s,a]);I.useEffect(()=>{const D=setTimeout(()=>{w(d)},300);return()=>clearTimeout(D)},[d,w]);const C=(D,k)=>{f(k),k===""&&n(zo({searchQuery:""}))},R=D=>{D?.preventDefault(),n(zo({searchQuery:d})),e.pathname.startsWith("/files")||t("/files/.all/.all")},L=D=>e.pathname===D||e.pathname.startsWith(D+"/");return S.jsxs(r$,{position:"static",sx:{backgroundColor:"#004080",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[S.jsxs(sk,{sx:{gap:2,position:"relative",minHeight:64},children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[S.jsx(Ce,{sx:{display:"flex",alignItems:"center",cursor:"pointer",mr:1},onClick:()=>t("/home"),children:S.jsx(qK,{})}),S.jsx(tn,{color:"inherit",onClick:()=>t("/home"),startIcon:S.jsx(eG,{sx:{color:"#10B981"}}),sx:{fontWeight:L("/home")?"bold":"normal",borderBottom:L("/home")?"2px solid white":"none",borderRadius:0,px:2},children:"Home"}),S.jsx(tn,{color:"inherit",onClick:()=>t("/files/.all/.all"),startIcon:S.jsx(Kb,{sx:{color:"#F59E0B"}}),sx:{fontWeight:L("/files")?"bold":"normal",borderBottom:L("/files")?"2px solid white":"none",borderRadius:0,px:2},children:"Files"}),S.jsx(tn,{color:"inherit",onClick:()=>t("/folders"),startIcon:S.jsx(wc,{sx:{color:"#FFD700"}}),sx:{fontWeight:L("/folders")?"bold":"normal",borderBottom:L("/folders")?"2px solid white":"none",borderRadius:0,px:2},children:"Folders"}),S.jsx(tn,{color:"inherit",onClick:()=>t("/backup"),startIcon:S.jsx(lk,{sx:{color:"#3B82F6"}}),sx:{fontWeight:L("/backup")?"bold":"normal",borderBottom:L("/backup")?"2px solid white":"none",borderRadius:0,px:2},children:"Backup"}),S.jsx(tn,{color:"inherit",onClick:()=>t("/shares"),startIcon:S.jsx(Xm,{sx:{color:"#EC4899"}}),sx:{fontWeight:L("/shares")?"bold":"normal",borderBottom:L("/shares")?"2px solid white":"none",borderRadius:0,px:2},children:"Shares"}),S.jsx(tn,{color:"inherit",onClick:()=>t("/clusters"),startIcon:S.jsx(ck,{sx:{color:"#8B5CF6"}}),sx:{fontWeight:L("/clusters")?"bold":"normal",borderBottom:L("/clusters")?"2px solid white":"none",borderRadius:0,px:2},children:"Multi-Cluster"})]}),S.jsx(Ce,{sx:{flex:1,display:"flex",justifyContent:"center",px:2},children:S.jsx("form",{onSubmit:R,style:{width:"100%",maxWidth:500},children:S.jsx(zm,{freeSolo:!0,options:p,inputValue:d,onInputChange:C,onChange:(D,k)=>{k&&(f(k),n(zo({searchQuery:k})),e.pathname.startsWith("/files")||t("/files/.all/.all"))},sx:{width:"100%"},componentsProps:{popper:{sx:{"& .MuiAutocomplete-listbox":{backgroundColor:"white",color:"black"},"& .MuiAutocomplete-option":{"&:hover":{backgroundColor:"rgba(0, 64, 128, 0.1)"},'&[aria-selected="true"]':{backgroundColor:"rgba(0, 64, 128, 0.2)"}}}}},renderInput:D=>S.jsx(Vi,{...D,size:"small",placeholder:"Search files...",sx:{backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"},"&.Mui-focused fieldset":{borderColor:"white"}},"& .MuiInputBase-input::placeholder":{color:"rgba(255, 255, 255, 0.7)",opacity:1},"& .MuiAutocomplete-popupIndicator":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiAutocomplete-clearIndicator":{color:"rgba(255, 255, 255, 0.7)"}},InputProps:{...D.InputProps,startAdornment:S.jsxs(S.Fragment,{children:[S.jsx(C9,{position:"start",children:S.jsx(lG,{sx:{color:"rgba(255, 255, 255, 0.7)"}})}),D.InputProps.startAdornment]})}})})})}),S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"flex-end"},children:[S.jsx(Nt,{color:"inherit",title:"Upload",onClick:()=>y(!0),sx:{backgroundColor:"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.25)"}},children:S.jsx(pG,{})}),S.jsx(Nt,{color:"inherit",onClick:x,title:r||"User Menu",children:S.jsx(Ob,{sx:{width:32,height:32,backgroundColor:"rgba(255, 255, 255, 0.3)"},children:S.jsx(UH,{})})})]}),S.jsxs(cc,{anchorEl:l,open:!!l,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[S.jsx(or,{disabled:!0,children:S.jsxs(Ce,{sx:{px:1,py:.5},children:["Signed in as ",S.jsx("strong",{children:r})]})}),S.jsxs(or,{onClick:b,children:[S.jsx(dk,{sx:{mr:1},fontSize:"small"}),"About"]}),S.jsxs(or,{onClick:b,children:[S.jsx(uG,{sx:{mr:1},fontSize:"small"}),"Settings"]}),S.jsxs(or,{onClick:T,children:[S.jsx(rG,{sx:{mr:1},fontSize:"small"}),"Log Out"]})]})]}),S.jsx(WK,{open:v,onClose:()=>y(!1)})]})}const XK=[{value:".all",label:"All Types",icon:Kb,color:"#6B7280"},{value:".photo",label:"Photos",icon:Ym,color:"#10B981"},{value:".music",label:"Music",icon:qb,color:"#8B5CF6"},{value:".video",label:"Videos",icon:Qb,color:"#EF4444"},{value:".document",label:"Documents",icon:el,color:"#3B82F6"},{value:".doc",label:"Word",icon:HH,color:"#2563EB"},{value:".xls",label:"Excel",icon:pk,color:"#059669"},{value:".ppt",label:"PowerPoint",icon:hk,color:"#DC2626"},{value:".pdf",label:"PDF",icon:fk,color:"#DC2626"}],AR=[{value:"1",label:"Today",days:1},{value:"3",label:"Past 3 Days",days:3},{value:"7",label:"This Week",days:7},{value:"14",label:"Past 2 Weeks",days:14},{value:"30",label:"Past 30 Days",days:30},{value:"365",label:"This Year",days:365},{value:".all",label:"All Time",days:0}];function QK(){const t=lm(),e=Kr(),{ftype:n=".all",range:r=".all"}=mL(),i=Xt(v=>v.sidebar.stats),s=Xt(v=>v.tags.tags),a=Xt(v=>v.files.filters.searchQuery);I.useEffect(()=>{l()},[n,r,a]);const l=async()=>{try{const v=AR.find(b=>b.value===r)?.days||0,y=await KV({ftype:n,days:v,foo:a||".all"});e(i4(y));const x=await $k();e(t4(x))}catch(v){console.error("Failed to load sidebar data:",v)}},u=v=>{t(`/files/${v}/${r}`)},d=v=>{t(`/files/${n}/${v}`)},f=v=>{e(zo({ftype:".all",range:".all",searchQuery:v})),t("/files/.all/.all")},p=v=>{if(!i?.fileTypes)return 0;const y=i.fileTypes.find(x=>x.ftype===v);return console.log(`getFileTypeCount(${v}):`,y,"from stats:",i.fileTypes),y?.count||0},g=v=>{if(!i?.timeRanges)return 0;const y=i.timeRanges.find(x=>x.range===v);return console.log(`getTimeRangeCount(${v}):`,y,"from stats:",i.timeRanges),y?.count||0};return S.jsx(Zn,{elevation:0,sx:{width:240,height:"100%",borderRight:1,borderColor:"divider",overflowY:"auto"},children:S.jsxs(Ce,{sx:{p:1.5},children:[S.jsx(Fe,{variant:"subtitle2",color:"text.secondary",sx:{mb:.5,fontSize:"0.75rem",fontWeight:600},children:"FILE TYPES"}),S.jsx(Ya,{dense:!0,children:XK.map(v=>{const y=v.icon,x=p(v.value),b=n===v.value;return S.jsxs(Hv,{selected:b,onClick:()=>u(v.value),sx:{borderRadius:1,mb:.25,py:.5,minHeight:32,"&.Mui-selected":{backgroundColor:"primary.lighter","&:hover":{backgroundColor:"primary.light"}}},children:[S.jsx(Gv,{sx:{minWidth:32},children:S.jsx(y,{fontSize:"small",sx:{color:v.color,opacity:b?1:.7,transition:"opacity 0.2s","&:hover":{opacity:1}}})}),S.jsx(cd,{primary:v.label,primaryTypographyProps:{variant:"body2",fontSize:"0.875rem",fontWeight:b?600:400}}),S.jsx(Fe,{variant:"caption",color:"text.secondary",sx:{ml:.5,fontSize:"0.75rem"},children:x})]},v.value)})}),S.jsx(Np,{sx:{my:1.5}}),S.jsx(Fe,{variant:"subtitle2",color:"text.secondary",sx:{mb:.5,fontSize:"0.75rem",fontWeight:600},children:"TIME RANGE"}),S.jsx(Ya,{dense:!0,children:AR.map(v=>{const y=g(v.value),x=r===v.value;return S.jsxs(Hv,{selected:x,onClick:()=>d(v.value),sx:{borderRadius:1,mb:.25,py:.5,minHeight:32,"&.Mui-selected":{backgroundColor:"primary.lighter","&:hover":{backgroundColor:"primary.light"}}},children:[S.jsx(Gv,{sx:{minWidth:32},children:S.jsx(VH,{fontSize:"small",sx:{color:"#F59E0B",opacity:x?1:.7,transition:"opacity 0.2s","&:hover":{opacity:1}}})}),S.jsx(cd,{primary:v.label,primaryTypographyProps:{variant:"body2",fontSize:"0.875rem",fontWeight:x?600:400}}),S.jsx(Fe,{variant:"caption",color:"text.secondary",sx:{ml:.5,fontSize:"0.75rem"},children:y})]},v.value)})}),S.jsx(Np,{sx:{my:1.5}}),S.jsx(Fe,{variant:"subtitle2",color:"text.secondary",sx:{mb:.5,fontSize:"0.75rem",fontWeight:600},children:"TAGS"}),s&&s.length>0?S.jsx(Ce,{sx:{maxHeight:400,overflowY:"auto","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},children:S.jsx(Ya,{dense:!0,children:s.map(v=>{const y=a===v.tag;return S.jsxs(Hv,{selected:y,sx:{borderRadius:1,mb:.25,py:.5,minHeight:32,"&.Mui-selected":{backgroundColor:"primary.lighter","&:hover":{backgroundColor:"primary.light"}}},onClick:()=>f(v.tag),children:[S.jsx(Gv,{sx:{minWidth:32},children:S.jsx(nG,{fontSize:"small",sx:{color:"#EC4899",opacity:y?1:.7,transition:"opacity 0.2s","&:hover":{opacity:1}}})}),S.jsx(cd,{primary:v.tag,primaryTypographyProps:{variant:"body2",fontSize:"0.875rem",fontWeight:y?600:400,noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis"}}}),S.jsx(Fe,{variant:"caption",color:"text.secondary",sx:{ml:.5,flexShrink:0,fontSize:"0.75rem"},children:v.count})]},v.tag)})})}):S.jsx(Fe,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",py:1},children:"No tags found"})]})})}const Qk=async(t="",e=0,n)=>{const r={md5:t,msg_from:e},i=await Xi.get("/cass/chat_pull.fn",{params:r});return(Array.isArray(i.data)?i.data:i.data?.messages||[]).map(a=>({msg_date:parseInt(a.msg_date||a.msgDate||a.msgdate||"0"),msg_type:a.msg_type||a.msgType||a.msgtype||"CHAT",msg_user:a.msg_user||a.msgUser||a.msguser||"Unknown",msg_body:a.msg_body||a.msgBody||a.msgbody||""}))},ZK=async(t="",e="CHAT",n,r)=>{const i=btoa(unescape(encodeURIComponent(n))),s={md5:t,msg_type:e,msg_body:i,msg_from:Date.now()};await Xi.get("/cass/chat_push.fn",{params:s})},Hp=t=>{let e;try{e=decodeURIComponent(escape(atob(t)))}catch{e=t}const n=[/'#'msg'#'\s*:\s*'#'([^']+)'#'/,/"#"msg"#"\s*:\s*"#"([^"]+)"#"/,/msg['"]\s*:\s*['"]\s*#\s*['"]\s*([^'"#]+)/];for(const r of n){const i=e.match(r);if(i)return i[1]}return e};function JK(){const[t,e]=I.useState([]),[n,r]=I.useState(""),[i,s]=I.useState(!1),a=I.useRef(null),l=I.useRef(null),u=!1,d=Xt(w=>l4(w)),f=Xt(w=>pm(w)),p=Xt(w=>NL(w)),g=()=>{a.current?.scrollIntoView({behavior:"smooth"})},v=async()=>{try{const w=t.length>0?t[t.length-1].msg_date:0,R=(await Qk(d,w)).filter(L=>d?L.msg_type==="COMMENT":L.msg_type==="CHAT");R.length>0&&(e(L=>[...L,...R]),g(),document.hasFocus())}catch(w){console.error("Failed to load messages:",w)}},y=async()=>{if(n.trim()){s(!0);try{const w=d?"COMMENT":"CHAT";let C=n;if(p>0&&!isNaN(p)){const R=Math.floor(p),L=Math.floor(R/60),D=R%60;C=`(${L<10?"0"+L:L}:${D<10?"0"+D:D}) `+n}await ZK(d,w,C),r(""),await v()}catch(w){console.error("Failed to send message:",w)}finally{s(!1)}}},x=w=>{const C=w<1e10?w*1e3:w,R=new Date(C);return isNaN(R.getTime())?"Unknown time":R.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},b=w=>{const C=w<1e10?w*1e3:w,R=new Date(C);if(isNaN(R.getTime()))return"";const L=String(R.getDate()).padStart(2,"0"),D=String(R.getMonth()+1).padStart(2,"0"),k=R.getFullYear(),P=String(R.getHours()).padStart(2,"0"),F=String(R.getMinutes()).padStart(2,"0");return`${L}/${D}/${k} ${P}:${F}`},T=()=>{if(t.length===0){alert("No comments to download.");return}let w=!1;const C=[];t.forEach(O=>{const $=Hp(O.msg_body).replace(/;/g,","),_=O.msg_user||"Unknown",K=b(O.msg_date);/\((\d{2}:\d{2})\)/g.test($)?(w=!0,$.split(/(?=\(\d{2}:\d{2}\))/).forEach(N=>{const q=N.match(/^\((\d{2}:\d{2})\)\s*/);let H="",W=N;q&&(H=q[1],W=N.replace(q[0],"")),W.trim()&&C.push({username:_,date:K,time:H,text:W.trim()})})):$.split(`
`).forEach(G=>{G.trim()&&C.push({username:_,date:K,time:"",text:G.trim()})})});let R=w?`User;Date;Time;Comment
`:`User;Date;Comment
`;C.forEach(O=>{let $=`${O.username};${O.date}`;w&&($+=`;${O.time}`),$+=`;${O.text}
`,R+=$});const L=new Blob([R],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(L),k=new Date;let P="comments";f?.name&&(P=`comments_${f.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9_-]/g,"_")}`),P+=`_${k.getFullYear()}${String(k.getMonth()+1).padStart(2,"0")}${String(k.getDate()).padStart(2,"0")}_${String(k.getHours()).padStart(2,"0")}${String(k.getMinutes()).padStart(2,"0")}.csv`;const F=document.createElement("a");F.setAttribute("href",D),F.setAttribute("download",P),document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(D)};return I.useEffect(()=>{e([])},[d]),I.useEffect(()=>(v(),l.current=window.setInterval(()=>{v()},3e4),()=>{l.current&&clearInterval(l.current)}),[d]),I.useEffect(()=>{g()},[t]),S.jsxs(Ce,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[S.jsxs(Ce,{sx:{px:2,pt:2,pb:1,display:"flex",justifyContent:"flex-end",gap:1},children:[t.length>0&&S.jsx(tn,{size:"small",startIcon:S.jsx(Os,{}),onClick:T,variant:"outlined",children:"Download"}),u]}),S.jsx(Zn,{sx:{flex:1,overflow:"auto",mx:2,mt:0,mb:2,p:2,backgroundColor:"#f9f9f9"},children:t.length===0?S.jsx(Fe,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"No messages yet. Start a conversation!"}):S.jsxs(Ya,{sx:{p:0},children:[t.map((w,C)=>S.jsxs(Gm,{sx:{flexDirection:"column",alignItems:"flex-start",p:1,borderBottom:"1px solid #eee"},children:[S.jsxs(Fe,{variant:"caption",color:"text.secondary",children:["[",x(w.msg_date),"] ",w.msg_user]}),S.jsx(Fe,{variant:"body2",sx:{mt:.5,whiteSpace:"pre-wrap"},children:Hp(w.msg_body)})]},`${w.msg_date}-${C}`)),S.jsx("div",{ref:a})]})}),S.jsxs(Ce,{sx:{px:2,pb:2,display:"flex",gap:1},children:[S.jsx(Vi,{fullWidth:!0,size:"small",placeholder:"Type a message...",value:n,onChange:w=>r(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),y())},disabled:i,multiline:!0,maxRows:3}),S.jsx(Nt,{color:"primary",onClick:y,disabled:i||!n.trim(),children:S.jsx(cG,{})})]})]})}function eW(){const[t,e]=I.useState([]),n=I.useRef(null),r=async()=>{try{const a=t.length>0?t[t.length-1].msg_date:0,u=(await Qk("",a)).filter(d=>d.msg_type==="EVENT");u.length>0&&e(d=>[...d,...u])}catch(a){console.error("Failed to load events:",a)}},i=a=>{const l=a<1e10?a*1e3:a,d=Date.now()-l,f=Math.floor(d/1e3),p=Math.floor(f/60),g=Math.floor(p/60),v=Math.floor(g/24);return v>0?`${v} day${v>1?"s":""} ago`:g>0?`${g} hour${g>1?"s":""} ago`:p>0?`${p} minute${p>1?"s":""} ago`:"Just now"},s=a=>{const l=Hp(a).toLowerCase();return l.includes("upload")?S.jsx(uk,{color:"primary"}):l.includes("tag")?S.jsx(Wb,{color:"secondary"}):l.includes("share")?S.jsx(Xm,{color:"info"}):l.includes("like")?S.jsx(ZH,{color:"error"}):l.includes("comment")?S.jsx(XH,{color:"action"}):S.jsx(QH,{color:"action"})};return I.useEffect(()=>(r(),n.current=window.setInterval(()=>{r()},3e4),()=>{n.current&&clearInterval(n.current)}),[]),S.jsx(Ce,{sx:{height:"100%",display:"flex",flexDirection:"column",p:2},children:S.jsx(Zn,{sx:{flex:1,overflow:"auto",backgroundColor:"#f9f9f9"},children:t.length===0?S.jsx(Ce,{sx:{p:2},children:S.jsx(Fe,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"No events yet"})}):S.jsx(Ya,{sx:{p:0},children:t.map((a,l)=>S.jsxs(Gm,{sx:{borderBottom:"1px solid #eee","&:last-child":{borderBottom:"none"}},children:[S.jsx(Ob,{sx:{mr:2},children:s(a.msg_body)}),S.jsx(cd,{primary:S.jsx(Fe,{variant:"body2",children:Hp(a.msg_body)}),secondary:S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",mt:.5},children:[S.jsx(Fe,{variant:"caption",color:"text.secondary",children:a.msg_user}),S.jsx(Fe,{variant:"caption",color:"text.secondary",children:i(a.msg_date)})]})})]},`${a.msg_date}-${l}`))})})})}function tW(){const t=Xt(y=>pm(y)),e=Xt(y=>NL(y)),[n,r]=I.useState([]),[i,s]=I.useState(!1),a=I.useRef(null);I.useEffect(()=>{if(!t){r([]);return}if(t.file_transcription)try{const y=d(t.file_transcription);r(y)}catch(y){console.error("Failed to parse transcription:",y)}else t.video_transcription_webapp?u(t.video_transcription_webapp):t.nickname?l(t.nickname):r([])},[t]),I.useEffect(()=>{a.current&&a.current.scrollIntoView({behavior:"smooth",block:"center"})},[e]);const l=async y=>{s(!0);try{const x=_r(`/cass/gettranslate_json.fn?sMD5=${y}`),b=await fetch(x,{credentials:"include"});if(!b.ok){r([]);return}const T=await b.json();if(T&&T.segments&&Array.isArray(T.segments)){const w=T.segments.map(C=>({start:parseFloat(C.start||0)/1e9,end:parseFloat(C.end||0)/1e9,text:C.text||""}));r(w)}else r([])}catch(x){console.error("Failed to load transcription from MD5:",x),r([])}finally{s(!1)}},u=async y=>{s(!0);try{const x=_r(y),T=await(await fetch(x,{credentials:"include"})).text(),w=d(T);r(w)}catch(x){console.error("Failed to load transcription:",x)}finally{s(!1)}},d=y=>{const x=[];if(y.includes("WEBVTT")||y.includes("-->")){const b=y.split(`
`);let T={};for(let w=0;w<b.length;w++){const C=b[w].trim();if(!(!C||C.startsWith("WEBVTT")||C.startsWith("NOTE")))if(C.includes("-->")){const[R,L]=C.split("-->").map(D=>D.trim());T.start=f(R),T.end=f(L)}else T.start!==void 0&&T.end!==void 0&&(T.text=C,x.push(T),T={})}}else{const b=y.split(`
`);for(const T of b){const w=T.match(/^(\d+(?:\.\d+)?)\s*[:|-]\s*(.+)$/);if(w){const C=parseFloat(w[1]);x.push({start:C,end:C+5,text:w[2].trim()})}}}return x},f=y=>{const x=y.split(":");if(x.length===3){const[b,T,w]=x;return parseFloat(b)*3600+parseFloat(T)*60+parseFloat(w)}else if(x.length===2){const[b,T]=x;return parseFloat(b)*60+parseFloat(T)}else return parseFloat(y)},p=y=>{const x=Math.floor(y/60),b=Math.floor(y%60);return`${x}:${b<10?"0":""}${b}`},v=n.findIndex(y=>e>=y.start&&e<y.end);return t?i?S.jsx(Ce,{sx:{p:2,display:"flex",justifyContent:"center"},children:S.jsx(Zo,{size:24})}):n.length===0?S.jsx(Ce,{sx:{p:2,textAlign:"center"},children:S.jsx(Fe,{variant:"body2",color:"text.secondary",children:"No transcription data available"})}):S.jsx(Ce,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:S.jsx(Ya,{sx:{flex:1,overflow:"auto",p:0},children:n.map((y,x)=>S.jsxs(Gm,{ref:x===v?a:null,sx:{flexDirection:"column",alignItems:"flex-start",borderLeft:x===v?"3px solid":"none",borderColor:"primary.main",bgcolor:x===v?"action.selected":"transparent",transition:"background-color 0.2s",py:1.5,px:2,"&:hover":{bgcolor:"action.hover"}},children:[S.jsx(Fe,{variant:"caption",color:"text.secondary",sx:{mb:.5},children:p(y.start)}),S.jsx(Fe,{variant:"body2",sx:{wordBreak:"break-word"},children:y.text})]},x))})}):S.jsx(Ce,{sx:{p:2,textAlign:"center"},children:S.jsx(Fe,{variant:"body2",color:"text.secondary",children:"No file selected"})})}function nW(){const t=Kr(),e=Xt(p=>pm(p)),[n,r]=I.useState(""),[i,s]=I.useState({open:!1,message:"",severity:"success"}),a=()=>e?.file_tags?e.file_tags.split(",").filter(Boolean):[],l=async p=>{p.key==="Enter"&&(p.preventDefault(),p.stopPropagation(),n.trim()&&await u(n.trim()))},u=async p=>{if(e)try{await ng([e.nickname],[p]);const v=[...a(),p].join(",");t(sw(v)),s({open:!0,message:`Tag "${p}" added`,severity:"success"}),r("")}catch(g){console.error("Failed to add tag:",g),s({open:!0,message:"Failed to add tag",severity:"error"})}},d=async p=>{if(e)try{await t1([e.nickname],[p]);const v=a().filter(y=>y!==p).join(",");t(sw(v)),s({open:!0,message:`Tag "${p}" removed`,severity:"success"})}catch(g){console.error("Failed to remove tag:",g),s({open:!0,message:"Failed to remove tag",severity:"error"})}};if(!e)return S.jsx(Ce,{sx:{p:2,textAlign:"center"},children:S.jsx(Fe,{variant:"body2",color:"text.secondary",children:"No file selected"})});const f=a();return S.jsxs(Ce,{sx:{p:2,height:"100%",display:"flex",flexDirection:"column"},children:[S.jsx(Vi,{fullWidth:!0,size:"small",placeholder:"Add Tags...",value:n,onChange:p=>r(p.target.value),onKeyDown:l,sx:{mb:2}}),S.jsxs(Fe,{variant:"subtitle2",sx:{mb:1,color:"text.secondary"},children:["Tags (",f.length,")"]}),S.jsx(Hb,{spacing:1,sx:{flex:1,overflow:"auto"},children:f.length===0?S.jsx(Fe,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mt:2},children:"No tags yet. Add some tags above."}):f.map(p=>S.jsx(Ci,{label:p,onDelete:()=>d(p),sx:{justifyContent:"space-between","& .MuiChip-label":{flexGrow:1,textAlign:"left"}}},p))}),S.jsx(Vm,{open:i.open,autoHideDuration:3e3,onClose:()=>s({...i,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:S.jsx(Hi,{severity:i.severity,onClose:()=>s({...i,open:!1}),children:i.message})})]})}function Zk({embedded:t=!1}={}){const e=Xt(C=>C.playlist.files),n=Xt(C=>C.playlist.isOpen),r=Kr(),[i,s]=I.useState(0),[a,l]=I.useState(!1),u=I.useRef(null),d=e[i],f=C=>{if(!C.file_path_webapp)return"";const R=localStorage.getItem("uuid"),L=C.file_path_webapp.includes("?")?"&":"?";let D=`${C.file_path_webapp}${L}uuid=${R}`;return D.startsWith("/cass/")?D=`http://localhost:8081${D}`:D.includes("localhost:5173")&&(D=D.replace("localhost:5173","localhost:8081")),D};I.useEffect(()=>{e.length===1&&!a&&p(e[0])},[e.length]),I.useEffect(()=>{const C=u.current;if(!C)return;const R=()=>{l(!1);const L=(i+1)%e.length;s(L),e.length>0&&p(e[L])};return C.addEventListener("ended",R),()=>C.removeEventListener("ended",R)},[i,e]);const p=C=>{const R=u.current;if(!R){console.error("No audio element ref");return}const L=localStorage.getItem("uuid");console.log("PlaylistPanel - Playing audio:",{file:C,file_path_webapp:C.file_path_webapp,uuid:L});let D=C.file_path_webapp||"";if(!D){console.error("No file_path_webapp for audio file:",C);return}const k=D.includes("?")?"&":"?";D=`${D}${k}uuid=${L}`,D.startsWith("/cass/")?D=`http://localhost:8081${D}`:D.includes("localhost:5173")&&(D=D.replace("localhost:5173","localhost:8081")),console.log("PlaylistPanel - Audio URL:",D);const P=R.querySelector("source");P&&(P.src=D,R.load(),R.play().catch(F=>{console.error("Error playing audio:",F)}),l(!0))},g=C=>{s(C),p(e[C])},v=C=>{const R=a&&i===C;if(R&&(u.current?.pause(),l(!1)),r({type:"playlist/removeFile",payload:C}),i>C)s(i-1);else if(i===C&&R&&e.length>1){const L=C>=e.length-1?0:C;s(L),p(e[L])}},y=()=>{u.current?.pause(),l(!1),s(0),r({type:"playlist/clearAll"})},x=()=>{r({type:"playlist/togglePanel"})},b=C=>C.file_artist?decodeURIComponent(C.file_artist):C.name,T=C=>C.file_album?decodeURIComponent(C.file_album):void 0,w=S.jsxs(Ce,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[!t&&S.jsxs(Ce,{sx:{p:2,backgroundColor:"#004080",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[S.jsx(Fe,{variant:"h6",children:"Playlist"}),S.jsx(Nt,{onClick:x,sx:{color:"white"},children:S.jsx(ol,{})})]}),S.jsx(Ce,{sx:{flex:1,overflow:t?"visible":"auto",p:2},children:e.length===0?S.jsx(Fe,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mt:4},children:"No songs in playlist"}):S.jsx(Ya,{children:e.map((C,R)=>S.jsxs(Gm,{sx:{mb:1,backgroundColor:R===i?"#e3f2fd":"white",borderRadius:1,border:R===i?"2px solid #004080":"1px solid #ddd",cursor:"pointer","&:hover":{backgroundColor:R===i?"#e3f2fd":"#f5f5f5"}},onClick:()=>g(R),secondaryAction:S.jsx(Nt,{edge:"end",onClick:L=>{L.stopPropagation(),v(R)},children:S.jsx(Vb,{fontSize:"small"})}),children:[S.jsx(Ce,{sx:{mr:2},children:R===i&&a?S.jsx(gx,{color:"primary"}):S.jsx(gx,{sx:{color:"transparent"}})}),S.jsx(cd,{primary:b(C),secondary:T(C),primaryTypographyProps:{sx:{fontWeight:R===i?"bold":"normal",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}})]},`${C.nickname}-${R}`))})}),e.length>0&&S.jsxs(Zn,{sx:{p:2,borderTop:"1px solid #ddd",backgroundColor:"white"},children:[S.jsxs(Ce,{sx:{mb:2},children:[S.jsx(Fe,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:"Now Playing:"}),S.jsx(Fe,{variant:"body2",color:"text.secondary",noWrap:!0,children:d?b(d):"No song selected"}),d&&T(d)&&S.jsx(Fe,{variant:"caption",color:"text.secondary",noWrap:!0,children:T(d)})]}),S.jsxs("audio",{ref:u,controls:!0,autoPlay:!0,style:{width:"100%",marginBottom:"8px"},children:[S.jsx("source",{src:""}),"Your browser does not support the audio tag."]}),S.jsxs(Ce,{sx:{display:"flex",gap:1,justifyContent:"space-between"},children:[S.jsx(tn,{size:"small",variant:"outlined",onClick:y,fullWidth:!0,children:"Clear All"}),d&&S.jsx(tn,{size:"small",variant:"outlined",component:"a",href:f(d),download:d.name,fullWidth:!0,children:"Download"})]})]})]});return t?w:S.jsx(VI,{anchor:"right",open:n,onClose:x,sx:{"& .MuiDrawer-paper":{width:400,backgroundColor:"#f5f5f5"}},children:w})}function Ku(t){const{children:e,value:n,index:r,...i}=t;return S.jsx("div",{role:"tabpanel",hidden:n!==r,id:`sidebar-tabpanel-${r}`,"aria-labelledby":`sidebar-tab-${r}`,...i,style:{height:"100%"},children:n===r&&S.jsx(Ce,{sx:{height:"100%",overflow:"hidden"},children:e})})}const eo=400;function rg({onOpenChange:t,fullscreen:e=!1,externalOpen:n}){const[r,i]=I.useState(!1),[s,a]=I.useState(0),l=n!==void 0?n:r,u=Xt(x=>pm(x)),d=u?.file_group==="movie",f=!!u,p=3+(f?1:0)+(d?1:0),g=(x,b)=>{a(b)},v=()=>{const x=!l;i(x),t?.(x)},y=eo;return S.jsxs(S.Fragment,{children:[S.jsx(Nt,{onClick:v,sx:{position:"fixed",right:l?y:0,top:"50%",transform:"translateY(-50%)",zIndex:e?1302:x=>x.zIndex.drawer+2,backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},borderRadius:l?"4px 0 0 4px":"4px",transition:"right 0.3s"},children:l?S.jsx(qm,{}):S.jsx(Wm,{})}),S.jsx(VI,{anchor:"right",open:l,onClose:v,variant:"persistent",hideBackdrop:!0,ModalProps:{keepMounted:!0},sx:{width:0,flexShrink:0,"& .MuiDrawer-paper":{width:y,boxSizing:"border-box",top:e?0:64,height:e?"100%":"calc(100% - 64px)",backgroundColor:"#ffffff",borderLeft:"1px solid rgba(0, 0, 0, 0.12)",position:"fixed",right:0}},children:S.jsxs(Ce,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[S.jsxs(wH,{value:s,onChange:g,variant:p===3?"fullWidth":"scrollable",scrollButtons:p===3?!1:"auto",sx:{borderBottom:1,borderColor:"divider",minHeight:48,"& .MuiTab-root":{minWidth:60,fontSize:"0.75rem",padding:"6px 8px"}},children:[S.jsx(Gu,{icon:S.jsx(gj,{badgeContent:0,color:"error",children:S.jsx(WH,{fontSize:"small"})}),label:"Chat"}),S.jsx(Gu,{icon:S.jsx(Xb,{fontSize:"small"}),label:"Playlist"}),S.jsx(Gu,{icon:S.jsx(oG,{fontSize:"small"}),label:"Events"}),f&&S.jsx(Gu,{icon:S.jsx(Wb,{fontSize:"small"}),label:"Tags"}),d&&S.jsx(Gu,{icon:S.jsx(hG,{fontSize:"small"}),label:"Transcript"})]}),S.jsxs(Ce,{sx:{flex:1,overflow:"hidden"},children:[S.jsx(Ku,{value:s,index:0,children:S.jsx(JK,{})}),S.jsx(Ku,{value:s,index:1,children:S.jsx(Zk,{embedded:!0})}),S.jsx(Ku,{value:s,index:2,children:S.jsx(eW,{})}),f&&S.jsx(Ku,{value:s,index:3,children:S.jsx(nW,{})}),d&&S.jsx(Ku,{value:s,index:4,children:S.jsx(tW,{})})]})]})})]})}function rW(){const e=Bd().pathname.startsWith("/files"),[n,r]=I.useState(!1);return S.jsxs(Ce,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[S.jsx(YK,{}),S.jsxs(Ce,{sx:{display:"flex",flex:1,overflow:"hidden",position:"relative",height:"calc(100vh - 64px)"},children:[e&&S.jsx(QK,{}),S.jsx(Ce,{component:"main",sx:{flex:1,overflow:"hidden",backgroundColor:"background.paper",marginRight:n?`${eo}px`:0,transition:"margin-right 0.3s",display:"flex",flexDirection:"column",height:"100%"},children:S.jsx(xL,{})}),S.jsx(rg,{onOpenChange:r})]})]})}const Bc=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB","TB","PB"],r=Math.floor(Math.log(t)/Math.log(e));return`${parseFloat((t/Math.pow(e,r)).toFixed(2))} ${n[r]}`},$c=t=>{if(!t&&t!==0&&t!=="0")return"Unknown";let e;if(typeof t=="string"){const n=/^(\d{4})\.(\d{2})\.(\d{2})\s+(.+)$/,r=t.match(n);if(r){const[,i,s,a,l]=r,u=l.split(" ")[0],d=`${i}-${s}-${a}T${u}`;e=new Date(d)}else{const i=parseInt(t,10);isNaN(i)?e=new Date(t):e=new Date(i)}}else e=new Date(t);return isNaN(e.getTime())?"Unknown":e.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})},iW=t=>{const n=Date.now()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),a=Math.floor(s/24),l=Math.floor(a/7),u=Math.floor(a/30),d=Math.floor(a/365);return r<60?r===1?"1 second ago":`${r} seconds ago`:i<60?i===1?"1 minute ago":`${i} minutes ago`:s<24?s===1?"1 hour ago":`${s} hours ago`:a<7?a===1?"1 day ago":`${a} days ago`:l<4?l===1?"1 week ago":`${l} weeks ago`:u<12?u===1?"1 month ago":`${u} months ago`:d===1?"1 year ago":`${d} years ago`},RR=t=>{if(t<0)return"0:00";const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60),i=s=>s.toString().padStart(2,"0");return e>0?`${e}:${i(n)}:${i(r)}`:`${n}:${i(r)}`};function sW(){const[t,e]=I.useState([]),[n,r]=I.useState(!0),i=async()=>{try{const d=await Xi.get("/cass/nodeinfo.fn",{params:{view:"json"}});e(d.data?.nodes||[])}catch(d){console.error("Failed to fetch nodes:",d)}finally{r(!1)}};I.useEffect(()=>{i();const d=setInterval(i,15e3);return()=>clearInterval(d)},[]);const s=d=>{switch(d){case"cloud":return S.jsx(ck,{sx:{fontSize:40,color:"#004080"}});case"server":return S.jsx(fG,{sx:{fontSize:40,color:"#004080"}});default:return S.jsx(XA,{sx:{fontSize:40,color:"#004080"}})}},a=d=>{switch(d){case"server":return"primary";case"cloud":return"info";default:return"success"}},l=(d,f)=>f?(f-d)/f*100:0,u=d=>{const f=Date.now()-3e5;return d>f};return n?S.jsx(Ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:S.jsx(Zo,{})}):S.jsxs(Ce,{sx:{p:3},children:[S.jsx(Fe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Device Dashboard"}),t.length===0?S.jsx(Za,{children:S.jsxs(Ja,{sx:{textAlign:"center",py:8},children:[S.jsx(XA,{sx:{fontSize:80,color:"#ccc",mb:2}}),S.jsx(Fe,{variant:"h6",color:"text.secondary",children:"No devices found"}),S.jsx(Fe,{variant:"body2",color:"text.secondary",children:"Make sure the backend server is running"})]})}):S.jsx(Ce,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:3},children:t.map(d=>S.jsx(Za,{children:S.jsxs(Ja,{children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[s(d.node_type),S.jsxs(Ce,{sx:{ml:2,flex:1},children:[S.jsx(Fe,{variant:"h6",children:d.node_machine}),S.jsxs(Ce,{sx:{display:"flex",gap:1,mt:.5},children:[S.jsx(Ci,{label:d.node_type.toUpperCase(),size:"small",color:a(d.node_type)}),S.jsx(Ci,{label:u(d.node_lastping_long)?"Online":"Offline",size:"small",color:u(d.node_lastping_long)?"success":"default"})]})]})]}),S.jsxs(Fe,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[d.node_ip,":",d.node_port]}),S.jsxs(Ce,{sx:{mt:2},children:[S.jsxs(Ce,{sx:{mb:2},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[S.jsx(Fe,{variant:"body2",children:"Index Progress"}),S.jsx(Fe,{variant:"body2",color:"primary",children:d.node_idx_percent||"0%"})]}),S.jsx(ld,{variant:"determinate",value:parseInt(d.node_idx_percent||"0"),sx:{height:8,borderRadius:1}})]}),S.jsxs(Ce,{sx:{mb:2},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[S.jsx(Fe,{variant:"body2",children:"Backup Progress"}),S.jsx(Fe,{variant:"body2",color:"warning.main",children:d.node_backup_percent||"0%"})]}),S.jsx(ld,{variant:"determinate",value:parseInt(d.node_backup_percent||"0"),color:"warning",sx:{height:8,borderRadius:1}})]}),d.node_disktotal>0&&S.jsxs(Ce,{sx:{mb:2},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[S.jsx(Fe,{variant:"body2",children:"Disk Usage"}),S.jsxs(Fe,{variant:"body2",color:"error",children:[l(d.node_diskfree,d.node_disktotal).toFixed(1),"%"]})]}),S.jsx(ld,{variant:"determinate",value:l(d.node_diskfree,d.node_disktotal),color:"error",sx:{height:8,borderRadius:1}})]}),S.jsxs(Fe,{variant:"caption",color:"text.secondary",children:["Last seen: ",iW(d.node_lastping_long)]})]})]})},d.node_id))})]})}const ef=()=>{const t=Kr(),e=Xt(g=>g.files.selectedFileIds),n=Xt(g=>g.files.files),r=I.useRef(null),i=I.useMemo(()=>n.filter(g=>e.includes(g.nickname)),[n,e]),s=I.useCallback(g=>{t(Cv(g)),r.current=g},[t]),a=I.useCallback((g,v)=>{v.shiftKey&&r.current?t(K3({startId:r.current,endId:g})):(v.ctrlKey||v.metaKey||t(iw()),t(Cv(g))),r.current=g},[t]),l=I.useCallback(()=>{t(W3())},[t]),u=I.useCallback(()=>{t(iw()),r.current=null},[t]),d=I.useCallback(g=>e.includes(g),[e]),f=I.useMemo(()=>n.length>0&&e.length===n.length,[n,e]),p=e.length;return{selectedFiles:i,selectedFileIds:e,toggleSelect:s,handleClick:a,selectAll:l,deselectAll:u,isSelected:d,isAllSelected:f,selectedCount:p}};function aW({file:t,onRowClick:e,onDownload:n,listSize:r="medium"}){const i=Kr(),{isSelected:s,toggleSelect:a,handleClick:l}=ef(),u=s(t.nickname),d=Xt(U=>U.tags.tags),[f,p]=I.useState({open:!1,message:"",severity:"success"}),[g,v]=I.useState(!1),[y,x]=I.useState(""),[b,T]=I.useState(!1),w=r==="xs"?40:r==="small"?60:r==="medium"?120:160,C=r==="xs"?60:r==="small"?80:r==="medium"?140:180,R=r==="xs"?"4px":r==="small"?"8px":r==="medium"?"16px":"20px",L=r==="xs"?30:r==="small"?40:r==="medium"?80:100,D=r==="xs"||r==="small"?"small":"medium",k=r==="xs"?"0.75rem":r==="small"?"0.875rem":r==="medium"?"1rem":"1.125rem",P=r==="xs"||r==="small"?2:3,F=()=>{a(t.nickname)},O=U=>{if(!U.target.closest(".actions, .MuiCheckbox-root")){if(U.shiftKey||U.ctrlKey||U.metaKey){l(t.nickname,U);return}e?e(t):l(t.nickname,U)}},$=U=>{U.stopPropagation(),n&&n(t)},_=()=>{if(t.file_thumbnail)return S.jsx(Ob,{src:`data:image/jpeg;base64,${t.file_thumbnail}`,variant:"rounded",sx:{width:w,height:w}});const U={sx:{fontSize:L}};switch(t.file_group){case"photo":return S.jsx(Ym,{...U,color:"primary"});case"music":return S.jsx(qb,{...U,color:"secondary"});case"movie":return S.jsx(Qb,{...U,color:"error"});case"document":return S.jsx(el,{...U,color:"action"});default:return S.jsx(el,{...U,color:"action"})}},K=()=>t.file_tags?t.file_tags.split(",").filter(Boolean):[],z=(U,Y)=>{U.stopPropagation(),i(zo({searchQuery:Y}))},G=async(U,Y)=>{U.stopPropagation();try{await t1([t.nickname],[Y]),p({open:!0,message:`Tag "${Y}" removed`,severity:"success"});const re=K().filter(Q=>Q!==Y).join(",");i(Rp({fileId:t.nickname,tags:re}))}catch(ne){console.error("Failed to remove tag:",ne),p({open:!0,message:"Failed to remove tag",severity:"error"})}},N=U=>{U.stopPropagation(),v(!0)},q=()=>{v(!1),x("")},H=async()=>{if(y.trim())try{console.log("Adding tag:",y.trim(),"to file:",t.nickname),await ng([t.nickname],[y.trim()]),p({open:!0,message:`Tag "${y}" added`,severity:"success"}),q();const Y=[...K(),y.trim()].join(",");i(Rp({fileId:t.nickname,tags:Y}))}catch(U){console.error("Failed to add tag:",U),console.error("Error details:",U.response?.data,U.message),p({open:!0,message:`Failed to add tag: ${U.message||"Unknown error"}`,severity:"error"})}},W=U=>{U.stopPropagation(),i($L([t])),i(jL(!0)),p({open:!0,message:"Added to playlist",severity:"success"})},j=U=>{U.stopPropagation(),T(!b)};return S.jsxs(ud,{hover:!0,selected:u,onClick:O,sx:{"&:hover .actions":{opacity:1},cursor:"pointer",height:C,"& .MuiTableCell-root":{padding:R}},children:[S.jsx(lr,{padding:"checkbox",children:S.jsx(Yd,{checked:u,onChange:F})}),S.jsx(lr,{children:S.jsx(Ce,{sx:{display:"flex",alignItems:"center",py:1},children:_()})}),S.jsx(lr,{children:S.jsx(Sr,{title:t.name,children:S.jsx(Ce,{sx:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontSize:k,"&:hover":{textDecoration:"underline"}},children:t.name})})}),S.jsx(lr,{sx:{fontSize:k},children:$c(t.file_date_long)}),S.jsx(lr,{sx:{fontSize:k},children:Bc(t.file_size)}),S.jsx(lr,{children:S.jsxs(Ce,{sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"},children:[(b?K():K().slice(0,P)).map(U=>S.jsx(Ci,{label:U,size:D,variant:"filled",onClick:Y=>z(Y,U),onDelete:Y=>G(Y,U),sx:{backgroundColor:"primary.main",color:"white",fontWeight:500,fontSize:r==="small"?"0.75rem":"0.8125rem",cursor:"pointer",border:"2px solid",borderColor:"#003366",borderRadius:"4px 12px 12px 4px","& .MuiChip-label":{px:r==="small"?1:1.5},"& .MuiChip-deleteIcon":{color:"rgba(255, 255, 255, 0.7)",opacity:0,transition:"opacity 0.2s","&:hover":{color:"white"}},"&:hover":{backgroundColor:"primary.dark"},"&:hover .MuiChip-deleteIcon":{opacity:1}}},U)),!b&&K().length>P&&S.jsx(Ci,{label:`+${K().length-P}`,size:D,variant:"filled",onClick:j,sx:{backgroundColor:"grey.300",color:"text.secondary",fontWeight:500,fontSize:r==="small"?"0.75rem":"0.8125rem",borderRadius:"4px 12px 12px 4px",cursor:"pointer","& .MuiChip-label":{px:r==="small"?1:1.5},"&:hover":{backgroundColor:"grey.400"}}}),b&&K().length>P&&S.jsx(Ci,{label:"Show less",size:D,variant:"filled",onClick:j,sx:{backgroundColor:"grey.300",color:"text.secondary",fontWeight:500,fontSize:r==="small"?"0.75rem":"0.8125rem",borderRadius:"4px 12px 12px 4px",cursor:"pointer","& .MuiChip-label":{px:r==="small"?1:1.5},"&:hover":{backgroundColor:"grey.400"}}}),S.jsx(Nt,{size:"small",onClick:N,sx:{width:24,height:24,padding:0,color:"primary.main","&:hover":{backgroundColor:"primary.lighter"}},children:S.jsx(Gb,{fontSize:"small"})})]})}),S.jsx(lr,{align:"right",children:S.jsxs(Ce,{className:"actions",sx:{opacity:0,transition:"opacity 0.2s"},children:[t.file_group==="music"&&S.jsx(Sr,{title:"Add to Playlist",children:S.jsx(Nt,{onClick:W,children:S.jsx(Xb,{})})}),S.jsx(Sr,{title:"Download",children:S.jsx(Nt,{onClick:$,children:S.jsx(Os,{})})}),S.jsx(Sr,{title:"Open",children:S.jsx(Nt,{children:S.jsx(Yb,{})})}),S.jsx(Sr,{title:"Open Folder",children:S.jsx(Nt,{children:S.jsx(wc,{})})})]})}),S.jsx(Vm,{open:f.open,autoHideDuration:3e3,onClose:()=>p({...f,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:S.jsx(Hi,{severity:f.severity,onClose:()=>p({...f,open:!1}),children:f.message})}),S.jsxs(al,{open:g,onClose:q,maxWidth:"xs",fullWidth:!0,onClick:U=>U.stopPropagation(),children:[S.jsx(Hm,{children:"Add Tag"}),S.jsx(Mc,{onClick:U=>U.stopPropagation(),children:S.jsx(zm,{freeSolo:!0,options:d.map(U=>U.tag),value:y,onChange:(U,Y)=>{x(Y||"")},onInputChange:(U,Y)=>{x(Y)},renderInput:U=>S.jsx(Vi,{...U,autoFocus:!0,margin:"dense",label:"Tag Name",fullWidth:!0,variant:"outlined",onKeyPress:Y=>{Y.key==="Enter"&&(Y.preventDefault(),H())}})})}),S.jsxs(Oc,{children:[S.jsx(tn,{onClick:q,children:"Cancel"}),S.jsx(tn,{onClick:H,variant:"contained",disabled:!y.trim(),children:"Add"})]})]})]})}function LR(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function r1(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:LR(e[r])&&LR(t[r])&&Object.keys(e[r]).length>0&&r1(t[r],e[r])})}const Jk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ha(){const t=typeof document<"u"?document:{};return r1(t,Jk),t}const oW={document:Jk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pr(){const t=typeof window<"u"?window:{};return r1(t,oW),t}function lW(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function cW(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function eD(t,e=0){return setTimeout(t,e)}function Gp(){return Date.now()}function uW(t){const e=Pr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function dW(t,e="x"){const n=Pr();let r,i,s;const a=uW(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Oh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function fW(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function bi(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!fW(i)){const s=Object.keys(Object(i)).filter(a=>n.indexOf(a)<0);for(let a=0,l=s.length;a<l;a+=1){const u=s[a],d=Object.getOwnPropertyDescriptor(i,u);d!==void 0&&d.enumerable&&(Oh(e[u])&&Oh(i[u])?i[u].__swiper__?e[u]=i[u]:bi(e[u],i[u]):!Oh(e[u])&&Oh(i[u])?(e[u]={},i[u].__swiper__?e[u]=i[u]:bi(e[u],i[u])):e[u]=i[u])}}}return e}function Mh(t,e,n){t.style.setProperty(e,n)}function tD({swiper:t,targetPosition:e,side:n}){const r=Pr(),i=-t.translate;let s=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const u=e>i?"next":"prev",d=(p,g)=>u==="next"&&p>=g||u==="prev"&&p<=g,f=()=>{a=new Date().getTime(),s===null&&(s=a);const p=Math.max(Math.min((a-s)/l,1),0),g=.5-Math.cos(p*Math.PI)/2;let v=i+g*(e-i);if(d(v,e)&&(v=e),t.wrapperEl.scrollTo({[n]:v}),d(v,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:v})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(f)};f()}function Rs(t,e=""){const n=Pr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function hW(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function pW(t,e){const n=Pr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=hW(t,e))),r}function Vp(t){try{console.warn(t);return}catch{}}function Kp(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:lW(e)),n}function mW(t){const e=Pr(),n=ha(),r=t.getBoundingClientRect(),i=n.body,s=t.clientTop||i.clientTop||0,a=t.clientLeft||i.clientLeft||0,l=t===e?e.scrollY:t.scrollTop,u=t===e?e.scrollX:t.scrollLeft;return{top:r.top+l-s,left:r.left+u-a}}function gW(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function vW(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Va(t,e){return Pr().getComputedStyle(t,null).getPropertyValue(e)}function IR(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Lx(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function kR(t,e,n){const r=Pr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ta(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Ix(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let ny;function yW(){const t=Pr(),e=ha();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function nD(){return ny||(ny=yW()),ny}let ry;function xW({userAgent:t}={}){const e=nD(),n=Pr(),r=n.navigator.platform,i=t||n.navigator.userAgent,s={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let v=r==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&v&&e.touch&&y.indexOf(`${a}x${l}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),v=!1),u&&!g&&(s.os="android",s.android=!0),(d||p||f)&&(s.os="ios",s.ios=!0),s}function rD(t={}){return ry||(ry=xW(t)),ry}let iy;function bW(){const t=Pr(),e=rD();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[u,d]=l.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));n=u<16||u===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function iD(){return iy||(iy=bW()),iy}function SW({swiper:t,on:e,emit:n}){const r=Pr();let i=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(f=>{s=r.requestAnimationFrame(()=>{const{width:p,height:g}=t;let v=p,y=g;f.forEach(({contentBoxSize:x,contentRect:b,target:T})=>{T&&T!==t.el||(v=b?b.width:(x[0]||x).inlineSize,y=b?b.height:(x[0]||x).blockSize)}),(v!==p||y!==g)&&a()})}),i.observe(t.el))},u=()=>{s&&r.cancelAnimationFrame(s),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},d=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),e("destroy",()=>{u(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function EW({swiper:t,extendParams:e,on:n,emit:r}){const i=[],s=Pr(),a=(d,f={})=>{const p=s.MutationObserver||s.WebkitMutationObserver,g=new p(v=>{if(t.__preventObserver__)return;if(v.length===1){r("observerUpdate",v[0]);return}const y=function(){r("observerUpdate",v[0])};s.requestAnimationFrame?s.requestAnimationFrame(y):s.setTimeout(y,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:t.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},l=()=>{if(t.params.observer){if(t.params.observeParents){const d=Lx(t.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",u)}var TW={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...s){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(i,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(l=>{l.apply(i,r)})}),e}};function CW(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Va(r,"padding-left")||0,10)-parseInt(Va(r,"padding-right")||0,10),n=n-parseInt(Va(r,"padding-top")||0,10)-parseInt(Va(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function wW(){const t=this;function e(O,$){return parseFloat(O.getPropertyValue(t.getDirectionLabel($))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,rtlTranslate:s,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=Rs(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:d.length;let p=[];const g=[],v=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let x=n.slidesOffsetAfter;typeof x=="function"&&(x=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,T=t.slidesGrid.length,w=t.size-y-x;let C=n.spaceBetween,R=-y,L=0,D=0;if(typeof w>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*w:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C-y-x,d.forEach(O=>{s?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Mh(r,"--swiper-centered-offset-before",""),Mh(r,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&t.grid;k?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let P;const F=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(O=>typeof n.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<f;O+=1){P=0;const $=d[O];if(!($&&(k&&t.grid.updateSlide(O,$,d),Va($,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(P=n.virtual.slidesPerViewAutoSlideSize),P&&$&&(n.roundLengths&&(P=Math.floor(P)),$.style[t.getDirectionLabel("width")]=`${P}px`);else if(n.slidesPerView==="auto"){F&&($.style[t.getDirectionLabel("width")]="");const _=getComputedStyle($),K=$.style.transform,z=$.style.webkitTransform;if(K&&($.style.transform="none"),z&&($.style.webkitTransform="none"),n.roundLengths)P=t.isHorizontal()?kR($,"width"):kR($,"height");else{const G=e(_,"width"),N=e(_,"padding-left"),q=e(_,"padding-right"),H=e(_,"margin-left"),W=e(_,"margin-right"),j=_.getPropertyValue("box-sizing");if(j&&j==="border-box")P=G+H+W;else{const{clientWidth:U,offsetWidth:Y}=$;P=G+N+q+H+W+(Y-U)}}K&&($.style.transform=K),z&&($.style.webkitTransform=z),n.roundLengths&&(P=Math.floor(P))}else P=(w-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(P=Math.floor(P)),$&&($.style[t.getDirectionLabel("width")]=`${P}px`);$&&($.swiperSlideSize=P),v.push(P),n.centeredSlides?(R=R+P/2+L/2+C,L===0&&O!==0&&(R=R-w/2-C),O===0&&(R=R-w/2-C),Math.abs(R)<1/1e3&&(R=0),n.roundLengths&&(R=Math.floor(R)),D%n.slidesPerGroup===0&&p.push(R),g.push(R)):(n.roundLengths&&(R=Math.floor(R)),(D-Math.min(t.params.slidesPerGroupSkip,D))%t.params.slidesPerGroup===0&&p.push(R),g.push(R),R=R+P+C),t.virtualSize+=P+C,L=P,D+=1}}if(t.virtualSize=Math.max(t.virtualSize,w)+x,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),k&&t.grid.updateWrapperSize(P,p),!n.centeredSlides){const O=[];for(let $=0;$<p.length;$+=1){let _=p[$];n.roundLengths&&(_=Math.floor(_)),p[$]<=t.virtualSize-w&&O.push(_)}p=O,Math.floor(t.virtualSize-w)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-w)}if(l&&n.loop){const O=v[0]+C;if(n.slidesPerGroup>1){const $=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),_=O*n.slidesPerGroup;for(let K=0;K<$;K+=1)p.push(p[p.length-1]+_)}for(let $=0;$<t.virtual.slidesBefore+t.virtual.slidesAfter;$+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+O),g.push(g[g.length-1]+O),t.virtualSize+=O}if(p.length===0&&(p=[0]),C!==0){const O=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");d.filter(($,_)=>!n.cssMode||n.loop?!0:_!==d.length-1).forEach($=>{$.style[O]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let O=0;v.forEach(_=>{O+=_+(C||0)}),O-=C;const $=O>w?O-w:0;p=p.map(_=>_<=0?-y:_>$?$+x:_)}if(n.centerInsufficientSlides){let O=0;v.forEach(_=>{O+=_+(C||0)}),O-=C;const $=(y||0)+(x||0);if(O+$<w){const _=(w-O-$)/2;p.forEach((K,z)=>{p[z]=K-_}),g.forEach((K,z)=>{g[z]=K+_})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:v}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Mh(r,"--swiper-centered-offset-before",`${-p[0]}px`),Mh(r,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);const O=-t.snapGrid[0],$=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(_=>_+O),t.slidesGrid=t.slidesGrid.map(_=>_+$)}if(f!==u&&t.emit("slidesLengthChange"),p.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==T&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const O=`${n.containerModifierClass}backface-hidden`,$=t.el.classList.contains(O);f<=n.maxBackfaceHiddenSlides?$||t.el.classList.add(O):$&&t.el.classList.remove(O)}}function AW(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function RW(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const DR=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function LW(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let u=0;u<r.length;u+=1){const d=r[u];let f=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(f-=r[0].swiperSlideOffset);const p=(a+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+l),g=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+l),v=-(a-f),y=v+e.slidesSizesGrid[u],x=v>=0&&v<=e.size-e.slidesSizesGrid[u],b=v>=0&&v<e.size-1||y>1&&y<=e.size||v<=0&&y>=e.size;b&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(u)),DR(d,b,n.slideVisibleClass),DR(d,x,n.slideFullyVisibleClass),d.progress=i?-p:p,d.originalProgress=i?-g:g}}function IW(t){const e=this;if(typeof t>"u"){const f=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*f||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:l}=e;const u=s,d=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const f=Math.abs(t-e.minTranslate())<1,p=Math.abs(t-e.maxTranslate())<1;s=f||i<=0,a=p||i>=1,f&&(i=0),p&&(i=1)}if(n.loop){const f=e.getSlideIndexByData(0),p=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[f],v=e.slidesGrid[p],y=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(t);x>=g?l=(x-g)/y:l=(x+y-v)/y,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),a&&!d&&e.emit("reachEnd toEdge"),(u&&!s||d&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const sy=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function kW(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=p=>Rs(r,`.${n.slideClass}${p}, swiper-slide${p}`)[0];let u,d,f;if(s)if(n.loop){let p=i-t.virtual.slidesBefore;p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),u=l(`[data-swiper-slide-index="${p}"]`)}else u=l(`[data-swiper-slide-index="${i}"]`);else a?(u=e.find(p=>p.column===i),f=e.find(p=>p.column===i+1),d=e.find(p=>p.column===i-1)):u=e[i];u&&(a||(f=vW(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f&&(f=e[0]),d=gW(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(p=>{sy(p,p===u,n.slideActiveClass),sy(p,p===f,n.slideNextClass),sy(p,p===d,n.slidePrevClass)}),t.emitSlidesClasses()}const op=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},ay=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},kx=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,l=[a-e];l.push(...Array.from({length:e}).map((u,d)=>a+r+d)),t.slides.forEach((u,d)=>{l.includes(u.column)&&ay(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const l=(a%n+n)%n;(l<i||l>s)&&ay(t,l)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&ay(t,a)};function DW(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function _W(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:l}=e;let u=t,d;const f=v=>{let y=v-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof u>"u"&&(u=DW(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const v=Math.min(i.slidesPerGroupSkip,u);d=v+Math.floor((u-v)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),u===s&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(u===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(u);return}const p=e.grid&&i.grid&&i.grid.rows>1;let g;if(e.virtual&&i.virtual.enabled&&i.loop)g=f(u);else if(p){const v=e.slides.find(x=>x.column===u);let y=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(v),0)),g=Math.floor(y/i.grid.rows)}else if(e.slides[u]){const v=e.slides[u].getAttribute("data-swiper-slide-index");v?g=parseInt(v,10):g=u}else g=u;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:a,realIndex:g,previousIndex:s,activeIndex:u}),e.initialized&&kx(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function PW(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,a;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,a=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var OW={updateSize:CW,updateSlides:wW,updateAutoHeight:AW,updateSlidesOffset:RW,updateSlidesProgress:LW,updateProgress:IW,updateSlidesClasses:kW,updateActiveIndex:_W,updateClickedSlide:PW};function MW(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=dW(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function FW(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let l=0,u=0;const d=0;n.isHorizontal()?l=r?-t:t:u=t,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${u}px, ${d}px)`);let f;const p=n.maxTranslate()-n.minTranslate();p===0?f=0:f=(t-n.minTranslate())/p,f!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function NW(){return-this.snapGrid[0]}function BW(){return-this.snapGrid[this.snapGrid.length-1]}function $W(t=0,e=this.params.speed,n=!0,r=!0,i){const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const u=s.minTranslate(),d=s.maxTranslate();let f;if(r&&t>u?f=u:r&&t<d?f=d:f=t,s.updateProgress(f),a.cssMode){const p=s.isHorizontal();if(e===0)l[p?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return tD({swiper:s,targetPosition:-f,side:p?"left":"top"}),!0;l.scrollTo({[p?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var jW={getTranslate:MW,setTranslate:FW,minTranslate:NW,maxTranslate:BW,translateTo:$W};function UW(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function sD({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:s}=t;let a=n;a||(i>s?a="next":i<s?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&i!==s&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function zW(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),sD({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function HW(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),sD({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var GW={setTransition:UW,transitionStart:zW,transitionEnd:HW};function VW(t=0,e,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:u,slidesGrid:d,previousIndex:f,activeIndex:p,rtlTranslate:g,wrapperEl:v,enabled:y}=s;if(!y&&!r&&!i||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const x=Math.min(s.params.slidesPerGroupSkip,a);let b=x+Math.floor((a-x)/s.params.slidesPerGroup);b>=u.length&&(b=u.length-1);const T=-u[b];if(l.normalizeSlideIndex)for(let k=0;k<d.length;k+=1){const P=-Math.floor(T*100),F=Math.floor(d[k]*100),O=Math.floor(d[k+1]*100);typeof d[k+1]<"u"?P>=F&&P<O-(O-F)/2?a=k:P>=F&&P<O&&(a=k+1):P>=F&&(a=k)}if(s.initialized&&a!==p&&(!s.allowSlideNext&&(g?T>s.translate&&T>s.minTranslate():T<s.translate&&T<s.minTranslate())||!s.allowSlidePrev&&T>s.translate&&T>s.maxTranslate()&&(p||0)!==a))return!1;a!==(f||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(T);let w;a>p?w="next":a<p?w="prev":w="reset";const C=s.virtual&&s.params.virtual.enabled;if(!(C&&i)&&(g&&-T===s.translate||!g&&T===s.translate))return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(T),w!=="reset"&&(s.transitionStart(n,w),s.transitionEnd(n,w)),!1;if(l.cssMode){const k=s.isHorizontal(),P=g?T:-T;if(e===0)C&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),C&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[k?"scrollLeft":"scrollTop"]=P})):v[k?"scrollLeft":"scrollTop"]=P,C&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return tD({swiper:s,targetPosition:P,side:k?"left":"top"}),!0;v.scrollTo({[k?"left":"top"]:P,behavior:"smooth"})}return!0}const D=iD().isSafari;return C&&!i&&D&&s.isElement&&s.virtual.update(!1,!1,a),s.setTransition(e),s.setTranslate(T),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,w),e===0?s.transitionEnd(n,w):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(P){!s||s.destroyed||P.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,w))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function KW(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let l;if(s){const x=a*i.params.grid.rows;l=i.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===x).column}else l=i.getSlideIndexByData(a);const u=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d,slidesOffsetBefore:f,slidesOffsetAfter:p}=i.params,g=d||!!f||!!p;let v=i.params.slidesPerView;v==="auto"?v=i.slidesPerViewDynamic():(v=Math.ceil(parseFloat(i.params.slidesPerView,10)),g&&v%2===0&&(v=v+1));let y=u-l<v;if(g&&(y=y||l<Math.ceil(v/2)),r&&g&&i.params.slidesPerView!=="auto"&&!s&&(y=!1),y){const x=g?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?l+1:l-u+1,slideRealIndex:x==="next"?i.realIndex:void 0})}if(s){const x=a*i.params.grid.rows;a=i.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===x).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function WW(t,e=!0,n){const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:l,d=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function qW(t,e=!0,n){const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:u,animating:d}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const f=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!f&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const p=l?r.translate:-r.translate;function g(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const v=g(p),y=s.map(w=>g(w)),x=i.freeMode&&i.freeMode.enabled;let b=s[y.indexOf(v)-1];if(typeof b>"u"&&(i.cssMode||x)){let w;s.forEach((C,R)=>{v>=C&&(w=R)}),typeof w<"u"&&(b=x?s[w]:s[w>0?w-1:w])}let T=0;if(typeof b<"u"&&(T=a.indexOf(b),T<0&&(T=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(T=T-r.slidesPerViewDynamic("previous",!0)+1,T=Math.max(T,0))),i.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(T,t,e,n)}),!0;return r.slideTo(T,t,e,n)}function YW(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function XW(t,e=!0,n,r=.5){const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[l]){const d=i.snapGrid[l],f=i.snapGrid[l+1];u-d>(f-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],f=i.snapGrid[l];u-d<=(f-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function QW(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Rs(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),eD(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var ZW={slideTo:VW,slideToLoop:KW,slideNext:WW,slidePrev:qW,slideReset:YW,slideToClosest:XW,slideToClickedSlide:QW};function JW(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Rs(i,`.${r.slideClass}, swiper-slide`).forEach((y,x)=>{y.setAttribute("data-swiper-slide-index",x)})},a=()=>{const v=Rs(i,`.${r.slideBlankClass}`);v.forEach(y=>{y.remove()}),v.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&a();const u=r.slidesPerGroup*(l?r.grid.rows:1),d=n.slides.length%u!==0,f=l&&n.slides.length%r.grid.rows!==0,p=v=>{for(let y=0;y<v;y+=1){const x=n.isElement?Kp("swiper-slide",[r.slideBlankClass]):Kp("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(x)}};if(d){if(r.loopAddBlankSlides){const v=u-n.slides.length%u;p(v),n.recalcSlides(),n.updateSlides()}else Vp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(f){if(r.loopAddBlankSlides){const v=r.grid.rows-n.slides.length%r.grid.rows;p(v),n.recalcSlides(),n.updateSlides()}else Vp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const g=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:g?void 0:"next",initial:e})}function eq({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,initial:s,byController:a,byMousewheel:l}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:g,params:v}=u,{centeredSlides:y,slidesOffsetBefore:x,slidesOffsetAfter:b,initialSlide:T}=v,w=y||!!x||!!b;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&v.virtual.enabled){e&&(!w&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):w&&u.snapIndex<v.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=p,u.emit("loopFix");return}let C=v.slidesPerView;C==="auto"?C=u.slidesPerViewDynamic():(C=Math.ceil(parseFloat(v.slidesPerView,10)),w&&C%2===0&&(C=C+1));const R=v.slidesPerGroupAuto?C:v.slidesPerGroup;let L=w?Math.max(R,Math.ceil(C/2)):R;L%R!==0&&(L+=R-L%R),L+=v.loopAdditionalSlides,u.loopedSlides=L;const D=u.grid&&v.grid&&v.grid.rows>1;d.length<C+L||u.params.effect==="cards"&&d.length<C+L*2?Vp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&v.grid.fill==="row"&&Vp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],P=[],F=D?Math.ceil(d.length/v.grid.rows):d.length,O=s&&F-T<C&&!w;let $=O?T:u.activeIndex;typeof i>"u"?i=u.getSlideIndex(d.find(H=>H.classList.contains(v.slideActiveClass))):$=i;const _=n==="next"||!n,K=n==="prev"||!n;let z=0,G=0;const q=(D?d[i].column:i)+(w&&typeof r>"u"?-C/2+.5:0);if(q<L){z=Math.max(L-q,R);for(let H=0;H<L-q;H+=1){const W=H-Math.floor(H/F)*F;if(D){const j=F-W-1;for(let U=d.length-1;U>=0;U-=1)d[U].column===j&&k.push(U)}else k.push(F-W-1)}}else if(q+C>F-L){G=Math.max(q-(F-L*2),R),O&&(G=Math.max(G,C-F+T+1));for(let H=0;H<G;H+=1){const W=H-Math.floor(H/F)*F;D?d.forEach((j,U)=>{j.column===W&&P.push(U)}):P.push(W)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<C+L*2&&(P.includes(i)&&P.splice(P.indexOf(i),1),k.includes(i)&&k.splice(k.indexOf(i),1)),K&&k.forEach(H=>{d[H].swiperLoopMoveDOM=!0,g.prepend(d[H]),d[H].swiperLoopMoveDOM=!1}),_&&P.forEach(H=>{d[H].swiperLoopMoveDOM=!0,g.append(d[H]),d[H].swiperLoopMoveDOM=!1}),u.recalcSlides(),v.slidesPerView==="auto"?u.updateSlides():D&&(k.length>0&&K||P.length>0&&_)&&u.slides.forEach((H,W)=>{u.grid.updateSlide(W,H,u.slides)}),v.watchSlidesProgress&&u.updateSlidesOffset(),e){if(k.length>0&&K){if(typeof t>"u"){const H=u.slidesGrid[$],j=u.slidesGrid[$+z]-H;l?u.setTranslate(u.translate-j):(u.slideTo($+Math.ceil(z),0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-j,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-j))}else if(r){const H=D?k.length/v.grid.rows:k.length;u.slideTo(u.activeIndex+H,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(P.length>0&&_)if(typeof t>"u"){const H=u.slidesGrid[$],j=u.slidesGrid[$-G]-H;l?u.setTranslate(u.translate-j):(u.slideTo($-G,0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-j,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-j))}else{const H=D?P.length/v.grid.rows:P.length;u.slideTo(u.activeIndex-H,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=p,u.controller&&u.controller.control&&!a){const H={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...H,slideTo:W.params.slidesPerView===v.slidesPerView?e:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...H,slideTo:u.controller.control.params.slidesPerView===v.slidesPerView?e:!1})}u.emit("loopFix")}function tq(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var nq={loopCreate:JW,loopFix:eq,loopDestroy:tq};function rq(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function iq(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var sq={setGrabCursor:rq,unsetGrabCursor:iq};function aq(t,e=this){function n(r){if(!r||r===ha()||r===Pr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function _R(t,e,n){const r=Pr(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function oq(t){const e=this,n=ha();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){_R(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=e;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=r.target;if(s.touchEventsTarget==="wrapper"&&!pW(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",f=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&f&&(u=f[0]);const p=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(g?aq(p,u):u.closest(p))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const v=a.currentX,y=a.currentY;if(!_R(e,r,v))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=y,i.touchStartTime=Gp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let x=!0;u.matches(i.focusableElements)&&(x=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const b=x&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||b)&&!u.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function lq(t){const e=ha(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let d;if(u.type==="touchmove"){if(d=[...u.changedTouches].find(L=>L.identifier===r.touchId),!d||d.identifier!==r.touchId)return}else d=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const f=d.pageX,p=d.pageY;if(u.preventedByNestedSwiper){s.startX=f,s.startY=p;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:f,startY:p,currentX:f,currentY:p}),r.touchStartTime=Gp());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(p<s.startY&&n.translate<=n.maxTranslate()||p>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(f>s.startX&&-n.translate<=n.maxTranslate()||f<s.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(f<s.startX&&n.translate<=n.maxTranslate()||f>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=f,s.currentY=p;const g=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(g**2+v**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let L;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:g*g+v*v>=25&&(L=Math.atan2(Math.abs(v),Math.abs(g))*180/Math.PI,r.isScrolling=n.isHorizontal()?L>i.touchAngle:90-L>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let y=n.isHorizontal()?g:v,x=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(y=Math.abs(y)*(a?1:-1),x=Math.abs(x)*(a?1:-1)),s.diff=y,y*=i.touchRatio,a&&(y=-y,x=-x);const b=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const T=n.params.loop&&!i.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(T&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const L=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(L)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&T&&w&&Math.abs(y)>=1){Object.assign(s,{startX:f,startY:p,currentX:f,currentY:p,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let C=!0,R=i.resistanceRatio;if(i.touchReleaseOnEdges&&(R=0),y>0?(T&&w&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**R))):y<0&&(T&&w&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**R))),C&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function cq(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(L=>L.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:u,slidesGrid:d,enabled:f}=e;if(!f||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=Gp(),g=p-n.touchStartTime;if(e.allowClick){const L=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(L&&L[0]||r.target,L),e.emit("tap click",r),g<300&&p-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Gp(),eD(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(a.followFinger?v=u?e.translate:-e.translate:v=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:v});return}const y=v>=-e.maxTranslate()&&!e.params.loop;let x=0,b=e.slidesSizesGrid[0];for(let L=0;L<d.length;L+=L<a.slidesPerGroupSkip?1:a.slidesPerGroup){const D=L<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof d[L+D]<"u"?(y||v>=d[L]&&v<d[L+D])&&(x=L,b=d[L+D]-d[L]):(y||v>=d[L])&&(x=L,b=d[d.length-1]-d[d.length-2])}let T=null,w=null;a.rewind&&(e.isBeginning?w=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(T=0));const C=(v-d[x])/b,R=x<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(g>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?T:x+R):e.slideTo(x)),e.swipeDirection==="prev"&&(C>1-a.longSwipesRatio?e.slideTo(x+R):w!==null&&C<0&&Math.abs(C)>a.longSwipesRatio?e.slideTo(w):e.slideTo(x))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(x+R):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(T!==null?T:x+R),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:x))}}function PR(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function uq(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function dq(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function fq(t){const e=this;op(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function hq(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const aD=(t,e)=>{const n=ha(),{params:r,el:i,wrapperEl:s,device:a}=t,l=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",PR,!0):t[d]("observerUpdate",PR,!0),i[u]("load",t.onLoad,{capture:!0}))};function pq(){const t=this,{params:e}=t;t.onTouchStart=oq.bind(t),t.onTouchMove=lq.bind(t),t.onTouchEnd=cq.bind(t),t.onDocumentTouchStart=hq.bind(t),e.cssMode&&(t.onScroll=dq.bind(t)),t.onClick=uq.bind(t),t.onLoad=fq.bind(t),aD(t,"on")}function mq(){aD(this,"off")}var gq={attachEvents:pq,detachEvents:mq};const OR=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function vq(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=ha(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),d=t.getBreakpoint(s,l,u);if(!d||t.currentBreakpoint===d)return;const p=(d in s?s[d]:void 0)||t.originalParams,g=OR(t,r),v=OR(t,p),y=t.params.grabCursor,x=p.grabCursor,b=r.enabled;g&&!v?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!g&&v&&(i.classList.add(`${r.containerModifierClass}grid`),(p.grid.fill&&p.grid.fill==="column"||!p.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!x?t.unsetGrabCursor():!y&&x&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(D=>{if(typeof p[D]>"u")return;const k=r[D]&&r[D].enabled,P=p[D]&&p[D].enabled;k&&!P&&t[D].disable(),!k&&P&&t[D].enable()});const T=p.direction&&p.direction!==r.direction,w=r.loop&&(p.slidesPerView!==r.slidesPerView||T),C=r.loop;T&&n&&t.changeDirection(),bi(t.params,p);const R=t.params.enabled,L=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!R?t.disable():!b&&R&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",p),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!C&&L?(t.loopCreate(e),t.updateSlides()):C&&!L&&t.loopDestroy()),t.emit("breakpoint",p)}function yq(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=Pr(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const u=parseFloat(l.substr(1));return{value:s*u,point:l}}return{value:l,point:l}});a.sort((l,u)=>parseInt(l.value,10)-parseInt(u.value,10));for(let l=0;l<a.length;l+=1){const{point:u,value:d}=a[l];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=u):d<=n.clientWidth&&(r=u)}return r||"max"}var xq={setBreakpoint:vq,getBreakpoint:yq};function bq(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Sq(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=bq(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function Eq(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Tq={addClasses:Sq,removeClasses:Eq};function Cq(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var wq={checkOverflow:Cq},Dx={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Aq(t,e){return function(r={}){const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){bi(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){bi(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),bi(e,r)}}const oy={eventsEmitter:TW,update:OW,translate:jW,transition:GW,slide:ZW,loop:nq,grabCursor:sq,events:gq,breakpoints:xq,checkOverflow:wq,classes:Tq},ly={};let i1=class ia{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=bi({},r),n&&!r.el&&(r.el=n);const i=ha();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){const u=[];return i.querySelectorAll(r.el).forEach(d=>{const f=bi({},r,{el:d});u.push(new ia(f))}),u}const s=this;s.__swiper__=!0,s.support=nD(),s.device=rD({userAgent:r.userAgent}),s.browser=iD(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const a={};s.modules.forEach(u=>{u({params:r,swiper:s,extendParams:Aq(r,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const l=bi({},Dx,a);return s.params=bi({},l,ly,r),s.originalParams=bi({},s.params),s.passedParams=bi({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(u=>{s.on(u,s.params.on[u])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Rs(n,`.${r.slideClass}, swiper-slide`),s=IR(i[0]);return IR(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Rs(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:l,size:u,activeIndex:d}=r;let f=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let p=s[d]?Math.ceil(s[d].swiperSlideSize):0,g;for(let v=d+1;v<s.length;v+=1)s[v]&&!g&&(p+=Math.ceil(s[v].swiperSlideSize),f+=1,p>u&&(g=!0));for(let v=d-1;v>=0;v-=1)s[v]&&!g&&(p+=s[v].swiperSlideSize,f+=1,p>u&&(g=!0))}else if(e==="current")for(let p=d+1;p<s.length;p+=1)(n?a[p]+l[p]-a[d]<u:a[p]-a[d]<u)&&(f+=1);else for(let p=d-1;p>=0;p-=1)a[d]-a[p]<u&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&op(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Rs(r,i())[0];return!a&&n.params.createElements&&(a=Kp("div",n.params.wrapperClass),r.append(a),Rs(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Va(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Va(r,"direction")==="rtl"),wrongRTL:Va(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?op(n,s):s.addEventListener("load",a=>{op(n,a.target)})}),kx(n),n.initialized=!0,kx(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:i,el:s,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),cW(r)),r.destroyed=!0),null}static extendDefaults(e){bi(ly,e)}static get extendedDefaults(){return ly}static get defaults(){return Dx}static installModule(e){ia.prototype.__modules__||(ia.prototype.__modules__=[]);const n=ia.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>ia.installModule(n)),ia):(ia.installModule(e),ia)}};Object.keys(oy).forEach(t=>{Object.keys(oy[t]).forEach(e=>{i1.prototype[e]=oy[t][e]})});i1.use([SW,EW]);const oD=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function nl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function uc(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:nl(e[r])&&nl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:uc(t[r],e[r]):t[r]=e[r]})}function lD(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function cD(t={}){return t.pagination&&typeof t.pagination.el>"u"}function uD(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function dD(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Rq(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Lq({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:s,scrollbarEl:a,paginationEl:l}){const u=r.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:g,virtual:v,thumbs:y}=t;let x,b,T,w,C,R,L,D;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(x=!0),r.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(T=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(w=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(C=!0);const k=P=>{t[P]&&(t[P].destroy(),P==="navigation"?(t.isElement&&(t[P].prevEl.remove(),t[P].nextEl.remove()),d[P].prevEl=void 0,d[P].nextEl=void 0,t[P].prevEl=void 0,t[P].nextEl=void 0):(t.isElement&&t[P].el.remove(),d[P].el=void 0,t[P].el=void 0))};r.includes("loop")&&t.isElement&&(d.loop&&!n.loop?R=!0:!d.loop&&n.loop?L=!0:D=!0),u.forEach(P=>{if(nl(d[P])&&nl(n[P]))Object.assign(d[P],n[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in n[P]&&!n[P].enabled&&k(P);else{const F=n[P];(F===!0||F===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?F===!1&&k(P):d[P]=n[P]}}),u.includes("controller")&&!b&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),r.includes("children")&&e&&v&&d.virtual.enabled?(v.slides=e,v.update(!0)):r.includes("virtual")&&v&&d.virtual.enabled&&(e&&(v.slides=e),v.update(!0)),r.includes("children")&&e&&d.loop&&(D=!0),x&&y.init()&&y.update(!0),b&&(t.controller.control=d.controller.control),T&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),w&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),C&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),Ix(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),Ix(s,t.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),t.el.appendChild(s))),i&&(d.navigation.nextEl=i),s&&(d.navigation.prevEl=s),p.init(),p.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(R||D)&&t.loopDestroy(),(L||D)&&t.loopCreate(),t.update()}function Iq(t={},e=!0){const n={on:{}},r={},i={};uc(n,Dx),n._emitClasses=!0,n.init=!1;const s={},a=oD.map(u=>u.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(u=>{typeof t[u]>"u"||(a.indexOf(u)>=0?nl(t[u])?(n[u]={},i[u]={},uc(n[u],t[u]),uc(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function kq({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:s},a){lD(a)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),cD(a)&&r&&(s.params.pagination.el=r,s.originalParams.pagination.el=r),uD(a)&&i&&(s.params.scrollbar.el=i,s.originalParams.scrollbar.el=i),s.init(t)}function Dq(t,e,n,r,i){const s=[];if(!e)return s;const a=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),d=n.map(i);u.join("")!==d.join("")&&a("children"),r.length!==n.length&&a("children")}return oD.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(nl(t[u])&&nl(e[u])){const d=Object.keys(t[u]),f=Object.keys(e[u]);d.length!==f.length?a(u):(d.forEach(p=>{t[u][p]!==e[u][p]&&a(u)}),f.forEach(p=>{t[u][p]!==e[u][p]&&a(u)}))}else t[u]!==e[u]&&a(u)}),s}const _q=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function fD(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function hD(t){const e=[];return un.Children.toArray(t).forEach(n=>{fD(n)?e.push(n):n.props&&n.props.children&&hD(n.props.children).forEach(r=>e.push(r))}),e}function Pq(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return un.Children.toArray(t).forEach(r=>{if(fD(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=hD(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Oq(t,e,n){if(!n)return null;const r=f=>{let p=f;return f<0?p=e.length+f:p>=e.length&&(p=p-e.length),p},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,l=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,d=[];for(let f=l;f<u;f+=1)f>=s&&f<=a&&d.push(e[r(f)]);return d.map((f,p)=>un.cloneElement(f,{swiper:t,style:i,key:f.props.virtualIndex||f.key||`slide-${p}`}))}function dd(t,e){return typeof window>"u"?I.useEffect(t,e):I.useLayoutEffect(t,e)}const MR=I.createContext(null),Mq=I.createContext(null),pD=I.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:i,...s}={},a)=>{let l=!1;const[u,d]=I.useState("swiper"),[f,p]=I.useState(null),[g,v]=I.useState(!1),y=I.useRef(!1),x=I.useRef(null),b=I.useRef(null),T=I.useRef(null),w=I.useRef(null),C=I.useRef(null),R=I.useRef(null),L=I.useRef(null),D=I.useRef(null),{params:k,passedParams:P,rest:F,events:O}=Iq(s),{slides:$,slots:_}=Pq(r),K=()=>{v(!g)};Object.assign(k.on,{_containerClasses(H,W){d(W)}});const z=()=>{Object.assign(k.on,O),l=!0;const H={...k};if(delete H.wrapperClass,b.current=new i1(H),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=$;const W={cache:!1,slides:$,renderExternal:p,renderExternalUpdate:!1};uc(b.current.params.virtual,W),uc(b.current.originalParams.virtual,W)}};x.current||z(),b.current&&b.current.on("_beforeBreakpoint",K);const G=()=>{l||!O||!b.current||Object.keys(O).forEach(H=>{b.current.on(H,O[H])})},N=()=>{!O||!b.current||Object.keys(O).forEach(H=>{b.current.off(H,O[H])})};I.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",K)}),I.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),dd(()=>{if(a&&(a.current=x.current),!!x.current)return b.current.destroyed&&z(),kq({el:x.current,nextEl:C.current,prevEl:R.current,paginationEl:L.current,scrollbarEl:D.current,swiper:b.current},k),i&&!b.current.destroyed&&i(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),dd(()=>{G();const H=Dq(P,T.current,$,w.current,W=>W.key);return T.current=P,w.current=$,H.length&&b.current&&!b.current.destroyed&&Lq({swiper:b.current,slides:$,passedParams:P,changedParams:H,nextEl:C.current,prevEl:R.current,scrollbarEl:D.current,paginationEl:L.current}),()=>{N()}}),dd(()=>{_q(b.current)},[f]);function q(){return k.virtual?Oq(b.current,$,f):$.map((H,W)=>un.cloneElement(H,{swiper:b.current,swiperSlideIndex:W}))}return un.createElement(e,Wp({ref:x,className:dD(`${u}${t?` ${t}`:""}`)},F),un.createElement(Mq.Provider,{value:b.current},_["container-start"],un.createElement(n,{className:Rq(k.wrapperClass)},_["wrapper-start"],q(),_["wrapper-end"]),lD(k)&&un.createElement(un.Fragment,null,un.createElement("div",{ref:R,className:"swiper-button-prev"}),un.createElement("div",{ref:C,className:"swiper-button-next"})),uD(k)&&un.createElement("div",{ref:D,className:"swiper-scrollbar"}),cD(k)&&un.createElement("div",{ref:L,className:"swiper-pagination"}),_["container-end"]))});pD.displayName="Swiper";const mD=I.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:i,lazy:s,virtualIndex:a,swiperSlideIndex:l,...u}={},d)=>{const f=I.useRef(null),[p,g]=I.useState("swiper-slide"),[v,y]=I.useState(!1);function x(C,R,L){R===f.current&&g(L)}dd(()=>{if(typeof l<"u"&&(f.current.swiperSlideIndex=l),d&&(d.current=f.current),!(!f.current||!r)){if(r.destroyed){p!=="swiper-slide"&&g("swiper-slide");return}return r.on("_slideClass",x),()=>{r&&r.off("_slideClass",x)}}}),dd(()=>{r&&f.current&&!r.destroyed&&g(r.getSlideClasses(f.current))},[r]);const b={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},T=()=>typeof e=="function"?e(b):e,w=()=>{y(!0)};return un.createElement(t,Wp({ref:f,className:dD(`${p}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:w},u),i&&un.createElement(MR.Provider,{value:b},un.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},T(),s&&!v&&un.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&un.createElement(MR.Provider,{value:b},T(),s&&!v&&un.createElement("div",{className:"swiper-lazy-preloader"})))});mD.displayName="SwiperSlide";function Fq({swiper:t,extendParams:e,on:n,emit:r}){const i=ha(),s=Pr();t.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(d){if(!t.enabled)return;const{rtlTranslate:f}=t;let p=d;p.originalEvent&&(p=p.originalEvent);const g=p.keyCode||p.charCode,v=t.params.keyboard.pageUpDown,y=v&&g===33,x=v&&g===34,b=g===37,T=g===39,w=g===38,C=g===40;if(!t.allowSlideNext&&(t.isHorizontal()&&T||t.isVertical()&&C||x)||!t.allowSlidePrev&&(t.isHorizontal()&&b||t.isVertical()&&w||y))return!1;if(!(p.shiftKey||p.altKey||p.ctrlKey||p.metaKey)&&!(i.activeElement&&(i.activeElement.isContentEditable||i.activeElement.nodeName&&(i.activeElement.nodeName.toLowerCase()==="input"||i.activeElement.nodeName.toLowerCase()==="textarea")))){if(t.params.keyboard.onlyInViewport&&(y||x||b||T||w||C)){let R=!1;if(Lx(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&Lx(t.el,`.${t.params.slideActiveClass}`).length===0)return;const L=t.el,D=L.clientWidth,k=L.clientHeight,P=s.innerWidth,F=s.innerHeight,O=mW(L);f&&(O.left-=L.scrollLeft);const $=[[O.left,O.top],[O.left+D,O.top],[O.left,O.top+k],[O.left+D,O.top+k]];for(let _=0;_<$.length;_+=1){const K=$[_];if(K[0]>=0&&K[0]<=P&&K[1]>=0&&K[1]<=F){if(K[0]===0&&K[1]===0)continue;R=!0}}if(!R)return}t.isHorizontal()?((y||x||b||T)&&(p.preventDefault?p.preventDefault():p.returnValue=!1),((x||T)&&!f||(y||b)&&f)&&t.slideNext(),((y||b)&&!f||(x||T)&&f)&&t.slidePrev()):((y||x||w||C)&&(p.preventDefault?p.preventDefault():p.returnValue=!1),(x||C)&&t.slideNext(),(y||w)&&t.slidePrev()),r("keyPress",g)}}function l(){t.keyboard.enabled||(i.addEventListener("keydown",a),t.keyboard.enabled=!0)}function u(){t.keyboard.enabled&&(i.removeEventListener("keydown",a),t.keyboard.enabled=!1)}n("init",()=>{t.params.keyboard.enabled&&l()}),n("destroy",()=>{t.keyboard.enabled&&u()}),Object.assign(t.keyboard,{enable:l,disable:u})}function Nq(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Rs(t.el,`.${r[i]}`)[0];s||(s=Kp("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}const Bq='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function $q({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function i(v){let y;return v&&typeof v=="string"&&t.isElement&&(y=t.el.querySelector(v)||t.hostEl.querySelector(v),y)?y:(v&&(typeof v=="string"&&(y=[...document.querySelectorAll(v)]),t.params.uniqueNavElements&&typeof v=="string"&&y&&y.length>1&&t.el.querySelectorAll(v).length===1?y=t.el.querySelector(v):y&&y.length===1&&(y=y[0])),v&&!y?v:y)}function s(v,y){const x=t.params.navigation;v=ta(v),v.forEach(b=>{b&&(b.classList[y?"add":"remove"](...x.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](x.lockClass))})}function a(){const{nextEl:v,prevEl:y}=t.navigation;if(t.params.loop){s(y,!1),s(v,!1);return}s(y,t.isBeginning&&!t.params.rewind),s(v,t.isEnd&&!t.params.rewind)}function l(v){v.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function u(v){v.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function d(){const v=t.params.navigation;if(t.params.navigation=Nq(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(v.nextEl||v.prevEl))return;let y=i(v.nextEl),x=i(v.prevEl);Object.assign(t.navigation,{nextEl:y,prevEl:x}),y=ta(y),x=ta(x);const b=(T,w)=>{if(T){if(v.addIcons&&T.matches(".swiper-button-next,.swiper-button-prev")&&!T.querySelector("svg")){const C=document.createElement("div");Ix(C,Bq),T.appendChild(C.querySelector("svg")),C.remove()}T.addEventListener("click",w==="next"?u:l)}!t.enabled&&T&&T.classList.add(...v.lockClass.split(" "))};y.forEach(T=>b(T,"next")),x.forEach(T=>b(T,"prev"))}function f(){let{nextEl:v,prevEl:y}=t.navigation;v=ta(v),y=ta(y);const x=(b,T)=>{b.removeEventListener("click",T==="next"?u:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};v.forEach(b=>x(b,"next")),y.forEach(b=>x(b,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?g():(d(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:v,prevEl:y}=t.navigation;if(v=ta(v),y=ta(y),t.enabled){a();return}[...v,...y].filter(x=>!!x).forEach(x=>x.classList.add(t.params.navigation.lockClass))}),n("click",(v,y)=>{let{nextEl:x,prevEl:b}=t.navigation;x=ta(x),b=ta(b);const T=y.target;let w=b.includes(T)||x.includes(T);if(t.isElement&&!w){const C=y.path||y.composedPath&&y.composedPath();C&&(w=C.find(R=>x.includes(R)||b.includes(R)))}if(t.params.navigation.hideOnClick&&!w){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===T||t.pagination.el.contains(T)))return;let C;x.length?C=x[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(C=b[0].classList.contains(t.params.navigation.hiddenClass)),r(C===!0?"navigationShow":"navigationHide"),[...x,...b].filter(R=>!!R).forEach(R=>R.classList.toggle(t.params.navigation.hiddenClass))}});const p=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:p,disable:g,update:a,init:d,destroy:f})}function s1({open:t,onClose:e,files:n,initialIndex:r,onLoadMore:i,hasMore:s=!1}){const a=Kr(),[l,u]=I.useState(null),[d,f]=I.useState(r),[p,g]=I.useState(!1),[v,y]=I.useState(null),[x,b]=I.useState(!1),T=n[d],w=3,C=F=>Math.abs(F-d)<=w;I.useEffect(()=>{f(r)},[r]),I.useEffect(()=>(T&&a(fm(T)),()=>{a(hm())}),[T,a]);const R=F=>{if(!F.file_path_webapp)return"";const O=localStorage.getItem("uuid");if(!O)return F.file_path_webapp;const $=F.file_path_webapp.includes("?")?"&":"?";let _=`${F.file_path_webapp}${$}uuid=${O}`;return _r(_)};I.useEffect(()=>()=>{v&&clearInterval(v)},[v]);const L=(F=6e3)=>{v&&clearInterval(v);const O=window.setInterval(()=>{l&&(l.isEnd?l.slideTo(0):l.slideNext())},F);y(O),g(!0)},D=()=>{v&&(clearInterval(v),y(null)),g(!1)},k=F=>{const O=F.activeIndex;f(O),s&&n.length-O<5&&i&&i()},P=()=>{if(!T)return;const F=localStorage.getItem("uuid"),O=T.file_path_webapp;if(O){const $=O.includes("?")?"&":"?",_=_r(`${O}${$}uuid=${F}`);window.open(_,"_blank")}};return I.useEffect(()=>{const F=O=>{t&&(O.key==="Escape"?e():O.key===" "&&(O.preventDefault(),p?D():L()))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,p,e]),!T||!t?null:S.jsxs(S.Fragment,{children:[S.jsxs(Zn,{elevation:0,sx:{position:"fixed",top:0,left:0,right:x?eo:0,bottom:0,zIndex:1300,display:"flex",flexDirection:"column",backgroundColor:"#000",transition:"right 0.3s"},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:1,backgroundColor:"rgba(0,0,0,0.9)",borderBottom:"1px solid rgba(255,255,255,0.1)",position:"relative",zIndex:1},children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2},children:[S.jsx(Fe,{variant:"h6",sx:{color:"white"},children:T.name}),S.jsxs(Fe,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:[d+1," / ",n.length]})]}),S.jsxs(Ce,{sx:{display:"flex",gap:1,position:"relative",zIndex:2},children:[S.jsx(Nt,{onClick:()=>b(!x),sx:{color:"white",backgroundColor:"rgba(0, 64, 128, 0.8)","&:hover":{backgroundColor:"rgba(0, 64, 128, 1)"}},children:x?S.jsx(qm,{}):S.jsx(Wm,{})}),p?S.jsx(Nt,{onClick:D,sx:{color:"white"},children:S.jsx(dG,{})}):S.jsx(Nt,{onClick:()=>L(),sx:{color:"white"},children:S.jsx(gx,{})}),S.jsx(Nt,{onClick:P,sx:{color:"white"},children:S.jsx(Os,{})}),S.jsx(Nt,{onClick:e,sx:{color:"white"},children:S.jsx(ol,{})})]})]}),S.jsxs(Ce,{sx:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",zIndex:0},children:[S.jsx(pD,{modules:[$q,Fq],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0},initialSlide:r,onSwiper:u,onSlideChange:k,style:{width:"100%",height:"100%"},children:n.map((F,O)=>S.jsx(mD,{children:S.jsx(Ce,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:C(O)?S.jsx("img",{src:R(F),alt:F.name,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):S.jsx(Ce,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)"},children:S.jsxs(Fe,{variant:"body2",children:["Image ",O+1]})})})},F.nickname))}),S.jsx(Nt,{className:"swiper-button-prev",sx:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",zIndex:2,color:"white",backgroundColor:"rgba(0,0,0,0.5)","&:hover":{backgroundColor:"rgba(0,0,0,0.7)"}},children:S.jsx(sG,{fontSize:"large"})}),S.jsx(Nt,{className:"swiper-button-next",sx:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",zIndex:2,color:"white",backgroundColor:"rgba(0,0,0,0.5)","&:hover":{backgroundColor:"rgba(0,0,0,0.7)"}},children:S.jsx(aG,{fontSize:"large"})})]}),S.jsxs(Ce,{sx:{padding:2,backgroundColor:"rgba(0,0,0,0.9)",borderTop:"1px solid rgba(255,255,255,0.1)",position:"relative",zIndex:1},children:[S.jsx(Hb,{direction:"row",spacing:1,sx:{mb:1},children:T.tags?.map(F=>S.jsx(Ci,{label:F,size:"small",sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}},F))}),S.jsxs(Fe,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:[Bc(T.file_size),"  ",$c(T.file_date_long)]})]})]}),S.jsx(Ce,{sx:{position:"fixed",top:0,right:0,bottom:0,width:x?eo:0,zIndex:1301},children:S.jsx(rg,{fullscreen:!0,externalOpen:x,onOpenChange:b})})]})}const Je=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},jq=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=Uq},Uq=Number.MAX_SAFE_INTEGER||9007199254740991;let vt=(function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t})({}),oe=(function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t})({}),M=(function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t})({});var Kt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},ct={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Xl{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class zq{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Xl(e),this.fast_=new Xl(n),this.defaultTTFB_=i,this.ttfb_=new Xl(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new Xl(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new Xl(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Xl(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function Hq(t,e,n){return(e=Vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cn(){return Cn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cn.apply(null,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Hq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vq(t){var e=Gq(t,"string");return typeof e=="symbol"?e:e+""}class Qi{constructor(e,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const r=`[${e}]:`;this.trace=Ua,this.debug=n.debug.bind(null,r),this.log=n.log.bind(null,r),this.warn=n.warn.bind(null,r),this.info=n.info.bind(null,r),this.error=n.error.bind(null,r)}}const Ua=function(){},Kq={trace:Ua,debug:Ua,log:Ua,warn:Ua,info:Ua,error:Ua};function _x(){return Cn({},Kq)}function Wq(t,e){const n=self.console[t];return n?n.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):Ua}function NR(t,e,n){return e[t]?e[t].bind(e):Wq(t,n)}const Px=_x();function qq(t,e,n){const r=_x();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(s=>{r[s]=NR(s,t,n)});try{r.log(`Debug logs enabled for "${e}" in hls.js version 1.6.13`)}catch{return _x()}i.forEach(s=>{Px[s]=NR(s,t)})}else Cn(Px,r);return r}const yn=Px;function to(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Yq(t){return typeof self<"u"&&t===self.ManagedMediaSource}function gD(t,e){const n=Object.keys(t),r=Object.keys(e),i=n.length,s=r.length;return!i||!s||i===s&&!n.some(a=>r.indexOf(a)===-1)}function wi(t,e=!1){if(typeof TextDecoder<"u"){const d=new TextDecoder("utf-8").decode(t);if(e){const f=d.indexOf("\0");return f!==-1?d.substring(0,f):d}return d.replace(/\0/g,"")}const n=t.length;let r,i,s,a="",l=0;for(;l<n;){if(r=t[l++],r===0&&e)return a;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(r);break;case 12:case 13:i=t[l++],a+=String.fromCharCode((r&31)<<6|i&63);break;case 14:i=t[l++],s=t[l++],a+=String.fromCharCode((r&15)<<12|(i&63)<<6|(s&63)<<0);break}}return a}function Gr(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}function vD(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function Xq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cy={exports:{}},BR;function Qq(){return BR||(BR=1,(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(u,d,f){if(f=f||{},u=u.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return u;var p=l.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");return p.path=l.normalizePath(p.path),l.buildURLFromParts(p)}var g=l.parseURL(d);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return f.alwaysNormalize?(g.path=l.normalizePath(g.path),l.buildURLFromParts(g)):d;var v=l.parseURL(u);if(!v)throw new Error("Error trying to parse base URL.");if(!v.netLoc&&v.path&&v.path[0]!=="/"){var y=i.exec(v.path);v.netLoc=y[1],v.path=y[2]}v.netLoc&&!v.path&&(v.path="/");var x={scheme:v.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(x.netLoc=v.netLoc,g.path[0]!=="/"))if(!g.path)x.path=v.path,g.params||(x.params=v.params,g.query||(x.query=v.query));else{var b=v.path,T=b.substring(0,b.lastIndexOf("/")+1)+g.path;x.path=l.normalizePath(T)}return x.path===null&&(x.path=f.alwaysNormalize?l.normalizePath(g.path):g.path),l.buildURLFromParts(x)},parseURL:function(u){var d=r.exec(u);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(s,"");u.length!==(u=u.replace(a,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=l})()})(cy)),cy.exports}var a1=Qq();class o1{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Ln={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class yD{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,Jq(this,"stats")}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=n?.byteRangeEndOffset||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Ln.AUDIO]:null,[Ln.VIDEO]:null,[Ln.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new o1),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=a1.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Ln.AUDIO]=null,e[Ln.VIDEO]=null,e[Ln.AUDIOVIDEO]=null}}function ur(t){return t.sn!=="initSegment"}class uy extends yD{constructor(e,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],n=this.byteRange[1];if(Je(e)&&Je(n))return n-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:n}=this;if(!n||n.NONE)return null;if(n.identity)this._decryptdata||(this._decryptdata=n.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const r=Object.keys(n);if(r.length===1){const i=this._decryptdata=n[r[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,n))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Je(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var n;const r=Object.keys(this.levelkeys),i=r.length;if(i>1||i===1&&(n=this.levelkeys[r[0]])!=null&&n.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Je(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return ur(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const n=this.levelkeys;if(n){var r;const i=n[e];i&&!((r=this._decryptdata)!=null&&r.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,n))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,a=!1){const{elementaryStreams:l}=this,u=l[e];if(!u){l[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:a};return}u.startPTS=Math.min(u.startPTS,n),u.endPTS=Math.max(u.endPTS,r),u.startDTS=Math.min(u.startDTS,i),u.endDTS=Math.max(u.endDTS,s)}}class Zq extends yD{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function xD(t,e){const n=Object.getPrototypeOf(t);if(n){const r=Object.getOwnPropertyDescriptor(n,e);return r||xD(n,e)}}function Jq(t,e){const n=xD(t,e);n&&(n.enumerable=!0,Object.defineProperty(t,e,n))}const $R=Math.pow(2,32)-1,eY=[].push,bD={video:1,audio:2,id3:3,text:4};function mr(t){return String.fromCharCode.apply(null,t)}function SD(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Pt(t,e){const n=ED(t,e);return n<0?4294967296+n:n}function jR(t,e){let n=Pt(t,e);return n*=Math.pow(2,32),n+=Pt(t,e+4),n}function ED(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function tY(t){const e=t.byteLength;for(let n=0;n<e;){const r=Pt(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function Ht(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=Pt(t,i),a=mr(t.subarray(i+4,i+8)),l=s>1?i+s:r;if(a===e[0])if(e.length===1)n.push(t.subarray(i+8,l));else{const u=Ht(t.subarray(i+8,l),e.slice(1));u.length&&eY.apply(n,u)}i=l}return n}function nY(t){const e=[],n=t[0];let r=8;const i=Pt(t,r);r+=4;let s=0,a=0;n===0?(s=Pt(t,r),a=Pt(t,r+4),r+=8):(s=jR(t,r),a=jR(t,r+8),r+=16),r+=2;let l=t.length+a;const u=SD(t,r);r+=2;for(let d=0;d<u;d++){let f=r;const p=Pt(t,f);f+=4;const g=p&2147483647;if((p&2147483648)>>>31===1)return yn.warn("SIDX has hierarchical references (not supported)"),null;const y=Pt(t,f);f+=4,e.push({referenceSize:g,subsegmentDuration:y,info:{duration:y/i,start:l,end:l+g-1}}),l+=g,f+=4,r=f}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:u,references:e}}function TD(t){const e=[],n=Ht(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],a=Ht(s,["tkhd"])[0];if(a){let l=a[0];const u=Pt(a,l===0?12:20),d=Ht(s,["mdia","mdhd"])[0];if(d){l=d[0];const f=Pt(d,l===0?12:20),p=Ht(s,["mdia","hdlr"])[0];if(p){const g=mr(p.subarray(8,12)),v={soun:Ln.AUDIO,vide:Ln.VIDEO}[g],y=Ht(s,["mdia","minf","stbl","stsd"])[0],x=rY(y);v?(e[u]={timescale:f,type:v,stsd:x},e[v]=gn({timescale:f,id:u},x)):e[u]={timescale:f,type:g,stsd:x}}}}}return Ht(t,["moov","mvex","trex"]).forEach(i=>{const s=Pt(i,4),a=e[s];a&&(a.default={duration:Pt(i,12),flags:Pt(i,20)})}),e}function rY(t){const e=t.subarray(8),n=e.subarray(86),r=mr(e.subarray(4,8));let i=r,s;const a=r==="enca"||r==="encv";if(a){const d=Ht(e,[r])[0].subarray(r==="enca"?28:78);Ht(d,["sinf"]).forEach(p=>{const g=Ht(p,["schm"])[0];if(g){const v=mr(g.subarray(4,8));if(v==="cbcs"||v==="cenc"){const y=Ht(p,["frma"])[0];y&&(i=mr(y))}}})}const l=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const u=Ht(n,["avcC"])[0];u&&u.length>3&&(i+="."+Nh(u[1])+Nh(u[2])+Nh(u[3]),s=Fh(l==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const u=Ht(e,[r])[0],d=Ht(u.subarray(28),["esds"])[0];if(d&&d.length>7){let f=4;if(d[f++]!==3)break;f=dy(d,f),f+=2;const p=d[f++];if(p&128&&(f+=2),p&64&&(f+=d[f++]),d[f++]!==4)break;f=dy(d,f);const g=d[f++];if(g===64)i+="."+Nh(g);else break;if(f+=12,d[f++]!==5)break;f=dy(d,f);const v=d[f++];let y=(v&248)>>3;y===31&&(y+=1+((v&7)<<3)+((d[f]&224)>>5)),i+="."+y}break}case"hvc1":case"hev1":{const u=Ht(n,["hvcC"])[0];if(u&&u.length>12){const d=u[1],f=["","A","B","C"][d>>6],p=d&31,g=Pt(u,2),v=(d&32)>>5?"H":"L",y=u[12],x=u.subarray(6,12);i+="."+f+p,i+="."+iY(g).toString(16).toUpperCase(),i+="."+v+y;let b="";for(let T=x.length;T--;){const w=x[T];(w||b)&&(b="."+w.toString(16).toUpperCase()+b)}i+=b}s=Fh(l=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=Fh(i,n)||i;break}case"vp09":{const u=Ht(n,["vpcC"])[0];if(u&&u.length>6){const d=u[4],f=u[5],p=u[6]>>4&15;i+="."+Es(d)+"."+Es(f)+"."+Es(p)}break}case"av01":{const u=Ht(n,["av1C"])[0];if(u&&u.length>2){const d=u[1]>>>5,f=u[1]&31,p=u[2]>>>7?"H":"M",g=(u[2]&64)>>6,v=(u[2]&32)>>5,y=d===2&&g?v?12:10:g?10:8,x=(u[2]&16)>>4,b=(u[2]&8)>>3,T=(u[2]&4)>>2,w=u[2]&3;i+="."+d+"."+Es(f)+p+"."+Es(y)+"."+x+"."+b+T+w+"."+Es(1)+"."+Es(1)+"."+Es(1)+"."+0,s=Fh("dav1",n)}break}}return{codec:i,encrypted:a,supplemental:s}}function Fh(t,e){const n=Ht(e,["dvvC"]),r=n.length?n[0]:Ht(e,["dvcC"])[0];if(r){const i=r[2]>>1&127,s=r[2]<<5&32|r[3]>>3&31;return t+"."+Es(i)+"."+Es(s)}}function iY(t){let e=0;for(let n=0;n<32;n++)e|=(t>>n&1)<<31-n;return e>>>0}function dy(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function Nh(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Es(t){return(t<10?"0":"")+t}function sY(t,e){if(!t||!e)return;const n=e.keyId;n&&e.isCommonEncryption&&CD(t,(r,i)=>{const s=r.subarray(8,24);s.some(a=>a!==0)||(yn.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${Gr(s)} -> ${Gr(n)}`),r.set(n,8))})}function aY(t){const e=[];return CD(t,n=>e.push(n.subarray(8,24))),e}function CD(t,e){Ht(t,["moov","trak"]).forEach(r=>{const i=Ht(r,["mdia","minf","stbl","stsd"])[0];if(!i)return;const s=i.subarray(8);let a=Ht(s,["enca"]);const l=a.length>0;l||(a=Ht(s,["encv"])),a.forEach(u=>{const d=l?u.subarray(28):u.subarray(78);Ht(d,["sinf"]).forEach(p=>{const g=wD(p);g&&e(g,l)})})})}function wD(t){const e=Ht(t,["schm"])[0];if(e){const n=mr(e.subarray(4,8));if(n==="cbcs"||n==="cenc"){const r=Ht(t,["schi","tenc"])[0];if(r)return r}}}function oY(t,e,n){const r={},i=Ht(t,["moof","traf"]);for(let s=0;s<i.length;s++){const a=i[s],l=Ht(a,["tfhd"])[0],u=Pt(l,4),d=e[u];if(!d)continue;r[u]||(r[u]={start:NaN,duration:0,sampleCount:0,timescale:d.timescale,type:d.type});const f=r[u],p=Ht(a,["tfdt"])[0];if(p){const C=p[0];let R=Pt(p,4);C===1&&(R===$R?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(R*=$R+1,R+=Pt(p,8))),Je(R)&&(!Je(f.start)||R<f.start)&&(f.start=R)}const g=d.default,v=Pt(l,0)|g?.flags;let y=g?.duration||0;v&8&&(v&2?y=Pt(l,12):y=Pt(l,8));const x=Ht(a,["trun"]);let b=f.start||0,T=0,w=y;for(let C=0;C<x.length;C++){const R=x[C],L=Pt(R,4),D=f.sampleCount;f.sampleCount+=L;const k=R[3]&1,P=R[3]&4,F=R[2]&1,O=R[2]&2,$=R[2]&4,_=R[2]&8;let K=8,z=L;for(k&&(K+=4),P&&L&&(!(R[K+1]&1)&&f.keyFrameIndex===void 0&&(f.keyFrameIndex=D),K+=4,F?(w=Pt(R,K),K+=4):w=y,O&&(K+=4),_&&(K+=4),b+=w,T+=w,z--);z--;)F?(w=Pt(R,K),K+=4):w=y,O&&(K+=4),$&&(R[K+1]&1||f.keyFrameIndex===void 0&&(f.keyFrameIndex=f.sampleCount-(z+1),f.keyFrameStart=b),K+=4),_&&(K+=4),b+=w,T+=w;!T&&y&&(T+=y*L)}f.duration+=T}if(!Object.keys(r).some(s=>r[s].duration)){let s=1/0,a=0;const l=Ht(t,["sidx"]);for(let u=0;u<l.length;u++){const d=nY(l[u]);if(d!=null&&d.references){s=Math.min(s,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((p,g)=>p+g.info.duration||0,0);a=Math.max(a,f+d.earliestPresentationTime/d.timescale)}}a&&Je(a)&&Object.keys(r).forEach(u=>{r[u].duration||(r[u].duration=a*r[u].timescale-r[u].start)})}return r}function lY(t){const e={valid:null,remainder:null},n=Ht(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=t.slice(0,r.byteOffset-8),e.remainder=t.slice(r.byteOffset-8),e}function qi(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function UR(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let a=!1;return Ht(r,["moof"]).map(u=>{const d=u.byteOffset-8;Ht(u,["traf"]).map(p=>{const g=Ht(p,["tfdt"]).map(v=>{const y=v[0];let x=Pt(v,4);return y===1&&(x*=Math.pow(2,32),x+=Pt(v,8)),x/i})[0];return g!==void 0&&(t=g),Ht(p,["tfhd"]).map(v=>{const y=Pt(v,4),x=Pt(v,0)&16777215,b=(x&1)!==0,T=(x&2)!==0,w=(x&8)!==0;let C=0;const R=(x&16)!==0;let L=0;const D=(x&32)!==0;let k=8;y===s&&(b&&(k+=8),T&&(k+=4),w&&(C=Pt(v,k),k+=4),R&&(L=Pt(v,k),k+=4),D&&(k+=4),e.type==="video"&&(a=ig(e.codec)),Ht(p,["trun"]).map(P=>{const F=P[0],O=Pt(P,0)&16777215,$=(O&1)!==0;let _=0;const K=(O&4)!==0,z=(O&256)!==0;let G=0;const N=(O&512)!==0;let q=0;const H=(O&1024)!==0,W=(O&2048)!==0;let j=0;const U=Pt(P,4);let Y=8;$&&(_=Pt(P,Y),Y+=4),K&&(Y+=4);let ne=_+d;for(let re=0;re<U;re++){if(z?(G=Pt(P,Y),Y+=4):G=C,N?(q=Pt(P,Y),Y+=4):q=L,H&&(Y+=4),W&&(F===0?j=Pt(P,Y):j=ED(P,Y),Y+=4),e.type===Ln.VIDEO){let Q=0;for(;Q<q;){const ee=Pt(r,ne);if(ne+=4,cY(a,r[ne])){const Oe=r.subarray(ne,ne+ee);l1(Oe,a?2:1,t+j/i,n)}ne+=ee,Q+=ee+4}}t+=G/i}}))})})}),n}function ig(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function cY(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function l1(t,e,n,r){const i=AD(t);let s=0;s+=e;let a=0,l=0,u=0;for(;s<i.length;){a=0;do{if(s>=i.length)break;u=i[s++],a+=u}while(u===255);l=0;do{if(s>=i.length)break;u=i[s++],l+=u}while(u===255);const d=i.length-s;let f=s;if(l<d)s+=l;else if(l>d){yn.error(`Malformed SEI payload. ${l} is too small, only ${d} bytes left to parse.`);break}if(a===4){if(i[f++]===181){const g=SD(i,f);if(f+=2,g===49){const v=Pt(i,f);if(f+=4,v===1195456820){const y=i[f++];if(y===3){const x=i[f++],b=31&x,T=64&x,w=T?2+b*3:0,C=new Uint8Array(w);if(T){C[0]=x;for(let R=1;R<w;R++)C[R]=i[f++]}r.push({type:y,payloadType:a,pts:n,bytes:C})}}}}}else if(a===5&&l>16){const p=[];for(let y=0;y<16;y++){const x=i[f++].toString(16);p.push(x.length==1?"0"+x:x),(y===3||y===5||y===7||y===9)&&p.push("-")}const g=l-16,v=new Uint8Array(g);for(let y=0;y<g;y++)v[y]=i[f++];r.push({payloadType:a,pts:n,uuid:p.join(""),userData:wi(v),userDataBytes:v})}}}function AD(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),s[r]=t[a];return s}function uY(t){const e=t[0];let n="",r="",i=0,s=0,a=0,l=0,u=0,d=0;if(e===0){for(;mr(t.subarray(d,d+1))!=="\0";)n+=mr(t.subarray(d,d+1)),d+=1;for(n+=mr(t.subarray(d,d+1)),d+=1;mr(t.subarray(d,d+1))!=="\0";)r+=mr(t.subarray(d,d+1)),d+=1;r+=mr(t.subarray(d,d+1)),d+=1,i=Pt(t,12),s=Pt(t,16),l=Pt(t,20),u=Pt(t,24),d=28}else if(e===1){d+=4,i=Pt(t,d),d+=4;const p=Pt(t,d);d+=4;const g=Pt(t,d);for(d+=4,a=2**32*p+g,jq(a)||(a=Number.MAX_SAFE_INTEGER,yn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=Pt(t,d),d+=4,u=Pt(t,d),d+=4;mr(t.subarray(d,d+1))!=="\0";)n+=mr(t.subarray(d,d+1)),d+=1;for(n+=mr(t.subarray(d,d+1)),d+=1;mr(t.subarray(d,d+1))!=="\0";)r+=mr(t.subarray(d,d+1)),d+=1;r+=mr(t.subarray(d,d+1)),d+=1}const f=t.subarray(d,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:s,eventDuration:l,id:u,payload:f}}function dY(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function fY(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),dY([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,a,n)}function hY(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),s=pY(i);e.push(s),r+=s.size}}return e}function pY(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const a=t.buffer,l=Gr(new Uint8Array(a,n+12,16));let u=null,d=null,f=0;if(s===0)f=28;else{const g=t.getUint32(28);if(!g||r<32+g*16)return{offset:n,size:e};u=[];for(let v=0;v<g;v++)u.push(new Uint8Array(a,n+32+v*16,16));f=32+g*16}if(!f)return{offset:n,size:e};const p=t.getUint32(f);return e-32<p?{offset:n,size:e}:(d=new Uint8Array(a,n+f+4,p),{version:s,systemId:l,kids:u,data:d,offset:n,size:e})}const RD=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Lc={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function c1(t,e){const n=Lc[e];return!!n&&!!n[t.slice(0,4)]}function Rd(t,e,n=!0){return!t.split(",").some(r=>!u1(r,e,n))}function u1(t,e,n=!0){var r;const i=to(n);return(r=i?.isTypeSupported(Ld(t,e)))!=null?r:!1}function Ld(t,e){return`${e}/mp4;codecs=${t}`}function zR(t){if(t){const e=t.substring(0,4);return Lc.video[e]}return 2}function qp(t){const e=RD();return t.split(",").reduce((n,r)=>{const s=e&&ig(r)?9:Lc.video[r];return s?(s*2+n)/(n?3:2):(Lc.audio[r]+n)/(n?2:1)},0)}const fy={};function mY(t,e=!0){if(fy[t])return fy[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<n.length;i++){var r;if(u1(n[i],"audio",e))return fy[t]=n[i],n[i];if(n[i]==="mp3"&&(r=to(e))!=null&&r.isTypeSupported("audio/mpeg"))return""}return t}const gY=/flac|opus|mp4a\.40\.34/i;function Yp(t,e=!0){return t.replace(gY,n=>mY(n.toLowerCase(),e))}function vY(t,e){const n=[];if(t){const r=t.split(",");for(let i=0;i<r.length;i++)c1(r[i],"video")||n.push(r[i])}return e&&n.push(e),n.join(",")}function lp(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(HR(t,"audio")||HR(t,"video")))return t;if(e){const n=e.split(",");if(n.length>1){if(t){for(let r=n.length;r--;)if(n[r].substring(0,4)===t.substring(0,4))return n[r]}return n[0]}}return e||t}function HR(t,e){return c1(t,e)&&u1(t,e)}function yY(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");r.length>2&&r[0]==="avc1"&&(e[n]=`avc1.${parseInt(r[1]).toString(16)}${("000"+parseInt(r[2]).toString(16)).slice(-4)}`)}return e.join(",")}function xY(t){if(t.startsWith("av01.")){const e=t.split("."),n=["0","111","01","01","01","0"];for(let r=e.length;r>4&&r<10;r++)e[r]=n[r-4];return e.join(".")}return t}function GR(t){const e=to(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function Ox(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const bY={supported:!0,powerEfficient:!0,smooth:!0},SY={supported:!1,smooth:!1,powerEfficient:!1},LD={supported:!0,configurations:[],decodingInfoResults:[bY]};function ID(t,e){return{supported:!1,configurations:e,decodingInfoResults:[SY],error:t}}function EY(t,e,n,r,i,s){const a=t.videoCodec,l=t.audioCodec?t.audioGroups:null,u=s?.audioCodec,d=s?.channels,f=d?parseInt(d):u?1/0:2;let p=null;if(l!=null&&l.length)try{l.length===1&&l[0]?p=e.groups[l[0]].channels:p=l.reduce((g,v)=>{if(v){const y=e.groups[v];if(!y)throw new Error(`Audio track group ${v} not found`);Object.keys(y.channels).forEach(x=>{g[x]=(g[x]||0)+y.channels[x]})}return g},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(g=>ig(g))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!p&&Je(f)&&Object.keys(p).some(g=>parseInt(g)>f)}function kD(t,e,n,r={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!n)return Promise.resolve(LD);const s=[],a=TY(t),l=a.length,u=CY(t,e,l>0),d=u.length;for(let f=l||1*d||1;f--;){const p={type:"media-source"};if(l&&(p.video=a[f%l]),d){p.audio=u[f%d];const g=p.audio.bitrate;p.video&&g&&(p.video.bitrate-=g)}s.push(p)}if(i){const f=navigator.userAgent;if(i.split(",").some(p=>ig(p))&&RD())return Promise.resolve(ID(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${f})`),s))}return Promise.all(s.map(f=>{const p=AY(f);return r[p]||(r[p]=n.decodingInfo(f))})).then(f=>({supported:!f.some(p=>!p.supported),configurations:s,decodingInfoResults:f})).catch(f=>({supported:!1,configurations:s,decodingInfoResults:[],error:f}))}function TY(t){var e;const n=(e=t.videoCodec)==null?void 0:e.split(","),r=DD(t),i=t.width||640,s=t.height||480,a=t.frameRate||30,l=t.videoRange.toLowerCase();return n?n.map(u=>{const d={contentType:Ld(xY(u),"video"),width:i,height:s,bitrate:r,framerate:a};return l!=="sdr"&&(d.transferFunction=l),d}):[]}function CY(t,e,n){var r;const i=(r=t.audioCodec)==null?void 0:r.split(","),s=DD(t);return i&&t.audioGroups?t.audioGroups.reduce((a,l)=>{var u;const d=l?(u=e.groups[l])==null?void 0:u.tracks:null;return d?d.reduce((f,p)=>{if(p.groupId===l){const g=parseFloat(p.channels||"");i.forEach(v=>{const y={contentType:Ld(v,"audio"),bitrate:n?wY(v,s):s};g&&(y.channels=""+g),f.push(y)})}return f},a):a},[]):[]}function wY(t,e){if(e<=1)return 1;let n=128e3;return t==="ec-3"?n=768e3:t==="ac-3"&&(n=64e4),Math.min(e/2,n)}function DD(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function AY(t){let e="";const{audio:n,video:r}=t;if(r){const i=Ox(r.contentType);e+=`${i}_r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction||"sd"}_${Math.ceil(r.bitrate/1e5)}`}if(n){const i=Ox(n.contentType);e+=`${r?"_":""}${i}_c${n.channels}`}return e}const Mx=["NONE","TYPE-0","TYPE-1",null];function RY(t){return Mx.indexOf(t)>-1}const Xp=["SDR","PQ","HLG"];function LY(t){return!!t&&Xp.indexOf(t)>-1}var cp={No:"",Yes:"YES",v2:"v2"};function VR(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?cp.v2:cp.Yes:cp.No}class KR{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class Id{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),"supplemental"in e){var n;this.supplemental=e.supplemental;const r=(n=e.supplemental)==null?void 0:n.videoCodec;r&&r!==e.videoCodec&&(this.codecSet+=`,${r.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return WR(this._audioGroups,e)}hasSubtitleGroup(e){return WR(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function WR(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function IY(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function kY(t,e){let n=!1,r=[];if(t&&(n=t!=="SDR",r=[t]),e){r=e.allowedVideoRanges||Xp.slice(0);const i=r.join("")!=="SDR"&&!e.videoCodec;n=e.preferHDR!==void 0?e.preferHDR:i&&IY(),n||(r=["SDR"])}return{preferHDR:n,allowedVideoRanges:r}}const DY=t=>{const e=new WeakSet;return(n,r)=>{if(t&&(r=t(n,r)),typeof r=="object"&&r!==null){if(e.has(r))return;e.add(r)}return r}},In=(t,e)=>JSON.stringify(t,DY(e));function _Y(t,e,n,r,i){const s=Object.keys(t),a=r?.channels,l=r?.audioCodec,u=i?.videoCodec,d=a&&parseInt(a)===2;let f=!1,p=!1,g=1/0,v=1/0,y=1/0,x=1/0,b=0,T=[];const{preferHDR:w,allowedVideoRanges:C}=kY(e,i);for(let P=s.length;P--;){const F=t[s[P]];f||(f=F.channels[2]>0),g=Math.min(g,F.minHeight),v=Math.min(v,F.minFramerate),y=Math.min(y,F.minBitrate),C.filter($=>F.videoRanges[$]>0).length>0&&(p=!0)}g=Je(g)?g:0,v=Je(v)?v:0;const R=Math.max(1080,g),L=Math.max(30,v);y=Je(y)?y:n,n=Math.max(y,n),p||(e=void 0);const D=s.length>1;return{codecSet:s.reduce((P,F)=>{const O=t[F];if(F===P)return P;if(T=p?C.filter($=>O.videoRanges[$]>0):[],D){if(O.minBitrate>n)return bs(F,`min bitrate of ${O.minBitrate} > current estimate of ${n}`),P;if(!O.hasDefaultAudio)return bs(F,"no renditions with default or auto-select sound found"),P;if(l&&F.indexOf(l.substring(0,4))%5!==0)return bs(F,`audio codec preference "${l}" not found`),P;if(a&&!d){if(!O.channels[a])return bs(F,`no renditions with ${a} channel sound found (channels options: ${Object.keys(O.channels)})`),P}else if((!l||d)&&f&&O.channels[2]===0)return bs(F,"no renditions with stereo sound found"),P;if(O.minHeight>R)return bs(F,`min resolution of ${O.minHeight} > maximum of ${R}`),P;if(O.minFramerate>L)return bs(F,`min framerate of ${O.minFramerate} > maximum of ${L}`),P;if(!T.some($=>O.videoRanges[$]>0))return bs(F,`no variants with VIDEO-RANGE of ${In(T)} found`),P;if(u&&F.indexOf(u.substring(0,4))%5!==0)return bs(F,`video codec preference "${u}" not found`),P;if(O.maxScore<b)return bs(F,`max score of ${O.maxScore} < selected max of ${b}`),P}return P&&(qp(F)>=qp(P)||O.fragmentError>t[P].fragmentError)?P:(x=O.minIndex,b=O.maxScore,F)},void 0),videoRanges:T,preferHDR:w,minFramerate:v,minBitrate:y,minIndex:x}}function bs(t,e){yn.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function _D(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function PY(t,e,n,r){return t.slice(n,r+1).reduce((i,s,a)=>{if(!s.codecSet)return i;const l=s.audioGroups;let u=i[s.codecSet];u||(i[s.codecSet]=u={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!l,fragmentError:0}),u.minBitrate=Math.min(u.minBitrate,s.bitrate);const d=Math.min(s.height,s.width);return u.minHeight=Math.min(u.minHeight,d),u.minFramerate=Math.min(u.minFramerate,s.frameRate),u.minIndex=Math.min(u.minIndex,a),u.maxScore=Math.max(u.maxScore,s.score),u.fragmentError+=s.fragmentError,u.videoRanges[s.videoRange]=(u.videoRanges[s.videoRange]||0)+1,l&&l.forEach(f=>{if(!f)return;const p=e.groups[f];p&&(u.hasDefaultAudio=u.hasDefaultAudio||e.hasDefaultAudio?p.hasDefault:p.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(p.channels).forEach(g=>{u.channels[g]=(u.channels[g]||0)+p.channels[g]}))}),i},{})}function qR(t){if(!t)return t;const{lang:e,assocLang:n,characteristics:r,channels:i,audioCodec:s}=t;return{lang:e,assocLang:n,characteristics:r,channels:i,audioCodec:s}}function Ls(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Ko(t,i,n))return r}return-1}function Ko(t,e,n){const{groupId:r,name:i,lang:s,assocLang:a,default:l}=t,u=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||OY(s,e.lang))&&(s===void 0||e.assocLang===a)&&(l===void 0||e.default===l)&&(u===void 0||e.forced===u)&&(!("characteristics"in t)||MY(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function OY(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function MY(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function _o(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function FY(t,e,n,r,i){const s=e[r],l=e.reduce((g,v,y)=>{const x=v.uri;return(g[x]||(g[x]=[])).push(y),g},{})[s.uri];l.length>1&&(r=Math.max.apply(Math,l));const u=s.videoRange,d=s.frameRate,f=s.codecSet.substring(0,4),p=YR(e,r,g=>{if(g.videoRange!==u||g.frameRate!==d||g.codecSet.substring(0,4)!==f)return!1;const v=g.audioGroups,y=n.filter(x=>!v||v.indexOf(x.groupId)!==-1);return Ls(t,y,i)>-1});return p>-1?p:YR(e,r,g=>{const v=g.audioGroups,y=n.filter(x=>!v||v.indexOf(x.groupId)!==-1);return Ls(t,y,i)>-1})}function YR(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}function Qp(t,e){var n;return!!t&&t!==((n=e.loadLevelObj)==null?void 0:n.uri)}class NY extends Qi{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var r;const{fragCurrent:i,partCurrent:s,hls:a}=this,{autoLevelEnabled:l,media:u}=a;if(!i||!u)return;const d=performance.now(),f=s?s.stats:i.stats,p=s?s.duration:i.duration,g=d-f.loading.start,v=a.minAutoLevel,y=i.level,x=this._nextAutoLevel;if(f.aborted||f.loaded&&f.loaded===f.total||y<=v){this.clearTimer(),this._nextAutoLevel=-1;return}if(!l)return;const b=x>-1&&x!==y,T=!!n||b;if(!T&&(u.paused||!u.playbackRate||!u.readyState))return;const w=a.mainForwardBufferInfo;if(!T&&w===null)return;const C=this.bwEstimator.getEstimateTTFB(),R=Math.abs(u.playbackRate);if(g<=Math.max(C,1e3*(p/(R*2))))return;const L=w?w.len/R:0,D=f.loading.first?f.loading.first-f.loading.start:-1,k=f.loaded&&D>-1,P=this.getBwEstimate(),F=a.levels,O=F[y],$=Math.max(f.loaded,Math.round(p*(i.bitrate||O.averageBitrate)/8));let _=k?g-D:g;_<1&&k&&(_=Math.min(g,f.loaded*8/P));const K=k?f.loaded*1e3/_:0,z=C/1e3,G=K?($-f.loaded)/K:$*8/P+z;if(G<=L)return;const N=K?K*8:P,q=((r=n?.details||this.hls.latestLevelDetails)==null?void 0:r.live)===!0,H=this.hls.config.abrBandWidthUpFactor;let W=Number.POSITIVE_INFINITY,j;for(j=y-1;j>v;j--){const re=F[j].maxBitrate,Q=!F[j].details||q;if(W=this.getTimeToLoadFrag(z,N,p*re,Q),W<Math.min(L,p+z))break}if(W>=G||W>p*10)return;k?this.bwEstimator.sample(g-Math.min(C,D),f.loaded):this.bwEstimator.sampleTTFB(g);const U=F[j].maxBitrate;this.getBwEstimate()*H>U&&this.resetEstimator(U);const Y=this.findBestLevel(U,v,j,0,L,1,1);Y>-1&&(j=Y),this.warn(`Fragment ${i.sn}${s?" part "+s.index:""} of level ${y} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${L.toFixed(3)} s
      Estimated load time for current fragment: ${G.toFixed(3)} s
      Estimated load time for down switch fragment: ${W.toFixed(3)} s
      TTFB estimate: ${D|0} ms
      Current BW estimate: ${Je(P)?P|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${j} @ ${U|0} bps`),a.nextLoadLevel=a.nextAutoLevel=j,this.clearTimer();const ne=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===j&&j>0){const re=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${j>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${re.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,j>v){let Q=this.findBestLevel(this.hls.levels[v].bitrate,v,j,0,re,1,1);Q===-1&&(Q=v),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Q,this.resetEstimator(this.hls.levels[Q].bitrate)}}};b||G>W*2?ne():this.timer=self.setInterval(ne,W*1e3),a.trigger(M.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:s,stats:f})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new zq(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.FRAG_LOADING,this.onFragLoading,this),e.on(M.FRAG_LOADED,this.onFragLoaded,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this),e.on(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.FRAG_LOADING,this.onFragLoading,this),e.off(M.FRAG_LOADED,this.onFragLoaded,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this),e.off(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(M.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case oe.BUFFER_ADD_CODEC_ERROR:case oe.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case oe.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const a=performance.now(),l=s?s.stats:r.stats,u=a-l.loading.start,d=l.loading.first?l.loading.first-l.loading.start:-1;if(l.loaded&&d>-1){const p=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(u-Math.min(p,d),l.loaded)}else this.bwEstimator.sampleTTFB(u)}break}}}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,a=i?e+this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,s=i.end-i.first;Je(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===ct.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,a=this.hls.levels[n.level],l=(a.loaded?a.loaded.bytes:0)+i.loaded,u=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:l,duration:u},a.realBitrate=Math.round(8*l/u)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(M.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==ct.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,n,e,0,i,1,1);if(s>-1)return s;const a=this.hls.firstLevel,l=Math.min(Math.max(a,n),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${l}`),l}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,s)&&a[e].loadError<=a[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this;if(r.levels.length<=1)return r.loadLevel;const{maxAutoLevel:i,config:s,minAutoLevel:a}=r,l=n?n.duration:e?e.duration:0,u=this.getBwEstimate(),d=this.getStarvationDelay();let f=s.abrBandWidthFactor,p=s.abrBandWidthUpFactor;if(d){const b=this.findBestLevel(u,a,i,d,0,f,p);if(b>=0)return this.rebufferNotice=-1,b}let g=l?Math.min(l,s.maxStarvationDelay):s.maxStarvationDelay;if(!d){const b=this.bitrateTestDelay;b&&(g=(l?Math.min(l,s.maxLoadingDelay):s.maxLoadingDelay)-b,this.info(`bitrate test took ${Math.round(1e3*b)}ms, set first fragment max fetchDuration to ${Math.round(1e3*g)} ms`),f=p=1)}const v=this.findBestLevel(u,a,i,d,g,f,p);if(this.rebufferNotice!==v&&(this.rebufferNotice=v,this.info(`${d?"rebuffering expected":"buffer is empty"}, optimal quality level ${v}`)),v>-1)return v;const y=r.levels[a],x=r.loadLevelObj;return x&&y?.bitrate<x.bitrate?a:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,s,a,l){var u;const d=i+s,f=this.lastLoadedFragLevel,p=f===-1?this.hls.firstLevel:f,{fragCurrent:g,partCurrent:v}=this,{levels:y,allAudioTracks:x,loadLevel:b,config:T}=this.hls;if(y.length===1)return 0;const w=y[p],C=!!((u=this.hls.latestLevelDetails)!=null&&u.live),R=b===-1||f===-1;let L,D="SDR",k=w?.frameRate||0;const{audioPreference:P,videoPreference:F}=T,O=this.audioTracksByGroup||(this.audioTracksByGroup=_D(x));let $=-1;if(R){if(this.firstSelection!==-1)return this.firstSelection;const N=this.codecTiers||(this.codecTiers=PY(y,O,n,r)),q=_Y(N,D,e,P,F),{codecSet:H,videoRanges:W,minFramerate:j,minBitrate:U,minIndex:Y,preferHDR:ne}=q;$=Y,L=H,D=ne?W[W.length-1]:W[0],k=j,e=Math.max(e,U),this.log(`picked start tier ${In(q)}`)}else L=w?.codecSet,D=w?.videoRange;const _=v?v.duration:g?g.duration:0,K=this.bwEstimator.getEstimateTTFB()/1e3,z=[];for(let N=r;N>=n;N--){var G;const q=y[N],H=N>p;if(!q)continue;if(T.useMediaCapabilities&&!q.supportedResult&&!q.supportedPromise){const Q=navigator.mediaCapabilities;typeof Q?.decodingInfo=="function"&&EY(q,O,D,k,e,P)?(q.supportedPromise=kD(q,O,Q,this.supportedCache),q.supportedPromise.then(ee=>{if(!this.hls)return;q.supportedResult=ee;const Oe=this.hls.levels,De=Oe.indexOf(q);ee.error?this.warn(`MediaCapabilities decodingInfo error: "${ee.error}" for level ${De} ${In(ee)}`):ee.supported?ee.decodingInfoResults.some(Be=>Be.smooth===!1||Be.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${De} not smooth or powerEfficient: ${In(ee)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${De} ${In(ee)}`),De>-1&&Oe.length>1&&(this.log(`Removing unsupported level ${De}`),this.hls.removeLevel(De),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(ee=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${ee}`)})):q.supportedResult=LD}if((L&&q.codecSet!==L||D&&q.videoRange!==D||H&&k>q.frameRate||!H&&k>0&&k<q.frameRate||(G=q.supportedResult)!=null&&(G=G.decodingInfoResults)!=null&&G.some(Q=>Q.smooth===!1))&&(!R||N!==$)){z.push(N);continue}const W=q.details,j=(v?W?.partTarget:W?.averagetargetduration)||_;let U;H?U=l*e:U=a*e;const Y=_&&i>=_*2&&s===0?q.averageBitrate:q.maxBitrate,ne=this.getTimeToLoadFrag(K,U,Y*j,W===void 0);if(U>=Y&&(N===f||q.loadError===0&&q.fragmentError===0)&&(ne<=K||!Je(ne)||C&&!this.bitrateTestDelay||ne<d)){const Q=this.forcedAutoLevel;return N!==b&&(Q===-1||Q!==b)&&(z.length&&this.trace(`Skipped level(s) ${z.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${y[z[0]].codecs}" ${y[z[0]].videoRange}; not compatible with "${L}" ${D}`),this.info(`switch candidate:${p}->${N} adjustedbw(${Math.round(U)})-bitrate=${Math.round(U-Y)} ttfb:${K.toFixed(1)} avgDuration:${j.toFixed(1)} maxFetchDuration:${d.toFixed(1)} fetchDuration:${ne.toFixed(1)} firstSelection:${R} codecSet:${q.codecSet} videoRange:${q.videoRange} hls.loadLevel:${b}`)),R&&(this.firstSelection=N),N}}return-1}set nextAutoLevel(e){const n=this.deriveNextAutoLevel(e);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls;return Math.min(Math.max(e,r),n)}}const PD={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const a=e(s);if(a>0)n=i+1;else if(a<0)r=i-1;else return s}return null}};function BY(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!Je(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let s=0;s<t.length;++s){const a=t[s];if(jY(e,n,a))return a}return null}function rl(t,e,n=0,r=0,i=.005){let s=null;if(t){s=e[1+t.sn-e[0].sn]||null;const l=t.endDTS-n;l>0&&l<15e-7&&(n+=15e-7),s&&t.level!==s.level&&s.end<=t.end&&(s=e[2+t.sn-e[0].sn]||null)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&XR(n,r,s)===0||$Y(s,t,Math.min(i,r))))return s;const a=PD.search(e,XR.bind(null,n,r));return a&&(a!==t||!s)?a:s}function $Y(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),n);return t.start<=r}return!1}function XR(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function jY(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function OD(t,e,n){if(t&&t.startCC<=e&&t.endCC>=e){let r=t.fragments;const{fragmentHint:i}=t;i&&(r=r.concat(i));let s;return PD.search(r,a=>a.cc<e?1:a.cc>e?-1:(s=a,a.end<=n?1:a.start>n?-1:0)),s||null}return null}function Zp(t){switch(t.details){case oe.FRAG_LOAD_TIMEOUT:case oe.KEY_LOAD_TIMEOUT:case oe.LEVEL_LOAD_TIMEOUT:case oe.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function MD(t){return t.details.startsWith("key")}function FD(t){return MD(t)&&!!t.frag&&!t.frag.decryptdata}function QR(t,e){const n=Zp(e);return t.default[`${n?"timeout":"error"}Retry`]}function d1(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function ZR(t){return gn(gn({},t),{errorRetry:null,timeoutRetry:null})}function Jp(t,e,n,r){if(!t)return!1;const i=r?.code,s=e<t.maxNumRetry&&(UY(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,s):s}function UY(t){return Fx(t)||!!t&&(t<400||t>499)}function Fx(t){return t===0&&navigator.onLine===!1}var Ir={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},mi={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class zY extends Qi{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(M.ERROR,this.onError,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(M.ERROR,this.onError,this),e.off(M.ERROR,this.onErrorOut,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===ct.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const n=this.hls,r=n.currentLevel;return(e=n.loadLevelObj)!=null&&e.details||r===-1?n.loadLevel:r}variantHasKey(e,n){if(e){var r;if((r=e.details)!=null&&r.hasKey(n))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(a=>i.indexOf(a.groupId)>=0).some(a=>{var l;return(l=a.details)==null?void 0:l.hasKey(n)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,n){var r;if(n.fatal)return;const i=this.hls,s=n.context;switch(n.details){case oe.FRAG_LOAD_ERROR:case oe.FRAG_LOAD_TIMEOUT:case oe.KEY_LOAD_ERROR:case oe.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case oe.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction=dc();return}case oe.FRAG_GAP:case oe.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=Ir.SendAlternateToPenaltyBox;return}case oe.LEVEL_EMPTY_ERROR:case oe.LEVEL_PARSING_ERROR:{var a;const u=n.parent===ct.MAIN?n.level:i.loadLevel;n.details===oe.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(a=a.levelDetails)!=null&&a.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,u):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,u))}return;case oe.LEVEL_LOAD_ERROR:case oe.LEVEL_LOAD_TIMEOUT:typeof s?.level=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.level));return;case oe.AUDIO_TRACK_LOAD_ERROR:case oe.AUDIO_TRACK_LOAD_TIMEOUT:case oe.SUBTITLE_LOAD_ERROR:case oe.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const u=i.loadLevelObj;if(u&&(s.type===Kt.AUDIO_TRACK&&u.hasAudioGroup(s.groupId)||s.type===Kt.SUBTITLE_TRACK&&u.hasSubtitleGroup(s.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,i.loadLevel),n.errorAction.action=Ir.SendAlternateToPenaltyBox,n.errorAction.flags=mi.MoveAllAlternatesMatchingHost;return}}return;case oe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:n.errorAction={action:Ir.SendAlternateToPenaltyBox,flags:mi.MoveAllAlternatesMatchingHDCP};return;case oe.KEY_SYSTEM_SESSION_UPDATE_FAILED:case oe.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case oe.KEY_SYSTEM_NO_SESSION:n.errorAction={action:Ir.SendAlternateToPenaltyBox,flags:mi.MoveAllAlternatesMatchingKey};return;case oe.BUFFER_ADD_CODEC_ERROR:case oe.REMUX_ALLOC_ERROR:case oe.BUFFER_APPEND_ERROR:if(!n.errorAction){var l;n.errorAction=this.getLevelSwitchAction(n,(l=n.level)!=null?l:i.loadLevel)}return;case oe.INTERNAL_EXCEPTION:case oe.BUFFER_APPENDING_ERROR:case oe.BUFFER_FULL_ERROR:case oe.LEVEL_SWITCH_ERROR:case oe.BUFFER_STALLED_ERROR:case oe.BUFFER_SEEK_OVER_HOLE:case oe.BUFFER_NUDGE_ON_STALL:n.errorAction=dc();return}n.type===vt.KEY_SYSTEM_ERROR&&(n.levelRetry=!1,n.errorAction=dc())}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=QR(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Jp(i,s,Zp(e),e.response))return{action:Ir.RetryRequest,flags:mi.None,retryConfig:i,retryCount:s};const l=this.getLevelSwitchAction(e,n);return i&&(l.retryConfig=i,l.retryCount=s),l}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:a}=n.config,l=QR(MD(e)?a:s,e),u=n.levels.reduce((f,p)=>f+p.fragmentError,0);if(i&&(e.details!==oe.FRAG_GAP&&i.fragmentError++,!FD(e)&&Jp(l,u,Zp(e),e.response)))return{action:Ir.RetryRequest,flags:mi.None,retryConfig:l,retryCount:u};const d=this.getLevelSwitchAction(e,r);return l&&(d.retryConfig=l,d.retryCount=u),d}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var s,a;const d=e.details;i.loadError++,d===oe.BUFFER_APPEND_ERROR&&i.fragmentError++;let f=-1;const{levels:p,loadLevel:g,minAutoLevel:v,maxAutoLevel:y}=r;!r.autoLevelEnabled&&!r.config.preserveManualLevelOnError&&(r.loadLevel=-1);const x=(s=e.frag)==null?void 0:s.type,T=(x===ct.AUDIO&&d===oe.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(d===oe.BUFFER_ADD_CODEC_ERROR||d===oe.BUFFER_APPEND_ERROR))&&p.some(({audioCodec:D})=>i.audioCodec!==D),C=e.sourceBufferName==="video"&&(d===oe.BUFFER_ADD_CODEC_ERROR||d===oe.BUFFER_APPEND_ERROR)&&p.some(({codecSet:D,audioCodec:k})=>i.codecSet!==D&&i.audioCodec===k),{type:R,groupId:L}=(a=e.context)!=null?a:{};for(let D=p.length;D--;){const k=(D+g)%p.length;if(k!==g&&k>=v&&k<=y&&p[k].loadError===0){var l,u;const P=p[k];if(d===oe.FRAG_GAP&&x===ct.MAIN&&e.frag){const F=p[k].details;if(F){const O=rl(e.frag,F.fragments,e.frag.start);if(O!=null&&O.gap)continue}}else{if(R===Kt.AUDIO_TRACK&&P.hasAudioGroup(L)||R===Kt.SUBTITLE_TRACK&&P.hasSubtitleGroup(L))continue;if(x===ct.AUDIO&&(l=i.audioGroups)!=null&&l.some(F=>P.hasAudioGroup(F))||x===ct.SUBTITLE&&(u=i.subtitleGroups)!=null&&u.some(F=>P.hasSubtitleGroup(F))||T&&i.audioCodec===P.audioCodec||C&&i.codecSet===P.codecSet||!T&&i.codecSet!==P.codecSet)continue}f=k;break}}if(f>-1&&r.loadLevel!==f)return e.levelRetry=!0,this.playlistError=0,{action:Ir.SendAlternateToPenaltyBox,flags:mi.None,nextAutoLevel:f}}return{action:Ir.SendAlternateToPenaltyBox,flags:mi.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case Ir.DoNothing:break;case Ir.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==oe.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i}=r,s=r.nextAutoLevel;switch(i){case mi.None:this.switchLevel(e,s);break;case mi.MoveAllAlternatesMatchingHDCP:{const u=this.getVariantLevelIndex(e.frag),d=n.levels[u],f=d?.attrs["HDCP-LEVEL"];if(r.hdcpLevel=f,f==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(f){n.maxHdcpLevel=Mx[Mx.indexOf(f)-1],r.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}}case mi.MoveAllAlternatesMatchingKey:{const u=e.decryptdata;if(u){const d=this.hls.levels,f=d.length;for(let g=f;g--;)if(this.variantHasKey(d[g],u)){var a,l;this.log(`Banned key found in level ${g} (${d[g].bitrate}bps) or audio group "${(a=d[g].audioGroups)==null?void 0:a.join(",")}" (${(l=e.frag)==null?void 0:l.type} fragment) ${Gr(u.keyId||[])}`),d[g].fragmentError++,d[g].loadError++,this.log(`Removing level ${g} with key error (${e.error})`),this.hls.removeLevel(g)}const p=e.frag;if(this.hls.levels.length<f)r.resolved=!0;else if(p&&p.type!==ct.MAIN){const g=p.decryptdata;g&&!u.matches(g)&&(r.resolved=!0)}}break}}r.resolved||this.switchLevel(e,s)}switchLevel(e,n){if(n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===oe.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const r=Ox(e.mimeType),i=this.hls.levels;for(let s=i.length;s--;)i[s][`${e.sourceBufferName}Codec`]===r&&(this.log(`Removing level ${s} for ${e.details} ("${r}" not supported)`),this.hls.removeLevel(s))}}}function dc(t){const e={action:Ir.DoNothing,flags:mi.None};return t&&(e.resolved=!0),e}var gr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class HY{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.BUFFER_APPENDED,this.onBufferAppended,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this),e.on(M.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.BUFFER_APPENDED,this.onBufferAppended,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this),e.off(M.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;if(s.start<=e&&e<=s.end&&s.loaded)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){return this.getFragAtPos(e,n,!0)}getFragAtPos(e,n,r){const{fragments:i}=this,s=Object.keys(i);for(let a=s.length;a--;){const l=i[s[a]];if(l?.body.type===n&&(!r||l.buffered)){const u=l.body;if(u.start<=e&&e<=u.end)return u}}return null}detectEvictedFragments(e,n,r,i,s){this.timeRanges&&(this.timeRanges[e]=n);const a=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(l=>{const u=this.fragments[l];if(!u||a>=u.body.sn)return;if(!u.buffered&&(!u.loaded||s)){u.body.type===r&&this.removeFragment(u.body);return}const d=u.range[e];if(d){if(d.time.length===0){this.removeFragment(u.body);return}d.time.some(f=>{const p=!this.isTimeBuffered(f.startPTS,f.endPTS,n);return p&&this.removeFragment(u.body),p})}})}detectPartialFragments(e){const n=this.timeRanges;if(!n||e.frag.sn==="initSegment")return;const r=e.frag,i=Ql(r),s=this.fragments[i];if(!s||s.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(l=>{const u=r.elementaryStreams[l];if(!u)return;const d=n[l],f=a||u.partial===!0;s.range[l]=this.getBufferedTimes(r,e.part,f,d)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=r.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),Bh(s)||this.removeParts(r.sn-1,r.type)):this.removeFragment(s.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=JR(r,i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=Ql(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},a=e.start,l=e.end,u=e.minEndPTS||l,d=e.maxStartPTS||a;for(let f=0;f<i.length;f++){const p=i.start(f)-this.bufferPadding,g=i.end(f)+this.bufferPadding;if(d>=p&&u<=g){s.time.push({startPTS:Math.max(a,i.start(f)),endPTS:Math.min(l,i.end(f))});break}else if(a<g&&l>p){const v=Math.max(a,i.start(f)),y=Math.min(l,i.end(f));y>v&&(s.partial=!0,s.time.push({startPTS:v,endPTS:y}))}else if(l<=p)break}return s}getPartialFragment(e){let n=null,r,i,s,a=0;const{bufferPadding:l,fragments:u}=this;return Object.keys(u).forEach(d=>{const f=u[d];f&&Bh(f)&&(i=f.body.start-l,s=f.body.end+l,e>=i&&e<=s&&(r=Math.min(e-i,s-e),a<=r&&(n=f.body,a=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||Bh(n))}getState(e){const n=Ql(e),r=this.fragments[n];return r?r.buffered?Bh(r)?gr.PARTIAL:gr.OK:gr.APPENDING:gr.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,s=r.end(a)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const r=n.frag,i=n.part?null:n,s=Ql(r);this.fragments[s]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s,type:a}=n;if(r.sn==="initSegment")return;const l=r.type;if(i){let d=this.activePartLists[l];d||(this.activePartLists[l]=d=[]),d.push(i)}this.timeRanges=s;const u=s[a];this.detectEvictedFragments(a,u,l,i)}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Ql(e);return!!this.fragments[n]}hasFragments(e){const{fragments:n}=this,r=Object.keys(n);if(!e)return r.length>0;for(let i=r.length;i--;){const s=n[r[i]];if(s?.body.type===e)return!0}return!1}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l)return;const u=l.body;u.type!==r||i&&!u.gap||u.start<n&&u.end>e&&(l.buffered||s)&&this.removeFragment(u)})}removeFragment(e){const n=Ql(e);e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=JR(r,s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;n&&n.forEach(r=>r.clearElementaryStreamInfo())}}function Bh(t){var e,n,r;return t.buffered&&!!(t.body.gap||(e=t.range.video)!=null&&e.partial||(n=t.range.audio)!=null&&n.partial||(r=t.range.audiovideo)!=null&&r.partial)}function Ql(t){return`${t.type}_${t.level}_${t.sn}`}function JR(t,e){return t.filter(n=>{const r=e(n);return r||n.clearElementaryStreamInfo(),r})}var no={cbc:0,ctr:1};class GY{constructor(e,n,r){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=n,this.aesMode=r}decrypt(e,n){switch(this.aesMode){case no.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e);case no.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function VY(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?t.slice(0,e-n):t}class KY{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],a=r[2],l=r[3],u=this.invSubMix,d=u[0],f=u[1],p=u[2],g=u[3],v=new Uint32Array(256);let y=0,x=0,b=0;for(b=0;b<256;b++)b<128?v[b]=b<<1:v[b]=b<<1^283;for(b=0;b<256;b++){let T=x^x<<1^x<<2^x<<3^x<<4;T=T>>>8^T&255^99,e[y]=T,n[T]=y;const w=v[y],C=v[w],R=v[C];let L=v[T]*257^T*16843008;i[y]=L<<24|L>>>8,s[y]=L<<16|L>>>16,a[y]=L<<8|L>>>24,l[y]=L,L=R*16843009^C*65537^w*257^y*16843008,d[T]=L<<24|L>>>8,f[T]=L<<16|L>>>16,p[T]=L<<8|L>>>24,g[T]=L,y?(y=w^v[v[v[R^w]]],x^=v[v[x]]):y=x=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let l,u;const d=this.keySchedule=new Uint32Array(a),f=this.invKeySchedule=new Uint32Array(a),p=this.sBox,g=this.rcon,v=this.invSubMix,y=v[0],x=v[1],b=v[2],T=v[3];let w,C;for(l=0;l<a;l++){if(l<s){w=d[l]=n[l];continue}C=w,l%s===0?(C=C<<8|C>>>24,C=p[C>>>24]<<24|p[C>>>16&255]<<16|p[C>>>8&255]<<8|p[C&255],C^=g[l/s|0]<<24):s>6&&l%s===4&&(C=p[C>>>24]<<24|p[C>>>16&255]<<16|p[C>>>8&255]<<8|p[C&255]),d[l]=w=(d[l-s]^C)>>>0}for(u=0;u<a;u++)l=a-u,u&3?C=d[l]:C=d[l-4],u<4||l<=4?f[u]=C:f[u]=y[p[C>>>24]]^x[p[C>>>16&255]]^b[p[C>>>8&255]]^T[p[C&255]],f[u]=f[u]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,l=this.invSubMix,u=l[0],d=l[1],f=l[2],p=l[3],g=this.uint8ArrayToUint32Array_(r);let v=g[0],y=g[1],x=g[2],b=g[3];const T=new Int32Array(e),w=new Int32Array(T.length);let C,R,L,D,k,P,F,O,$,_,K,z,G,N;const q=this.networkToHostOrderSwap;for(;n<T.length;){for($=q(T[n]),_=q(T[n+1]),K=q(T[n+2]),z=q(T[n+3]),k=$^s[0],P=z^s[1],F=K^s[2],O=_^s[3],G=4,N=1;N<i;N++)C=u[k>>>24]^d[P>>16&255]^f[F>>8&255]^p[O&255]^s[G],R=u[P>>>24]^d[F>>16&255]^f[O>>8&255]^p[k&255]^s[G+1],L=u[F>>>24]^d[O>>16&255]^f[k>>8&255]^p[P&255]^s[G+2],D=u[O>>>24]^d[k>>16&255]^f[P>>8&255]^p[F&255]^s[G+3],k=C,P=R,F=L,O=D,G=G+4;C=a[k>>>24]<<24^a[P>>16&255]<<16^a[F>>8&255]<<8^a[O&255]^s[G],R=a[P>>>24]<<24^a[F>>16&255]<<16^a[O>>8&255]<<8^a[k&255]^s[G+1],L=a[F>>>24]<<24^a[O>>16&255]<<16^a[k>>8&255]<<8^a[P&255]^s[G+2],D=a[O>>>24]<<24^a[k>>16&255]<<16^a[P>>8&255]<<8^a[F&255]^s[G+3],w[n]=q(C^v),w[n+1]=q(D^y),w[n+2]=q(L^x),w[n+3]=q(R^b),v=$,y=_,x=K,b=z,n=n+4}return w.buffer}}class WY{constructor(e,n,r){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=n,this.aesMode=r}expandKey(){const e=qY(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function qY(t){switch(t){case no.cbc:return"AES-CBC";case no.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const YY=16;class f1{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?VY(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r,i){return this.useSoftware?new Promise((s,a)=>{const l=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(l,n,r,i);const u=this.flush();u?s(u.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r,i)}softwareDecrypt(e,n,r,i){const{currentIV:s,currentResult:a,remainderData:l}=this;if(i!==no.cbc||n.byteLength!==16)return yn.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),l&&(e=qi(l,e),this.remainderData=null);const u=this.getValidChunk(e);if(!u.length)return null;s&&(r=s);let d=this.softwareDecrypter;d||(d=this.softwareDecrypter=new KY),d.expandKey(n);const f=a;return this.currentResult=d.decrypt(u.buffer,0,r),this.currentIV=u.slice(-16).buffer,f||null}webCryptoDecrypt(e,n,r,i){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r,i));this.key=n,this.fastAesKey=new WY(this.subtle,n,i)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new GY(this.subtle,new Uint8Array(r),i).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(yn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,n,r,i)))}onWebCryptoError(e,n,r,i){const s=this.enableSoftwareAES;if(s){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r,i);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(s?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%YY;return r!==e.length&&(n=e.slice(0,r),this.remainderData=e.slice(r)),n}logOnce(e){this.logEnabled&&(yn.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const e2=Math.pow(2,17);class XY{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new sa({type:vt.NETWORK_ERROR,details:oe.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((l,u)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(y=>y[0]==="GAP")){u(n2(e));return}else e.gap=!1;const d=this.loader=s?new s(i):new a(i),f=t2(e);e.loader=d;const p=ZR(i.fragLoadPolicy.default),g={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:e2};e.stats=d.stats;const v={onSuccess:(y,x,b,T)=>{this.resetLoader(e,d);let w=y.data;b.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(w.slice(0,16)),w=w.slice(16)),l({frag:e,part:null,payload:w,networkDetails:T})},onError:(y,x,b,T)=>{this.resetLoader(e,d),u(new sa({type:vt.NETWORK_ERROR,details:oe.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:gn({url:r,data:void 0},y),error:new Error(`HTTP Error ${y.code} ${y.text}`),networkDetails:b,stats:T}))},onAbort:(y,x,b)=>{this.resetLoader(e,d),u(new sa({type:vt.NETWORK_ERROR,details:oe.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:b,stats:y}))},onTimeout:(y,x,b)=>{this.resetLoader(e,d),u(new sa({type:vt.NETWORK_ERROR,details:oe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${g.timeout}ms`),networkDetails:b,stats:y}))}};n&&(v.onProgress=(y,x,b,T)=>n({frag:e,part:null,payload:b,networkDetails:T})),d.load(f,g,v)})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((l,u)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){u(n2(e,n));return}const d=this.loader=s?new s(i):new a(i),f=t2(e,n);e.loader=d;const p=ZR(i.fragLoadPolicy.default),g={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e2};n.stats=d.stats,d.load(f,g,{onSuccess:(v,y,x,b)=>{this.resetLoader(e,d),this.updateStatsFromPart(e,n);const T={frag:e,part:n,payload:v.data,networkDetails:b};r(T),l(T)},onError:(v,y,x,b)=>{this.resetLoader(e,d),u(new sa({type:vt.NETWORK_ERROR,details:oe.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:gn({url:f.url,data:void 0},v),error:new Error(`HTTP Error ${v.code} ${v.text}`),networkDetails:x,stats:b}))},onAbort:(v,y,x)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,d),u(new sa({type:vt.NETWORK_ERROR,details:oe.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:x,stats:v}))},onTimeout:(v,y,x)=>{this.resetLoader(e,d),u(new sa({type:vt.NETWORK_ERROR,details:oe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${g.timeout}ms`),networkDetails:x,stats:v}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const u=Math.round(e.duration/n.duration),d=Math.min(Math.round(r.loaded/s),u),p=(u-d)*Math.round(r.loaded/d);r.total=r.loaded+p}else r.total=Math.max(r.loaded,r.total);const a=r.loading,l=i.loading;a.start?a.first+=l.first-l.start:(a.start=l.start,a.first=l.first),a.end=l.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function t2(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(Je(i)&&Je(s)){var a;let l=i,u=s;if(t.sn==="initSegment"&&QY((a=t.decryptdata)==null?void 0:a.method)){const d=s-i;d%16&&(u=s+(16-d%16)),i!==0&&(r.resetIV=!0,l=i-16)}r.rangeStart=l,r.rangeEnd=u}return r}function n2(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:vt.MEDIA_ERROR,details:oe.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new sa(r)}function QY(t){return t==="AES-128"||t==="AES-256"}class sa extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class ND extends Qi{constructor(e,n){super(e,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class h1{constructor(e,n,r,i=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=$h(),this.buffering={audio:$h(),video:$h(),audiovideo:$h()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=a}}function $h(){return{start:0,executeStart:0,executeEnd:0,end:0}}const r2={length:0,start:()=>0,end:()=>0};class Mt{static isBuffered(e,n){if(e){const r=Mt.getBuffered(e);for(let i=r.length;i--;)if(n>=r.start(i)&&n<=r.end(i))return!0}return!1}static bufferedRanges(e){if(e){const n=Mt.getBuffered(e);return Mt.timeRangesToArray(n)}return[]}static timeRangesToArray(e){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r),end:e.end(r)});return n}static bufferInfo(e,n,r){if(e){const i=Mt.bufferedRanges(e);if(i.length)return Mt.bufferedInfo(i,n,r)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.length>1&&e.sort((f,p)=>f.start-p.start||p.end-f.end);let i=-1,s=[];if(r)for(let f=0;f<e.length;f++){n>=e[f].start&&n<=e[f].end&&(i=f);const p=s.length;if(p){const g=s[p-1].end;e[f].start-g<r?e[f].end>g&&(s[p-1].end=e[f].end):s.push(e[f])}else s.push(e[f])}else s=e;let a=0,l,u=n,d=n;for(let f=0;f<s.length;f++){const p=s[f].start,g=s[f].end;if(i===-1&&n>=p&&n<=g&&(i=f),n+r>=p&&n<g)u=p,d=g,a=d-n;else if(n+r<p){l=p;break}}return{len:a,start:u||0,end:d||0,nextStart:l,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||r2}catch(n){return yn.log("failed to get media.buffered",n),r2}}}const BD=/\{\$([a-zA-Z0-9-_]+)\}/g;function i2(t){return BD.test(t)}function Nx(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(BD,r=>{const i=r.substring(2,r.length-1),s=n?.[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function s2(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(n).searchParams;if(a.has(i))s=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function ZY(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}const JY=/^(\d+)x(\d+)$/,a2=/(.+?)=(".*?"|.*?)(?:,|$)/g;class jn{constructor(e,n){typeof e=="string"&&(e=jn.parseAttrList(e,n)),Cn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}enumeratedStringList(e,n){const r=this[e];return(r?r.split(/[ ,]+/):[]).reduce((i,s)=>(i[s.toLowerCase()]=!0,i),n)}bool(e){return this[e]==="YES"}decimalResolution(e){const n=JY.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e,n){let r;const i={};for(a2.lastIndex=0;(r=a2.exec(e))!==null;){const a=r[1].trim();let l=r[2];const u=l.indexOf('"')===0&&l.lastIndexOf('"')===l.length-1;let d=!1;if(u)l=l.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":d=!0}if(n&&(u||d))l=Nx(n,l);else if(!d&&!u)switch(a){case"CLOSED-CAPTIONS":if(l==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":yn.warn(`${e}: attribute ${a} is missing quotes`)}i[a]=l}return i}}const eX="com.apple.hls.interstitial";function tX(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function nX(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class $D{constructor(e,n,r=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=n?.tagAnchor||null,this.tagOrder=(i=n?.tagOrder)!=null?i:r,n){const s=n.attr;for(const a in s)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==s[a]){yn.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=Cn(new jn({}),s,e)}if(this.attr=e,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const s=n?.endDate||new Date(this.attr["END-DATE"]);Je(s.getTime())&&(this._endDate=s)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(yn.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Je(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===eX}get isValid(){return!!this.id&&!this._badValueForSameId&&Je(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const rX=10;class iX{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(n=>{let r=n.decryptdata;return r||(n.setKeyFormat(e.keyFormat),r=n.decryptdata),!!r&&e.matches(r)})}get hasProgramDateTime(){return this.fragments.length?Je(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||rX}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const n=this.lastPartIndex;if(n!==-1){for(let r=e.length;r--;)if(e[r].index>n)return e[r].index;return n}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function em(t,e){return t.length===e.length?!t.some((n,r)=>n!==e[r]):!1}function o2(t,e){return!t&&!e?!0:!t||!e?!1:em(t,e)}function fc(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function p1(t){switch(t){case"AES-128":case"AES-256":return no.cbc;case"AES-256-CTR":return no.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function m1(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Bx(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function sX(t){const e=Bx(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function jD(t){const e=function(r,i,s){const a=r[i];r[i]=r[s],r[s]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function UD(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",a=i[1];s?(r.splice(-1,1),n=m1(a)):n=sX(a)}}return n}const tm=typeof self<"u"?self:void 0;var zn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Dr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function up(t){switch(t){case Dr.FAIRPLAY:return zn.FAIRPLAY;case Dr.PLAYREADY:return zn.PLAYREADY;case Dr.WIDEVINE:return zn.WIDEVINE;case Dr.CLEARKEY:return zn.CLEARKEY}}function hy(t){switch(t){case zn.FAIRPLAY:return Dr.FAIRPLAY;case zn.PLAYREADY:return Dr.PLAYREADY;case zn.WIDEVINE:return Dr.WIDEVINE;case zn.CLEARKEY:return Dr.CLEARKEY}}function td(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[zn.FAIRPLAY,zn.WIDEVINE,zn.PLAYREADY,zn.CLEARKEY].filter(i=>!!e[i]):[];return!r[zn.WIDEVINE]&&n&&r.push(zn.WIDEVINE),r}const zD=(function(t){return tm!=null&&(t=tm.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function aX(t,e,n,r){let i;switch(t){case zn.FAIRPLAY:i=["cenc","sinf"];break;case zn.WIDEVINE:case zn.PLAYREADY:i=["cenc"];break;case zn.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return oX(i,e,n,r)}function oX(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs=${s}`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs=${s}`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function lX(t){var e;return!!t&&(t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(n=>n==="persistent-license")))}function HD(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),a=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(a){const l=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(l){const u=m1(l).subarray(0,16);return jD(u),u}}return null}let jh={};class Wo{static clearKeyUriToKeyIdMap(){jh={}}static setKeyIdForUri(e,n){jh[e]=n}constructor(e,n,r,i=[1],s=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!fc(e),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(vD(a)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&em(e.keyFormatVersions,this.keyFormatVersions)&&o2(e.iv,this.iv)&&o2(e.keyId,this.keyId)}isSupported(){if(this.method){if(fc(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Dr.FAIRPLAY:case Dr.WIDEVINE:case Dr.PLAYREADY:case Dr.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,n){if(!this.encrypted||!this.uri)return null;if(fc(this.method)){let s=this.iv;return s||(typeof e!="number"&&(yn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),s=uX(e)),new Wo(this.method,this.uri,"identity",this.keyFormatVersions,s)}if(this.keyId){const s=jh[this.uri];if(s&&!em(this.keyId,s)&&Wo.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const r=UD(this.uri);if(r)switch(this.keyFormat){case Dr.WIDEVINE:if(this.pssh=r,!this.keyId){const s=hY(r.buffer);if(s.length){var i;const a=s[0];this.keyId=(i=a.kids)!=null&&i.length?a.kids[0]:null}}this.keyId||(this.keyId=l2(n));break;case Dr.PLAYREADY:{const s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=fY(s,null,r),this.keyId=HD(r);break}default:{let s=r.subarray(0,16);if(s.length!==16){const a=new Uint8Array(16);a.set(s,16-s.length),s=a}this.keyId=s;break}}if(!this.keyId||this.keyId.byteLength!==16){let s;s=cX(n),s||(s=l2(n),s||(s=jh[this.uri])),s&&(this.keyId=s,Wo.setKeyIdForUri(this.uri,s))}return this}}function cX(t){const e=t?.[Dr.WIDEVINE];return e?e.keyId:null}function l2(t){const e=t?.[Dr.PLAYREADY];if(e){const n=UD(e.uri);if(n)return HD(n)}return null}function uX(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const c2=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,u2=/#EXT-X-MEDIA:(.*)/g,dX=/^#EXT(?:INF|-X-TARGETDURATION):/m,py=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),fX=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Is{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return a1.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return dX.test(e)}static parseMasterPlaylist(e,n){const r=i2(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];if(c2.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let a;for(;(a=c2.exec(e))!=null;)if(a[1]){var l;const d=new jn(a[1],i),f=Nx(i,a[2]),p={attrs:d,bitrate:d.decimalInteger("BANDWIDTH")||d.decimalInteger("AVERAGE-BANDWIDTH"),name:d.NAME,url:Is.resolve(f,n)},g=d.decimalResolution("RESOLUTION");g&&(p.width=g.width,p.height=g.height),h2(d.CODECS,p);const v=d["SUPPLEMENTAL-CODECS"];v&&(p.supplemental={},h2(v,p.supplemental)),(l=p.unknownCodecs)!=null&&l.length||s.push(p),i.levels.push(p)}else if(a[3]){const d=a[3],f=a[4];switch(d){case"SESSION-DATA":{const p=new jn(f,i),g=p["DATA-ID"];g&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[g]=p);break}case"SESSION-KEY":{const p=d2(f,n,i);p.encrypted&&p.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(p)):yn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${f}"`);break}case"DEFINE":{{const p=new jn(f,i);s2(i,p,n)}break}case"CONTENT-STEERING":{const p=new jn(f,i);i.contentSteering={uri:Is.resolve(p["SERVER-URI"],n),pathwayId:p["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=f2(f);break}}}const u=s.length>0&&s.length<i.levels.length;return i.levels=u?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},a=r.levels,l={AUDIO:a.map(d=>({id:d.attrs.AUDIO,audioCodec:d.audioCodec})),SUBTITLES:a.map(d=>({id:d.attrs.SUBTITLES,textCodec:d.textCodec})),"CLOSED-CAPTIONS":[]};let u=0;for(u2.lastIndex=0;(i=u2.exec(e))!==null;){const d=new jn(i[1],r),f=d.TYPE;if(f){const p=l[f],g=s[f]||[];s[f]=g;const v=d.LANGUAGE,y=d["ASSOC-LANGUAGE"],x=d.CHANNELS,b=d.CHARACTERISTICS,T=d["INSTREAM-ID"],w={attrs:d,bitrate:0,id:u++,groupId:d["GROUP-ID"]||"",name:d.NAME||v||"",type:f,default:d.bool("DEFAULT"),autoselect:d.bool("AUTOSELECT"),forced:d.bool("FORCED"),lang:v,url:d.URI?Is.resolve(d.URI,n):""};if(y&&(w.assocLang=y),x&&(w.channels=x),b&&(w.characteristics=b),T&&(w.instreamId=T),p!=null&&p.length){const C=Is.findGroup(p,w.groupId)||p[0];p2(w,C,"audioCodec"),p2(w,C,"textCodec")}g.push(w)}}return s}static parseLevelPlaylist(e,n,r,i,s,a){var l;const u={url:n},d=new iX(n),f=d.fragments,p=[];let g=null,v=0,y=0,x=0,b=0,T=0,w=null,C=new uy(i,u),R,L,D,k=-1,P=!1,F=null,O;if(py.lastIndex=0,d.m3u8=e,d.hasVariableRefs=i2(e),((l=py.exec(e))==null?void 0:l[0])!=="#EXTM3U")return d.playlistParsingError=new Error("Missing format identifier #EXTM3U"),d;for(;(R=py.exec(e))!==null;){P&&(P=!1,C=new uy(i,u),C.playlistOffset=x,C.setStart(x),C.sn=v,C.cc=b,T&&(C.bitrate=T),C.level=r,g&&(C.initSegment=g,g.rawProgramDateTime&&(C.rawProgramDateTime=g.rawProgramDateTime,g.rawProgramDateTime=null),F&&(C.setByteRange(F),F=null)));const z=R[1];if(z){C.duration=parseFloat(z);const G=(" "+R[2]).slice(1);C.title=G||null,C.tagList.push(G?["INF",z,G]:["INF",z])}else if(R[3]){if(Je(C.duration)){C.playlistOffset=x,C.setStart(x),D&&g2(C,D,d),C.sn=v,C.level=r,C.cc=b,f.push(C);const G=(" "+R[3]).slice(1);C.relurl=Nx(d,G),$x(C,w,p),w=C,x+=C.duration,v++,y=0,P=!0}}else{if(R=R[0].match(fX),!R){yn.warn("No matches on slow regex match for level playlist!");continue}for(L=1;L<R.length&&R[L]===void 0;L++);const G=(" "+R[L]).slice(1),N=(" "+R[L+1]).slice(1),q=R[L+2]?(" "+R[L+2]).slice(1):null;switch(G){case"BYTERANGE":w?C.setByteRange(N,w):C.setByteRange(N);break;case"PROGRAM-DATE-TIME":C.rawProgramDateTime=N,C.tagList.push(["PROGRAM-DATE-TIME",N]),k===-1&&(k=f.length);break;case"PLAYLIST-TYPE":d.type&&na(d,G,R),d.type=N.toUpperCase();break;case"MEDIA-SEQUENCE":d.startSN!==0?na(d,G,R):f.length>0&&v2(d,G,R),v=d.startSN=parseInt(N);break;case"SKIP":{d.skippedSegments&&na(d,G,R);const H=new jn(N,d),W=H.decimalInteger("SKIPPED-SEGMENTS");if(Je(W)){d.skippedSegments+=W;for(let U=W;U--;)f.push(null);v+=W}const j=H.enumeratedString("RECENTLY-REMOVED-DATERANGES");j&&(d.recentlyRemovedDateranges=(d.recentlyRemovedDateranges||[]).concat(j.split("	")));break}case"TARGETDURATION":d.targetduration!==0&&na(d,G,R),d.targetduration=Math.max(parseInt(N),1);break;case"VERSION":d.version!==null&&na(d,G,R),d.version=parseInt(N);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":d.live||na(d,G,R),d.live=!1;break;case"#":(N||q)&&C.tagList.push(q?[N,q]:[N]);break;case"DISCONTINUITY":b++,C.tagList.push(["DIS"]);break;case"GAP":C.gap=!0,C.tagList.push([G]);break;case"BITRATE":C.tagList.push([G,N]),T=parseInt(N)*1e3,Je(T)?C.bitrate=T:T=0;break;case"DATERANGE":{const H=new jn(N,d),W=new $D(H,d.dateRanges[H.ID],d.dateRangeTagCount);d.dateRangeTagCount++,W.isValid||d.skippedSegments?d.dateRanges[W.id]=W:yn.warn(`Ignoring invalid DATERANGE tag: "${N}"`),C.tagList.push(["EXT-X-DATERANGE",N]);break}case"DEFINE":{{const H=new jn(N,d);"IMPORT"in H?ZY(d,H,a):s2(d,H,n)}break}case"DISCONTINUITY-SEQUENCE":d.startCC!==0?na(d,G,R):f.length>0&&v2(d,G,R),d.startCC=b=parseInt(N);break;case"KEY":{const H=d2(N,n,d);if(H.isSupported()){if(H.method==="NONE"){D=void 0;break}D||(D={});const W=D[H.keyFormat];W!=null&&W.matches(H)||(W&&(D=Cn({},D)),D[H.keyFormat]=H)}else yn.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${N}"`);break}case"START":d.startTimeOffset=f2(N);break;case"MAP":{const H=new jn(N,d);if(C.duration){const W=new uy(i,u);m2(W,H,r,D),g=W,C.initSegment=g,g.rawProgramDateTime&&!C.rawProgramDateTime&&(C.rawProgramDateTime=g.rawProgramDateTime)}else{const W=C.byteRangeEndOffset;if(W){const j=C.byteRangeStartOffset;F=`${W-j}@${j}`}else F=null;m2(C,H,r,D),g=C,P=!0}g.cc=b;break}case"SERVER-CONTROL":{O&&na(d,G,R),O=new jn(N),d.canBlockReload=O.bool("CAN-BLOCK-RELOAD"),d.canSkipUntil=O.optionalFloat("CAN-SKIP-UNTIL",0),d.canSkipDateRanges=d.canSkipUntil>0&&O.bool("CAN-SKIP-DATERANGES"),d.partHoldBack=O.optionalFloat("PART-HOLD-BACK",0),d.holdBack=O.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{d.partTarget&&na(d,G,R);const H=new jn(N);d.partTarget=H.decimalFloatingPoint("PART-TARGET");break}case"PART":{let H=d.partList;H||(H=d.partList=[]);const W=y>0?H[H.length-1]:void 0,j=y++,U=new jn(N,d),Y=new Zq(U,C,u,j,W);H.push(Y),C.duration+=Y.duration;break}case"PRELOAD-HINT":{const H=new jn(N,d);d.preloadHint=H;break}case"RENDITION-REPORT":{const H=new jn(N,d);d.renditionReports=d.renditionReports||[],d.renditionReports.push(H);break}default:yn.warn(`line parsed but not handled: ${R}`);break}}}w&&!w.relurl?(f.pop(),x-=w.duration,d.partList&&(d.fragmentHint=w)):d.partList&&($x(C,w,p),C.cc=b,d.fragmentHint=C,D&&g2(C,D,d)),d.targetduration||(d.playlistParsingError=new Error("Missing Target Duration"));const $=f.length,_=f[0],K=f[$-1];if(x+=d.skippedSegments*d.targetduration,x>0&&$&&K){d.averagetargetduration=x/$;const z=K.sn;d.endSN=z!=="initSegment"?z:0,d.live||(K.endList=!0),k>0&&(pX(f,k),_&&p.unshift(_))}return d.fragmentHint&&(x+=d.fragmentHint.duration),d.totalduration=x,p.length&&d.dateRangeTagCount&&_&&GD(p,d),d.endCC=b,d}}function GD(t,e){let n=t.length;if(!n)if(e.hasProgramDateTime){const l=e.fragments[e.fragments.length-1];t.push(l),n++}else return;const r=t[n-1],i=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let l=s.length;l--;){const u=e.dateRanges[s[l]],d=u.startDate.getTime();u.tagAnchor=r.ref;for(let f=n;f--;){var a;if(((a=t[f])==null?void 0:a.sn)<e.startSN)break;const p=hX(e,d,t,f,i);if(p!==-1){u.tagAnchor=e.fragments[p].ref;break}}}}function hX(t,e,n,r,i){const s=n[r];if(s){const l=s.programDateTime;if(e>=l||r===0){var a;const u=(((a=n[r+1])==null?void 0:a.start)||i)-s.start;if(e<=l+u*1e3){const d=n[r].sn-t.startSN;if(d<0)return-1;const f=t.fragments;if(f.length>n.length){const g=(n[r+1]||f[f.length-1]).sn-t.startSN;for(let v=g;v>d;v--){const y=f[v].programDateTime;if(e>=y&&e<y+f[v].duration*1e3)return v}}return d}}}return-1}function d2(t,e,n){var r,i;const s=new jn(t,n),a=(r=s.METHOD)!=null?r:"",l=s.URI,u=s.hexadecimalInteger("IV"),d=s.KEYFORMATVERSIONS,f=(i=s.KEYFORMAT)!=null?i:"identity";l&&s.IV&&!u&&yn.error(`Invalid IV: ${s.IV}`);const p=l?Is.resolve(l,e):"",g=(d||"1").split("/").map(Number).filter(Number.isFinite);return new Wo(a,p,f,g,u,s.KEYID)}function f2(t){const n=new jn(t).decimalFloatingPoint("TIME-OFFSET");return Je(n)?n:null}function h2(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(s=>c1(s,r));i.length&&(e[`${r}Codec`]=i.map(s=>s.split("/")[0]).join(","),n=n.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=n}function p2(t,e,n){const r=e[n];r&&(t[n]=r)}function pX(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function $x(t,e,n){t.rawProgramDateTime?n.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function m2(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function g2(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}function na(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${n[0]})`)}function v2(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${n[0]})`)}function my(t,e){const n=e.startPTS;if(Je(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&i.setDuration(r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function VD(t,e,n,r,i,s,a){r-n<=0&&(a.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let u=n,d=r;const f=e.startPTS,p=e.endPTS;if(Je(f)){const T=Math.abs(f-n);t&&T>t.totalduration?a.warn(`media timestamps and playlist times differ by ${T}s for level ${e.level} ${t.url}`):Je(e.deltaPTS)?e.deltaPTS=Math.max(T,e.deltaPTS):e.deltaPTS=T,u=Math.max(n,f),n=Math.min(n,f),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,d=Math.min(r,p),r=Math.max(r,p),s=e.endDTS!==void 0?Math.max(s,e.endDTS):s}const g=n-e.start;e.start!==0&&e.setStart(n),e.setDuration(r-e.start),e.startPTS=n,e.maxStartPTS=u,e.startDTS=i,e.endPTS=r,e.minEndPTS=d,e.endDTS=s;const v=e.sn;if(!t||v<t.startSN||v>t.endSN)return 0;let y;const x=v-t.startSN,b=t.fragments;for(b[x]=e,y=x;y>0;y--)my(b[y],b[y-1]);for(y=x;y<b.length-1;y++)my(b[y],b[y+1]);return t.fragmentHint&&my(b[b.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,g}function mX(t,e,n){if(t===e)return;let r=null;const i=t.fragments;for(let f=i.length-1;f>=0;f--){const p=i[f].initSegment;if(p){r=p;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let s;yX(t,e,(f,p,g,v)=>{if((!e.startCC||e.skippedSegments)&&p.cc!==f.cc){const y=f.cc-p.cc;for(let x=g;x<v.length;x++)v[x].cc+=y;e.endCC=v[v.length-1].cc}Je(f.startPTS)&&Je(f.endPTS)&&(p.setStart(p.startPTS=f.startPTS),p.startDTS=f.startDTS,p.maxStartPTS=f.maxStartPTS,p.endPTS=f.endPTS,p.endDTS=f.endDTS,p.minEndPTS=f.minEndPTS,p.setDuration(f.endPTS-f.startPTS),p.duration&&(s=p),e.PTSKnown=e.alignedSliding=!0),f.hasStreams&&(p.elementaryStreams=f.elementaryStreams),p.loader=f.loader,f.hasStats&&(p.stats=f.stats),f.initSegment&&(p.initSegment=f.initSegment,r=f.initSegment)});const a=e.fragments,l=e.fragmentHint?a.concat(e.fragmentHint):a;if(r&&l.forEach(f=>{var p;f&&(!f.initSegment||f.initSegment.relurl===((p=r)==null?void 0:p.relurl))&&(f.initSegment=r)}),e.skippedSegments){if(e.deltaUpdateFailed=a.some(f=>!f),e.deltaUpdateFailed){n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let f=e.skippedSegments;f--;)a.shift();e.startSN=a[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=gX(t.dateRanges,e,n));const f=t.fragments.filter(p=>p.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let p=1;p<l.length;p++)l[p].programDateTime===null&&$x(l[p],l[p-1],f);GD(f,e)}e.endCC=a[a.length-1].cc}if(!e.startCC){var u;const f=qD(t,e.startSN-1);e.startCC=(u=f?.cc)!=null?u:a[0].cc}vX(t.partList,e.partList,(f,p)=>{p.elementaryStreams=f.elementaryStreams,p.stats=f.stats}),s?VD(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS,n):KD(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const d=e.advancedDateTime;if(e.advanced&&d){const f=e.edge;e.driftStart||(e.driftStartTime=d,e.driftStart=f),e.driftEndTime=d,e.driftEnd=f}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function gX(t,e,n){const{dateRanges:r,recentlyRemovedDateranges:i}=e,s=Cn({},t);i&&i.forEach(u=>{delete s[u]});const l=Object.keys(s).length;return l?(Object.keys(r).forEach(u=>{const d=s[u],f=new $D(r[u].attr,d);f.isValid?(s[u]=f,d||(f.tagOrder+=l)):n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${In(r[u].attr)}"`)}),s):r}function vX(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const a=t[i],l=e[i+r];a&&l&&a.index===l.index&&a.fragment.sn===l.fragment.sn?n(a,l):r--}}}function yX(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let d=i;d<=s;d++){const f=u[a+d];let p=l[d];if(r&&!p&&f&&(p=e.fragments[d]=f),f&&p){n(f,p,d,l);const g=f.relurl,v=p.relurl;if(g&&xX(g,v)){e.playlistParsingError=y2(`media sequence mismatch ${p.sn}:`,t,e,f,p);return}else if(f.cc!==p.cc){e.playlistParsingError=y2(`discontinuity sequence mismatch (${f.cc}!=${p.cc})`,t,e,f,p);return}}}}function y2(t,e,n,r,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function KD(t,e,n=!0){const r=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,s=r>=0;let a=0;if(s&&r<i.length)a=i[r].start;else if(s&&e.startSN===t.endSN+1)a=t.fragmentEnd;else if(s&&n)a=t.fragmentStart+r*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=t.fragmentStart;else return;jx(e,a)}function jx(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function WD(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function qD(t,e,n){if(!t)return null;let r=t.fragments[e-t.startSN];return r||(r=t.fragmentHint,r&&r.sn===e)?r:e<t.startSN&&n&&n.sn===e?n:null}function x2(t,e,n){return t?YD(t.partList,e,n):null}function YD(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function XD(t){t.forEach((e,n)=>{var r;(r=e.details)==null||r.fragments.forEach(i=>{i.level=n,i.initSegment&&(i.initSegment.level=n)})})}function xX(t,e){return t!==e&&e?b2(t)!==b2(e):!1}function b2(t){return t.replace(/\?[^?]*$/,"")}function fd(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function bX(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function S2(t,e){const n=t.start+e;t.startPTS=n,t.setStart(n),t.endPTS=n+t.duration}function QD(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)S2(n[r],t);e.fragmentHint&&S2(e.fragmentHint,t),e.alignedSliding=!0}function SX(t,e){t&&(ZD(e,t),e.alignedSliding||nm(e,t),!e.alignedSliding&&!e.skippedSegments&&KD(t,e,!1))}function ZD(t,e){if(!bX(e,t))return;const n=Math.min(e.endCC,t.endCC),r=fd(e.fragments,n),i=fd(t.fragments,n);if(!r||!i)return;yn.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const s=r.start-i.start;QD(s,t)}function nm(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=fd(r,a),s=fd(n,a)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=fd(n,i.cc)||n[Math.floor(n.length/2)]);const l=i.programDateTime,u=s.programDateTime;if(!l||!u)return;const d=(u-l)/1e3-(s.start-i.start);QD(d,t)}function Vr(t,e,n){ti(t,e,n),t.addEventListener(e,n)}function ti(t,e,n){t.removeEventListener(e,n)}const EX={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},Te={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class g1 extends ND{constructor(e,n,r,i,s){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Te.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:l,media:u,mediaBuffer:d,state:f}=this,p=u?u.currentTime:0,g=Mt.bufferInfo(d||u,p,a.maxBufferHole),v=!g.len;if(this.log(`Media seeking to ${Je(p)?p.toFixed(3):p}, state: ${f}, ${v?"out of":"in"} buffer`),this.state===Te.ENDED)this.resetLoadingState();else if(l){const y=a.maxFragLookUpTolerance,x=l.start-y,b=l.start+l.duration+y;if(v||b<g.start||x>g.end){const T=p>b;(p<x||T)&&(T&&l.loader&&(this.log(`Cancelling fragment load for seek (sn: ${l.sn})`),l.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(u){this.fragmentTracker.removeFragmentsInRange(p,1/0,this.playlistType,!0);const y=this.lastCurrentTime;if(p>y&&(this.lastCurrentTime=p),!this.loadingParts){const x=Math.max(g.end,p),b=this.shouldLoadParts(this.getLevelDetails(),x);b&&(this.log(`LL-Part loading ON after seeking to ${p.toFixed(2)} with buffer @${x.toFixed(2)}`),this.loadingParts=b)}}this.hls.hasEnoughToStart||(this.log(`Setting ${v?"startPosition":"nextLoadPosition"} to ${p} for seek without enough to start`),this.nextLoadPosition=p,v&&(this.startPosition=p)),v&&this.state===Te.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=e,this.fragmentLoader=new XY(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new f1(e.config)}registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===Te.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Te.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:n}=this;return n===-1&&e?e:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,n){if(n.live||!this.media)return!1;const r=e.end||0,i=this.config.timelineOffset||0;if(r<=i)return!1;const s=e.buffered;this.config.maxBufferHole&&s&&s.length>1&&(e=Mt.bufferedInfo(s,e.start,0));const a=e.nextStart;if(a&&a>i&&a<n.edge||this.media.currentTime<e.start)return!1;const u=n.partList;if(u!=null&&u.length){const f=u[u.length-1];return Mt.isBuffered(this.media,f.start+f.duration/2)}const d=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(d)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||e}return 0}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;Vr(r,"seeking",this.onMediaSeeking),Vr(r,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===Te.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,n){const r=!!n.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),ti(i,"seeking",this.onMediaSeeking),ti(i,"ended",this.onMediaEnded),this.keyLoader&&!r&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,r){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,n){}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Te.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this.startFragRequested=!0,this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{const a=s.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${s.part?" part: "+s.part.index:""} of ${this.fragInfo(a,!1,s.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const a=this.state,l=s.frag;if(this.fragContextChanged(l)){(a===Te.FRAG_LOADING||!this.fragCurrent&&a===Te.PARSING)&&(this.fragmentTracker.removeFragment(l),this.state=Te.IDLE);return}"payload"in s&&(this.log(`Loaded ${l.type} sn: ${l.sn} of ${this.playlistLabel()} ${l.level}`),this.hls.trigger(M.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===Te.STOPPED||this.state===Te.ERROR||(this.warn(`Frag error: ${s?.message||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===gr.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),l=Math.max(e.duration,a?a.len:this.config.maxBufferLength),u=this.backtrackFragment;((u?e.sn-u.sn:0)===1||this.reduceMaxBufferLength(l,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===gr.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const n=e.details;return n?.live&&n.type!=="EVENT"&&(this.levelLastLoaded!==e||n.expired)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(M.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{const i=r?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{frag:s,payload:a}=r,l=s.decryptdata;if(a&&a.byteLength>0&&l!=null&&l.key&&l.iv&&fc(l.method)){const u=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),l.key.buffer,l.iv.buffer,p1(l.method)).catch(d=>{throw i.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_DECRYPT_ERROR,fatal:!1,error:d,reason:d.message,frag:s}),d}).then(d=>{const f=self.performance.now();return i.trigger(M.FRAG_DECRYPTED,{frag:s,payload:d,stats:{tstart:u,tdecrypt:f}}),r.payload=d,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===Te.STOPPED||this.state===Te.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state!==Te.STOPPED&&(this.state=Te.IDLE),e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,n){var r,i;const s=e.tracks;if(s&&!n.encrypted&&((r=s.audio)!=null&&r.encrypted||(i=s.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const a=this.media,l=new Error(`Encrypted track with no key in ${this.fragInfo(n)} (media ${a?"attached mediaKeys: "+a.mediaKeys:"detached"})`);return this.warn(l.message),!a||a.mediaKeys?!1:(this.hls.trigger(M.ERROR,{type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_NO_KEYS,fatal:!1,error:l,frag:n}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){const r=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)} > buffer:${r?EX.toString(Mt.getBuffered(r)):"(detached)"})`),ur(e)){var i;if(e.type!==ct.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(l=>!!a[l])){this.state=Te.IDLE;return}}const s=(i=this.levels)==null?void 0:i[e.level];s!=null&&s.fragmentError&&(this.log(`Resetting level fragment error count of ${s.fragmentError} on frag buffered`),s.fragmentError=0)}this.state=Te.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,a=!s||s.length===0||s.some(u=>!u),l=new h1(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!a);n.flush(l)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;this.fragCurrent=e;const a=n.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let l=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)){if(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=Te.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then(g=>{if(!this.fragContextChanged(g.frag))return this.hls.trigger(M.KEY_LOADED,g),this.state===Te.KEY_LOADING&&(this.state=Te.IDLE),g}),this.hls.trigger(M.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(l=this.keyLoader.loadClear(e,a.encryptedFragments,this.startFragRequested),l&&this.log("[eme] blocking frag load until media-keys acquired"));const u=this.fragPrevious;if(ur(e)&&(!u||e.sn!==u.sn)){const g=this.shouldLoadParts(n.details,e.end);g!==this.loadingParts&&(this.log(`LL-Part loading ${g?"ON":"OFF"} loading sn ${u?.sn}->${e.sn}`),this.loadingParts=g)}if(r=Math.max(e.start,r||0),this.loadingParts&&ur(e)){const g=a.partList;if(g&&i){r>a.fragmentEnd&&a.fragmentHint&&(e=a.fragmentHint);const v=this.getNextPart(g,e,r);if(v>-1){const y=g[v];e=this.fragCurrent=y.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${y.index} (${v}/${g.length-1}) of ${this.fragInfo(e,!1,y)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=y.start+y.duration,this.state=Te.FRAG_LOADING;let x;return l?x=l.then(b=>!b||this.fragContextChanged(b.frag)?null:this.doFragPartsLoad(e,y,n,i)).catch(b=>this.handleFragLoadError(b)):x=this.doFragPartsLoad(e,y,n,i).catch(b=>this.handleFragLoadError(b)),this.hls.trigger(M.FRAG_LOADING,{frag:e,part:y,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):x}else if(!e.url||this.loadedEndOfParts(g,r))return Promise.resolve(null)}}if(ur(e)&&this.loadingParts){var d;this.log(`LL-Part loading OFF after next part miss @${r.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(d=a.partList)==null?void 0:d.filter(g=>g.loaded).map(g=>`[${g.start}-${g.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(r.toFixed(3))}`),Je(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Te.FRAG_LOADING;const f=this.config.progressive;let p;return f&&l?p=l.then(g=>!g||this.fragContextChanged(g.frag)?null:this.fragmentLoader.load(e,i)).catch(g=>this.handleFragLoadError(g)):p=Promise.all([this.fragmentLoader.load(e,f?i:void 0),l]).then(([g])=>(!f&&i&&i(g),g)).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(M.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):p}doFragPartsLoad(e,n,r,i){return new Promise((s,a)=>{var l;const u=[],d=(l=r.details)==null?void 0:l.partList,f=p=>{this.fragmentLoader.loadPart(e,p,i).then(g=>{u[p.index]=g;const v=g.part;this.hls.trigger(M.FRAG_LOADED,g);const y=x2(r.details,e.sn,p.index+1)||YD(d,e.sn,p.index+1);if(y)f(y);else return s({frag:e,part:v,partsLoaded:u})}).catch(a)};f(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;n.frag&&n.details===oe.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):n.frag&&n.type===vt.KEY_SYSTEM_ERROR?(n.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(n.frag)):this.hls.trigger(M.ERROR,n)}else this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==Te.PARSING){!this.fragCurrent&&this.state!==Te.STOPPED&&this.state!==Te.ERROR&&(this.state=Te.IDLE);return}const{frag:r,part:i,level:s}=n,a=self.performance.now();r.stats.parsing.end=a,i&&(i.stats.parsing.end=a);const l=this.getLevelDetails(),d=l&&r.sn>l.endSN||this.shouldLoadParts(l,r.end);d!==this.loadingParts&&(this.log(`LL-Part loading ${d?"ON":"OFF"} after parsing segment ending @${r.end.toFixed(2)}`),this.loadingParts=d),this.updateLevelTiming(r,i,s,e.partial)}shouldLoadParts(e,n){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var r;const s=e.partList[0];if(s.fragment.type===ct.SUBTITLE)return!1;const a=s.end+(((r=e.fragmentHint)==null?void 0:r.duration)||0);if(n>=a){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>s.start-s.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:a}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const l=n[i],u=l.details,d=a>-1?x2(u,s,a):null,f=d?d.fragment:qD(u,s,r);return f?(r&&r!==f&&(f.stats=r.stats),{frag:f,part:d,level:l}):null}bufferFragmentData(e,n,r,i,s){if(this.state!==Te.PARSING)return;const{data1:a,data2:l}=e;let u=a;if(l&&(u=qi(a,l)),!u.length)return;const d=this.initPTS[n.cc],f=d?-d.baseTime/d.timescale:void 0,p={type:e.type,frag:n,part:r,chunkMeta:i,offset:f,parent:n.type,data:u};if(this.hls.trigger(M.BUFFER_APPENDING,p),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Mt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=Mt.bufferInfo(n,r,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),l=Math.max(Math.min(e.start-a,i.end-a),r+a);e.start-l>a&&this.flushMainBuffer(l,e.start)}getFwdBufferInfo(e,n){var r;const i=this.getLoadPosition();if(!Je(i))return null;const a=this.lastCurrentTime>i||(r=this.media)!=null&&r.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,n,a)}getFwdBufferInfoAtPos(e,n,r,i){const s=Mt.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(n,r);if(a&&(s.nextStart<=a.end||a.gap)){const l=Math.max(Math.min(s.nextStart,a.end)-n,i);return Mt.bufferInfo(e,n,l)}}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),s=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=ct.MAIN){const r=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,n):null;return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,a=r[0].start,l=s.lowLatencyMode&&!!n.partList;let u=null;if(n.live){const p=s.initialLiveManifestSize;if(i<p)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${p})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var d;l&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),u=this.getInitialLiveFragment(n);const g=this.hls.startPosition,v=this.hls.liveSyncPosition,y=u?(g!==-1&&g>=a?g:v)||u.start:e;this.log(`Setting startPosition to ${y} to match start frag at live edge. mainStart: ${g} liveSyncPosition: ${v} frag.start: ${(d=u)==null?void 0:d.start}`),this.startPosition=this.nextLoadPosition=y}}else e<=a&&(u=r[0]);if(!u){const p=this.loadingParts?n.partEnd:n.fragmentEnd;u=this.getFragmentAtPosition(e,p,n)}let f=this.filterReplacedPrimary(u,n);if(!f&&u){const p=u.sn-n.startSN;f=this.filterReplacedPrimary(r[p+1]||null,n)}return this.mapToInitFragWhenRequired(f)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===gr.OK||r===gr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,n),a&&!a.gap&&r.nextStart)){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i,0);if(l!==null&&r.len+l.len>=s){const u=a.sn;return this.loopSn!==u&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${u}`),this.loopSn=u),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(E2(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,n){if(!e)return e;if(E2(this.config)&&e.type!==ct.SUBTITLE){const r=this.hls.interstitialsManager,i=r?.bufferingItem;if(i){const a=i.event;if(a){if(a.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&n?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const s=r?.playerQueue;if(s)for(let a=s.length;a--;){const l=s[a].interstitial;if(l.appendInPlace&&e.start>=l.startTime&&e.end<=l.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,a=!0;for(let l=0,u=e.length;l<u;l++){const d=e[l];if(a=a&&!d.independent,i>-1&&r<d.start)break;const f=d.loaded;f?i=-1:(s||(d.independent||a)&&d.fragment===n)&&(d.fragment!==n&&this.warn(`Need buffer at ${r} but next unloaded part starts at ${d.start}`),i=l),s=f}return i}loadedEndOfParts(e,n){let r;for(let i=e.length;i--;){if(r=e[i],!r.loaded)return!1;if(n>r.start)return!0}return!1}getInitialLiveFragment(e){const n=e.fragments,r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=BY(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=n[s-e.startSN];r.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=OD(e,r.cc,r.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:a,endSN:l}=r;const{fragmentHint:u}=r,{maxFragLookUpTolerance:d}=i,f=r.partList,p=!!(this.loadingParts&&f!=null&&f.length&&u);p&&!this.bitrateTest&&f[f.length-1].fragment.sn===u.sn&&(a=a.concat(u),l=u.sn);let g;if(e<n){var v;const x=e<this.lastCurrentTime||e>n-d||(v=this.media)!=null&&v.paused||!this.startFragRequested?0:d;g=rl(s,a,e,x)}else g=a[a.length-1];if(g){const y=g.sn-r.startSN,x=this.fragmentTracker.getState(g);if((x===gr.OK||x===gr.PARTIAL&&g.gap)&&(s=g),s&&g.sn===s.sn&&(!p||f[0].fragment.sn>g.sn||!r.live)&&g.level===s.level){const T=a[y+1];g.sn<l&&this.fragmentTracker.getState(T)!==gr.OK?g=T:g=null}}return g}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragmentStart,a=!n,l=e.alignedSliding&&Je(s);if(a||!l&&!s){SX(r,e);const u=e.fragmentStart;return this.log(`Live playlist sliding: ${u.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} fragments: ${i}`),u}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;r<n&&(r=-1);const i=this.timelineOffset;if(r===-1){const s=this.startTimeOffset!==null,a=s?this.startTimeOffset:e.startTimeOffset;a!==null&&Je(a)?(r=n+a,a<0&&(r+=e.edge),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Setting startPosition to ${r} for start time offset ${a} found in ${s?"multivariant":"media"} playlist`),this.startPosition=r):e.live?(r=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${r}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=r=0),this.lastCurrentTime=r+i}this.nextLoadPosition=r+i}getLoadPosition(){var e;const{media:n}=this;let r=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&n?r=n.currentTime:this.nextLoadPosition>=0&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,n){this.transmuxer&&e.type===this.playlistType&&ur(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Te.FRAG_LOADING_WAITING_RETRY)&&(this.state=Te.IDLE)}onFragmentOrKeyLoadError(e,n){var r;if(n.chunkMeta&&!n.frag){const T=this.getCurrentContext(n.chunkMeta);T&&(n.frag=T.frag)}const i=n.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var s;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const a=n.details===oe.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(i,!0);const l=n.errorAction;if(!l){this.state=Te.ERROR;return}const{action:u,flags:d,retryCount:f=0,retryConfig:p}=l,g=!!p,v=g&&u===Ir.RetryRequest,y=g&&!l.resolved&&d===mi.MoveAllAlternatesMatchingHost,x=(r=this.hls.latestLevelDetails)==null?void 0:r.live;if(!v&&y&&ur(i)&&!i.endList&&x&&!FD(n))this.resetFragmentErrors(e),this.treatAsGap(i),l.resolved=!0;else if((v||y)&&f<p.maxNumRetry){var b;const T=Fx((b=n.response)==null?void 0:b.code),w=d1(p,f);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+w,this.state=Te.FRAG_LOADING_WAITING_RETRY,l.resolved=!0,T){this.log("Waiting for connection (offline)"),this.retryDate=1/0,n.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${n.details}, retrying loading ${f+1}/${p.maxNumRetry} in ${w}ms`)}else if(p)if(this.resetFragmentErrors(e),f<p.maxNumRetry)!a&&u!==Ir.RemoveAlternatePermanently&&(l.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${f})`);return}else u===Ir.SendAlternateToPenaltyBox?this.state=Te.WAITING_LEVEL:this.state=Te.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),n=this.retryDate,r=n===1/0;(!n||e>=n||r&&!Fx(0))&&(r&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Te.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===Te.PARSING||this.state===Te.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,n?.duration||10);const a=!s;return a&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===ct.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Te.STOPPED&&(this.state=Te.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=Mt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===Te.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Te.STOPPED&&(this.state=Te.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,n=e?e.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){const s=r.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((u,d)=>{const f=e.elementaryStreams[d];if(f){const p=f.endPTS-f.startPTS;if(p<=0)return this.warn(`Could not parse fragment ${e.sn} ${d} duration reliably (${p})`),u||!1;const g=i?0:VD(s,e,f.startPTS,f.endPTS,f.startDTS,f.endDTS,this);return this.hls.trigger(M.LEVEL_PTS_UPDATED,{details:s,level:r,drift:g,type:d,frag:e,start:f.startPTS,end:f.endPTS}),!0}return u},!1)){var l;if(r.fragmentError===0&&this.treatAsGap(e,r),((l=this.transmuxer)==null?void 0:l.error)===null){const u=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(u.message),this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_PARSING_ERROR,fatal:!1,error:u,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Te.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)})`),this.hls.trigger(M.FRAG_PARSED,{frag:e,part:n})}playlistLabel(){return this.playlistType===ct.MAIN?"level":"track"}fragInfo(e,n=!0,r){var i,s;return`${this.playlistLabel()} ${e.level} (${r?"part":"frag"}:[${((i=n&&!r?e.startPTS:(r||e).start)!=null?i:NaN).toFixed(3)}-${((s=n&&!r?e.endPTS:(r||e).end)!=null?s:NaN).toFixed(3)}]${r&&e.type==="main"?"INDEPENDENT="+(r.independent?"YES":"NO"):""}`}treatAsGap(e,n){n&&n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}function E2(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class JD{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=TX(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function TX(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}var gy={exports:{}},T2;function CX(){return T2||(T2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||u,g),y=n?n+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,y=new Array(v);g<v;g++)y[g]=p[g].fn;return y},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,v,y){var x=n?n+d:d;if(!this._events[x])return!1;var b=this._events[x],T=arguments.length,w,C;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,g),!0;case 5:return b.fn.call(b.context,f,p,g,v),!0;case 6:return b.fn.call(b.context,f,p,g,v,y),!0}for(C=1,w=new Array(T-1);C<T;C++)w[C-1]=arguments[C];b.fn.apply(b.context,w)}else{var R=b.length,L;for(C=0;C<R;C++)switch(b[C].once&&this.removeListener(d,b[C].fn,void 0,!0),T){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,f);break;case 3:b[C].fn.call(b[C].context,f,p);break;case 4:b[C].fn.call(b[C].context,f,p,g);break;default:if(!w)for(L=1,w=new Array(T-1);L<T;L++)w[L-1]=arguments[L];b[C].fn.apply(b[C].context,w)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return a(this,v),this;var y=this._events[v];if(y.fn)y.fn===f&&(!g||y.once)&&(!p||y.context===p)&&a(this,v);else{for(var x=0,b=[],T=y.length;x<T;x++)(y[x].fn!==f||g&&!y[x].once||p&&y[x].context!==p)&&b.push(y[x]);b.length?this._events[v]=b.length===1?b[0]:b:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(gy)),gy.exports}var wX=CX(),v1=Xq(wX);const kd="1.6.13",Ic={};function AX(){return typeof __HLS_WORKER_BUNDLE__=="function"}function RX(){const t=Ic[kd];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(e),i={worker:new self.Worker(n),objectURL:n,clientCount:1};return Ic[kd]=i,i}function LX(t){const e=Ic[t];if(e)return e.clientCount++,e;const n=new self.URL(t,self.location.href).href,i={worker:new self.Worker(n),scriptURL:n,clientCount:1};return Ic[t]=i,i}function IX(t){const e=Ic[t||kd];if(e&&e.clientCount--===1){const{worker:r,objectURL:i}=e;delete Ic[t||kd],i&&self.URL.revokeObjectURL(i),r.terminate()}}function e_(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function y1(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function sg(t,e){let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n}function Dd(t,e){const n=e;let r=0;for(;y1(t,e);){r+=10;const i=sg(t,e+6);r+=i,e_(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)}function kX(t,e,n,r){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=e[n+2],a=s>>2&15;if(a>12){const v=new Error(`invalid ADTS sampling index:${a}`);t.emit(M.ERROR,M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_PARSING_ERROR,fatal:!0,error:v,reason:v.message});return}const l=(s>>6&3)+1,u=e[n+3]>>6&3|(s&1)<<2,d="mp4a.40."+l,f=i[a];let p=a;(l===5||l===29)&&(p-=3);const g=[l<<3|(p&14)>>1,(p&1)<<7|u<<3];return yn.log(`manifest codec:${r}, parsed codec:${d}, channels:${u}, rate:${f} (ADTS object type:${l} sampling index:${a})`),{config:g,samplerate:f,channelCount:u,codec:d,parsedCodec:d,manifestCodec:r}}function t_(t,e){return t[e]===255&&(t[e+1]&246)===240}function n_(t,e){return t[e+1]&1?7:9}function x1(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function DX(t,e){return e+5<t.length}function rm(t,e){return e+1<t.length&&t_(t,e)}function _X(t,e){return DX(t,e)&&t_(t,e)&&x1(t,e)<=t.length-e}function PX(t,e){if(rm(t,e)){const n=n_(t,e);if(e+n>=t.length)return!1;const r=x1(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||rm(t,i)}return!1}function r_(t,e,n,r,i){if(!t.samplerate){const s=kX(e,n,r,i);if(!s)return;Cn(t,s)}}function i_(t){return 1024*9e4/t}function OX(t,e){const n=n_(t,e);if(e+n<=t.length){const r=x1(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function s_(t,e,n,r,i){const s=i_(t.samplerate),a=r+i*s,l=OX(e,n);let u;if(l){const{frameLength:p,headerLength:g}=l,v=g+p,y=Math.max(0,n+v-e.length);y?(u=new Uint8Array(v-g),u.set(e.subarray(n+g,e.length),0)):u=e.subarray(n+g,n+v);const x={unit:u,pts:a};return y||t.samples.push(x),{sample:x,length:v,missing:y}}const d=e.length-n;return u=new Uint8Array(d),u.set(e.subarray(n,e.length),0),{sample:{unit:u,pts:a},length:d,missing:-1}}function MX(t,e){return y1(t,e)&&sg(t,e+6)+10<=t.length-e}function FX(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function vy(t,e=0,n=1/0){return NX(t,e,n,Uint8Array)}function NX(t,e,n,r){const i=BX(t);let s=1;"BYTES_PER_ELEMENT"in r&&(s=r.BYTES_PER_ELEMENT);const a=$X(t)?t.byteOffset:0,l=(a+t.byteLength)/s,u=(a+e)/s,d=Math.floor(Math.max(0,Math.min(u,l))),f=Math.floor(Math.min(d+Math.max(n,0),l));return new r(i,d,f-d)}function BX(t){return t instanceof ArrayBuffer?t:t.buffer}function $X(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function jX(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(t.size<2)return;if(t.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const r=t.data.subarray(1).indexOf(0);if(r===-1)return;const i=wi(vy(t.data,1,r)),s=t.data[2+r],a=t.data.subarray(3+r).indexOf(0);if(a===-1)return;const l=wi(vy(t.data,3+r,a));let u;return i==="-->"?u=wi(vy(t.data,4+r+a)):u=FX(t.data.subarray(4+r+a)),e.mimeType=i,e.pictureType=s,e.description=l,e.data=u,e}function UX(t){if(t.size<2)return;const e=wi(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}function zX(t){if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=wi(t.data.subarray(n),!0);n+=r.length+1;const i=wi(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=wi(t.data.subarray(1));return{key:t.type,info:"",data:e}}function HX(t){if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=wi(t.data.subarray(n),!0);n+=r.length+1;const i=wi(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=wi(t.data);return{key:t.type,info:"",data:e}}function GX(t){return t.type==="PRIV"?UX(t):t.type[0]==="W"?HX(t):t.type==="APIC"?jX(t):zX(t)}function VX(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=sg(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}}const Uh=10,KX=10;function a_(t){let e=0;const n=[];for(;y1(t,e);){const r=sg(t,e+6);t[e+5]>>6&1&&(e+=Uh),e+=Uh;const i=e+r;for(;e+KX<i;){const s=VX(t.subarray(e)),a=GX(s);a&&n.push(a),e+=s.size+Uh}e_(t,e)&&(e+=Uh)}return n}function o_(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function WX(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}}function b1(t){const e=a_(t);for(let n=0;n<e.length;n++){const r=e[n];if(o_(r))return WX(r)}}let Si=(function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t})({});function ws(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class S1{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=qi(this.cachedData,e),this.cachedData=null);let r=Dd(e,0),i=r?r.length:0,s;const a=this._audioTrack,l=this._id3Track,u=r?b1(r):void 0,d=e.length;for((this.basePTS===null||this.frameIndex===0&&Je(u))&&(this.basePTS=qX(u,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Si.audioId3,duration:Number.POSITIVE_INFINITY});i<d;){if(this.canParse(e,i)){const f=this.appendFrame(a,e,i);f?(this.frameIndex++,this.lastPTS=f.sample.pts,i+=f.length,s=i):i=d}else MX(e,i)?(r=Dd(e,i),l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Si.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===d&&s!==d){const f=e.slice(s);this.cachedData?this.cachedData=qi(this.cachedData,f):this.cachedData=f}}return{audioTrack:a,videoTrack:ws(),id3Track:l,textTrack:ws()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:ws(),id3Track:this._id3Track,textTrack:ws()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const qX=(t,e,n)=>{if(Je(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};let zh=null;const YX=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],XX=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],QX=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],ZX=[0,1,1,4];function l_(t,e,n,r,i){if(n+24>e.length)return;const s=c_(e,n);if(s&&n+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,l=r+i*a,u={unit:e.subarray(n,n+s.frameLength),pts:l,dts:l};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(u),{sample:u,length:s.frameLength,missing:0}}}function c_(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const a=t[e+2]>>1&1,l=t[e+3]>>6,u=n===3?3-r:r===3?3:4,d=YX[u*14+i-1]*1e3,p=XX[(n===3?0:n===2?1:2)*3+s],g=l===3?1:2,v=QX[n][r],y=ZX[r],x=v*8*y,b=Math.floor(v*d/p+a)*y;if(zh===null){const C=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);zh=C?parseInt(C[1]):0}return!!zh&&zh<=87&&r===2&&d>=224e3&&l===0&&(t[e+3]=t[e+3]|128),{sampleRate:p,channelCount:g,frameLength:b,samplesPerFrame:x}}}function E1(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function u_(t,e){return e+1<t.length&&E1(t,e)}function JX(t,e){return E1(t,e)&&4<=t.length-e}function d_(t,e){if(e+1<t.length&&E1(t,e)){const r=c_(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||u_(t,s)}return!1}class eQ extends S1{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,n){if(!e)return!1;const r=Dd(e,0);let i=r?.length||0;if(d_(e,i))return!1;for(let s=e.length;i<s;i++)if(PX(e,i))return n.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return _X(e,n)}appendFrame(e,n,r){r_(e,this.observer,n,r,e.manifestCodec);const i=s_(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const f_=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=t[e];const l=Math.min(r,8),u=8-l;s[0]=4278190080>>>24+u<<u,i[0]=(a[0]&s[0])>>u,n=n?n<<l|i[0]:i[0],e+=1,r-=l}return n};class tQ extends S1{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=h_(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=Dd(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&b1(n)!==void 0&&f_(e,r)<16}}function h_(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const l=[48e3,44100,32e3][s],u=e[n+4]&63,f=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][u*3+s]*2;if(n+f>e.length)return-1;const p=e[n+6]>>5;let g=0;p===2?g+=2:(p&1&&p!==1&&(g+=2),p&4&&(g+=2));const v=(e[n+6]<<8|e[n+7])>>12-g&1,x=[2,1,2,3,3,4,4,5][p]+v,b=e[n+5]>>3,T=e[n+5]&7,w=new Uint8Array([s<<6|b<<1|T>>2,(T&3)<<6|p<<3|v<<2|u>>4,u<<4&224]),C=1536/l*9e4,R=r+i*C,L=e.subarray(n,n+f);return t.config=w,t.channelCount=x,t.samplerate=l,t.samples.push({unit:L,pts:R}),f}class nQ extends S1{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Dd(e,0);let r=n?.length||0;if(n&&e[r]===11&&e[r+1]===119&&b1(n)!==void 0&&f_(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(d_(e,r))return yn.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return JX(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return l_(e,n,r,this.basePTS,this.frameIndex)}}const rQ=/\/emsg[-/]ID3/i;class iQ{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=ws("video",1),a=this.audioTrack=ws("audio",1),l=this.txtTrack=ws("text",1);if(this.id3Track=ws("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const u=TD(e);if(u.video){const{id:d,timescale:f,codec:p,supplemental:g}=u.video;s.id=d,s.timescale=l.timescale=f,s.codec=p,s.supplemental=g}if(u.audio){const{id:d,timescale:f,codec:p}=u.audio;a.id=d,a.timescale=f,a.codec=p}l.id=bD.text,s.sampleDuration=0,s.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return tY(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=qi(this.remainderData,e));const l=lY(r);this.remainderData=l.remainder,i.samples=l.valid||new Uint8Array}else i.samples=r;const a=this.extractID3Track(i,n);return s.samples=UR(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=UR(e,n),{videoTrack:n,audioTrack:ws(),id3Track:i,textTrack:ws()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=Ht(e.samples,["emsg"]);i&&i.forEach(s=>{const a=uY(s);if(rQ.test(a.schemeIdUri)){const l=C2(a,n);let u=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);const d=a.payload;r.samples.push({data:d,len:d.byteLength,dts:l,pts:l,type:Si.emsg,duration:u})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const l=C2(a,n);r.samples.push({data:a.payload,len:a.payload.byteLength,dts:l,pts:l,type:Si.misbklv,duration:Number.POSITIVE_INFINITY})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function C2(t,e){return Je(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class sQ{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new f1(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,no.cbc)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(l=>{const u=new Uint8Array(l);i.set(u,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)}).catch(r)}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const a=AD(s.data),l=this.getAvcEncryptedData(a);this.decryptBuffer(l.buffer).then(u=>{s.data=this.getAvcDecryptedUnit(a,u),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)}).catch(i)}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const a=s[r];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,n,r,i,a),!this.decrypter.isSync()))return}}}}class p_{constructor(){this.VideoSample=null}createVideoSample(e,n,r){return{key:e,frame:!1,pts:n,dts:r,units:[],length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}}parseNALu(e,n,r){const i=n.byteLength;let s=e.naluState||0;const a=s,l=[];let u=0,d,f,p,g=-1,v=0;for(s===-1&&(g=0,v=this.getNALuType(n,0),s=0,u=1);u<i;){if(d=n[u++],!s){s=d?0:1;continue}if(s===1){s=d?0:2;continue}if(!d)s=3;else if(d===1){if(f=u-s-1,g>=0){const y={data:n.subarray(g,f),type:v};l.push(y)}else{const y=this.getLastNalUnit(e.samples);y&&(a&&u<=4-a&&y.state&&(y.data=y.data.subarray(0,y.data.byteLength-a)),f>0&&(y.data=qi(y.data,n.subarray(0,f)),y.state=0))}u<i?(p=this.getNALuType(n,u),g=u,v=p,s=0):s=-1}else s=0}if(g>=0&&s>=0){const y={data:n.subarray(g,i),type:v,state:s};l.push(y)}if(l.length===0){const y=this.getLastNalUnit(e.samples);y&&(y.data=qi(y.data,n))}return e.naluState=s,l}}class hd{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&yn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class aQ extends p_{parsePES(e,n,r,i){const s=this.parseNALu(e,r.data,i);let a=this.VideoSample,l,u=!1;r.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),s.forEach(d=>{var f,p;switch(d.type){case 1:{let x=!1;l=!0;const b=d.data;if(u&&b.length>4){const T=this.readSliceType(b);(T===2||T===4||T===7||T===9)&&(x=!0)}if(x){var g;(g=a)!=null&&g.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.frame=!0,a.key=x;break}case 5:l=!0,(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0,a.frame=!0;break;case 6:{l=!0,l1(d.data,1,r.pts,n.samples);break}case 7:{var v,y;l=!0,u=!0;const x=d.data,b=this.readSPS(x);if(!e.sps||e.width!==b.width||e.height!==b.height||((v=e.pixelRatio)==null?void 0:v[0])!==b.pixelRatio[0]||((y=e.pixelRatio)==null?void 0:y[1])!==b.pixelRatio[1]){e.width=b.width,e.height=b.height,e.pixelRatio=b.pixelRatio,e.sps=[x];const T=x.subarray(1,4);let w="avc1.";for(let C=0;C<3;C++){let R=T[C].toString(16);R.length<2&&(R="0"+R),w+=R}e.codec=w}break}case 8:l=!0,e.pps=[d.data];break;case 9:l=!0,e.audFound=!0,(p=a)!=null&&p.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;case 12:l=!0;break;default:l=!1;break}a&&l&&a.units.push(d)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,n){return e[n]&31}readSliceType(e){const n=new hd(e);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(e,n){let r=8,i=8,s;for(let a=0;a<e;a++)i!==0&&(s=n.readEG(),i=(r+s+256)%256),r=i===0?r:i}readSPS(e){const n=new hd(e);let r=0,i=0,s=0,a=0,l,u,d;const f=n.readUByte.bind(n),p=n.readBits.bind(n),g=n.readUEG.bind(n),v=n.readBoolean.bind(n),y=n.skipBits.bind(n),x=n.skipEG.bind(n),b=n.skipUEG.bind(n),T=this.skipScalingList.bind(this);f();const w=f();if(p(5),y(3),f(),b(),w===100||w===110||w===122||w===244||w===44||w===83||w===86||w===118||w===128){const P=g();if(P===3&&y(1),b(),b(),y(1),v())for(u=P!==3?8:12,d=0;d<u;d++)v()&&(d<6?T(16,n):T(64,n))}b();const C=g();if(C===0)g();else if(C===1)for(y(1),x(),x(),l=g(),d=0;d<l;d++)x();b(),y(1);const R=g(),L=g(),D=p(1);D===0&&y(1),y(1),v()&&(r=g(),i=g(),s=g(),a=g());let k=[1,1];if(v()&&v())switch(f()){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:{k=[f()<<8|f(),f()<<8|f()];break}}return{width:Math.ceil((R+1)*16-r*2-i*2),height:(2-D)*(L+1)*16-(D?2:4)*(s+a),pixelRatio:k}}}class oQ extends p_{constructor(...e){super(...e),this.initVPS=null}parsePES(e,n,r,i){const s=this.parseNALu(e,r.data,i);let a=this.VideoSample,l,u=!1;r.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),s.forEach(d=>{var f,p;switch(d.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),a.frame=!0,l=!0;break;case 16:case 17:case 18:case 21:if(l=!0,u){var g;(g=a)!=null&&g.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:l=!0,(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0,a.frame=!0;break;case 39:l=!0,l1(d.data,2,r.pts,n.samples);break;case 32:l=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Cn(e.params,this.readVPS(d.data)),this.initVPS=d.data),e.vps=[d.data];break;case 33:if(l=!0,u=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],d.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const v=this.readSPS(d.data);e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.codec=v.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const y in v.params)e.params[y]=v.params[y]}this.pushParameterSet(e.sps,d.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),a.key=!0;break;case 34:if(l=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const v=this.readPPS(d.data);for(const y in v)e.params[y]=v[y]}this.pushParameterSet(e.pps,d.data,e.vps)}break;case 35:l=!0,e.audFound=!0,(p=a)!=null&&p.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;default:l=!1;break}a&&l&&a.units.push(d)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,n,r){(r&&r[0]===this.initVPS||!r&&!e.length)&&e.push(n)}getNALuType(e,n){return(e[n]&126)>>>1}ebsp2rbsp(e){const n=new Uint8Array(e.byteLength);let r=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(n[r]=e[i],r++);return new Uint8Array(n.buffer,0,r)}pushAccessUnit(e,n){super.pushAccessUnit(e,n),this.initVPS&&(this.initVPS=null)}readVPS(e){const n=new hd(e);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const r=n.readBits(3),i=n.readBoolean();return{numTemporalLayers:r+1,temporalIdNested:i}}readSPS(e){const n=new hd(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.readBits(4);const r=n.readBits(3);n.readBoolean();const i=n.readBits(2),s=n.readBoolean(),a=n.readBits(5),l=n.readUByte(),u=n.readUByte(),d=n.readUByte(),f=n.readUByte(),p=n.readUByte(),g=n.readUByte(),v=n.readUByte(),y=n.readUByte(),x=n.readUByte(),b=n.readUByte(),T=n.readUByte(),w=[],C=[];for(let Le=0;Le<r;Le++)w.push(n.readBoolean()),C.push(n.readBoolean());if(r>0)for(let Le=r;Le<8;Le++)n.readBits(2);for(let Le=0;Le<r;Le++)w[Le]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),C[Le]&&n.readUByte();n.readUEG();const R=n.readUEG();R==3&&n.skipBits(1);const L=n.readUEG(),D=n.readUEG(),k=n.readBoolean();let P=0,F=0,O=0,$=0;k&&(P+=n.readUEG(),F+=n.readUEG(),O+=n.readUEG(),$+=n.readUEG());const _=n.readUEG(),K=n.readUEG(),z=n.readUEG(),G=n.readBoolean();for(let Le=G?0:r;Le<=r;Le++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let Pe=0;Pe<4;Pe++)for(let ke=0;ke<(Pe===3?2:6);ke++)if(!n.readBoolean())n.readUEG();else{const Ve=Math.min(64,1<<4+(Pe<<1));Pe>1&&n.readEG();for(let pt=0;pt<Ve;pt++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const H=n.readUEG();let W=0;for(let Le=0;Le<H;Le++){let Pe=!1;if(Le!==0&&(Pe=n.readBoolean()),Pe){Le===H&&n.readUEG(),n.readBoolean(),n.readUEG();let ke=0;for(let bt=0;bt<=W;bt++){const Ve=n.readBoolean();let pt=!1;Ve||(pt=n.readBoolean()),(Ve||pt)&&ke++}W=ke}else{const ke=n.readUEG(),bt=n.readUEG();W=ke+bt;for(let Ve=0;Ve<ke;Ve++)n.readUEG(),n.readBoolean();for(let Ve=0;Ve<bt;Ve++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const Le=n.readUEG();for(let Pe=0;Pe<Le;Pe++){for(let ke=0;ke<z+4;ke++)n.readBits(1);n.readBits(1)}}let U=0,Y=1,ne=1,re=!0,Q=1,ee=0;n.readBoolean(),n.readBoolean();let Oe=!1;if(n.readBoolean()){if(n.readBoolean()){const Ke=n.readUByte(),Ut=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Se=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Ke>0&&Ke<16?(Y=Ut[Ke-1],ne=Se[Ke-1]):Ke===255&&(Y=n.readBits(16),ne=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),Oe=n.readBoolean(),Oe&&(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG()),n.readBoolean()&&(Q=n.readBits(32),ee=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const Se=n.readBoolean(),pe=n.readBoolean();let be=!1;(Se||pe)&&(be=n.readBoolean(),be&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),be&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let $e=0;$e<=r;$e++){re=n.readBoolean();const Ge=re||n.readBoolean();let We=!1;Ge?n.readEG():We=n.readBoolean();const Xe=We?1:n.readUEG()+1;if(Se)for(let je=0;je<Xe;je++)n.readUEG(),n.readUEG(),be&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(pe)for(let je=0;je<Xe;je++)n.readUEG(),n.readUEG(),be&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),U=n.readUEG())}let Be=L,Me=D;if(k){let Le=1,Pe=1;R===1?Le=Pe=2:R==2&&(Le=2),Be=L-Le*F-Le*P,Me=D-Pe*$-Pe*O}const Ye=i?["A","B","C"][i]:"",Ue=l<<24|u<<16|d<<8|f;let ye=0;for(let Le=0;Le<32;Le++)ye=(ye|(Ue>>Le&1)<<31-Le)>>>0;let Re=ye.toString(16);return a===1&&Re==="2"&&(Re="6"),{codecString:`hvc1.${Ye}${a}.${Re}.${s?"H":"L"}${T}.B0`,params:{general_tier_flag:s,general_profile_idc:a,general_profile_space:i,general_profile_compatibility_flags:[l,u,d,f],general_constraint_indicator_flags:[p,g,v,y,x,b],general_level_idc:T,bit_depth:_+8,bit_depth_luma_minus8:_,bit_depth_chroma_minus8:K,min_spatial_segmentation_idc:U,chroma_format_idc:R,frame_rate:{fixed:re,fps:ee/Q}},width:Be,height:Me,pixelRatio:[Y,ne]}}readPPS(e){const n=new hd(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const i=n.readBoolean(),s=n.readBoolean();let a=1;return s&&i?a=0:s?a=3:i&&(a=2),{parallelismType:a}}matchSPS(e,n){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const br=188;class za{constructor(e,n,r,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=i,this.videoParser=null}static probe(e,n){const r=za.syncOffset(e);return r>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const n=e.length;let r=Math.min(br*5,n-br)+1,i=0;for(;i<r;){let s=!1,a=-1,l=0;for(let u=i;u<n;u+=br)if(e[u]===71&&(n-u===br||e[u+br]===71)){if(l++,a===-1&&(a=u,a!==0&&(r=Math.min(a+br*99,e.length-br)+1)),s||(s=Ux(e,u)===0),s&&l>1&&(a===0&&l>2||u+br>r))return a}else{if(l)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:bD[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=za.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=za.createTrack("audio",i),this._id3Track=za.createTrack("id3"),this._txtTrack=za.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const a=this._videoTrack,l=this._audioTrack,u=this._id3Track,d=this._txtTrack;let f=a.pid,p=a.pesData,g=l.pid,v=u.pid,y=l.pesData,x=u.pesData,b=null,T=this.pmtParsed,w=this._pmtId,C=e.length;if(this.remainderData&&(e=qi(this.remainderData,e),C=e.length,this.remainderData=null),C<br&&!i)return this.remainderData=e,{audioTrack:l,videoTrack:a,id3Track:u,textTrack:d};const R=Math.max(0,za.syncOffset(e));C-=(C-R)%br,C<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,C,e.buffer.byteLength-C));let L=0;for(let k=R;k<C;k+=br)if(e[k]===71){const P=!!(e[k+1]&64),F=Ux(e,k),O=(e[k+3]&48)>>4;let $;if(O>1){if($=k+5+e[k+4],$===k+br)continue}else $=k+4;switch(F){case f:P&&(p&&(s=Zl(p,this.logger))&&(this.readyVideoParser(a.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(a,d,s,!1)),p={data:[],size:0}),p&&(p.data.push(e.subarray($,k+br)),p.size+=k+br-$);break;case g:if(P){if(y&&(s=Zl(y,this.logger)))switch(l.segmentCodec){case"aac":this.parseAACPES(l,s);break;case"mp3":this.parseMPEGPES(l,s);break;case"ac3":this.parseAC3PES(l,s);break}y={data:[],size:0}}y&&(y.data.push(e.subarray($,k+br)),y.size+=k+br-$);break;case v:P&&(x&&(s=Zl(x,this.logger))&&this.parseID3PES(u,s),x={data:[],size:0}),x&&(x.data.push(e.subarray($,k+br)),x.size+=k+br-$);break;case 0:P&&($+=e[$]+1),w=this._pmtId=lQ(e,$);break;case w:{P&&($+=e[$]+1);const _=cQ(e,$,this.typeSupported,r,this.observer,this.logger);f=_.videoPid,f>0&&(a.pid=f,a.segmentCodec=_.segmentVideoCodec),g=_.audioPid,g>0&&(l.pid=g,l.segmentCodec=_.segmentAudioCodec),v=_.id3Pid,v>0&&(u.pid=v),b!==null&&!T&&(this.logger.warn(`MPEG-TS PMT found at ${k} after unknown PID '${b}'. Backtracking to sync byte @${R} to parse all TS packets.`),b=null,k=R-188),T=this.pmtParsed=!0;break}case 17:case 8191:break;default:b=F;break}}else L++;L>0&&zx(this.observer,new Error(`Found ${L} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=p,l.pesData=y,u.pesData=x;const D={audioTrack:l,videoTrack:a,id3Track:u,textTrack:d};return i&&this.extractRemainingSamples(D),D}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,a=r.pesData,l=n.pesData,u=i.pesData;let d;if(a&&(d=Zl(a,this.logger))?(this.readyVideoParser(r.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(r,s,d,!0),r.pesData=null)):r.pesData=a,l&&(d=Zl(l,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,d);break;case"mp3":this.parseMPEGPES(n,d);break;case"ac3":this.parseAC3PES(n,d);break}n.pesData=null}else l!=null&&l.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=l;u&&(d=Zl(u,this.logger))?(this.parseID3PES(i,d),i.pesData=null):i.pesData=u}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new sQ(this.observer,this.config,n);return this.decrypt(i,s)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new aQ:e==="hevc"&&(this.videoParser=new oQ))}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const p=i.missing,g=i.sample.unit.byteLength;if(p===-1)s=qi(i.sample.unit,s);else{const v=g-p;i.sample.unit.set(s.subarray(0,p),v),e.samples.push(i.sample),r=i.missing}}let a,l;for(a=r,l=s.length;a<l-1&&!rm(s,a);a++);if(a!==r){let p;const g=a<l-1;if(g?p=`AAC PES did not start with ADTS header,offset:${a}`:p="No ADTS header found in AAC PES",zx(this.observer,new Error(p),g,this.logger),!g)return}r_(e,this.observer,s,a,this.audioCodec);let u;if(n.pts!==void 0)u=n.pts;else if(i){const p=i_(e.samplerate);u=i.sample.pts+p}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let d=0,f;for(;a<l;)if(f=s_(e,s,a,u,d),a+=f.length,f.missing){this.aacOverFlow=f;break}else for(d++;a<l-1&&!rm(s,a);a++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,a=0;const l=n.pts;if(l===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(u_(r,a)){const u=l_(e,r,a,l,s);if(u)a+=u.length,s++;else break}else a++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let a=0,l=0,u;for(;l<s&&(u=h_(e,r,l,i,a++))>0;)l+=u}}parseID3PES(e,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Cn({},n,{type:this._videoTrack?Si.emsg:Si.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function Ux(t,e){return((t[e+1]&31)<<8)+t[e+2]}function lQ(t,e){return(t[e+10]&31)<<8|t[e+11]}function cQ(t,e,n,r,i,s){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},l=(t[e+1]&15)<<8|t[e+2],u=e+3+l-4,d=(t[e+10]&15)<<8|t[e+11];for(e+=12+d;e<u;){const f=Ux(t,e),p=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){yy("ADTS AAC",s);break}case 15:a.audioPid===-1&&(a.audioPid=f);break;case 21:a.id3Pid===-1&&(a.id3Pid=f);break;case 219:if(!r){yy("H.264",s);break}case 27:a.videoPid===-1&&(a.videoPid=f);break;case 3:case 4:!n.mpeg&&!n.mp3?s.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=f,a.segmentAudioCodec="mp3");break;case 193:if(!r){yy("AC-3",s);break}case 129:n.ac3?a.audioPid===-1&&(a.audioPid=f,a.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&p>0){let g=e+5,v=p;for(;v>2;){switch(t[g]){case 106:n.ac3!==!0?s.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=f,a.segmentAudioCodec="ac3");break}const x=t[g+1]+2;g+=x,v-=x}}break;case 194:case 135:return zx(i,new Error("Unsupported EC-3 in M2TS found"),void 0,s),a;case 36:a.videoPid===-1&&(a.videoPid=f,a.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"));break}e+=p+5}return a}function zx(t,e,n,r){r.warn(`parsing error: ${e.message}`),t.emit(M.ERROR,M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function yy(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Zl(t,e){let n=0,r,i,s,a,l;const u=t.data;if(!t||t.size===0)return null;for(;u[0].length<19&&u.length>1;)u[0]=qi(u[0],u[1]),u.splice(1,1);if(r=u[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(i=(r[4]<<8)+r[5],i&&i>t.size-6)return null;const f=r[7];f&192&&(a=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,f&64?(l=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,a-l>60*9e4&&(e.warn(`${Math.round((a-l)/9e4)}s delta between PTS and DTS, align them`),a=l)):l=a),s=r[8];let p=s+9;if(t.size<=p)return null;t.size-=p;const g=new Uint8Array(t.size);for(let v=0,y=u.length;v<y;v++){r=u[v];let x=r.byteLength;if(p)if(p>x){p-=x;continue}else r=r.subarray(p),x-=p,p=0;g.set(r,n),n+=x}return i&&(i-=s+3),{data:g,pts:a,dts:l,len:i}}return null}class uQ{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Ba=Math.pow(2,32)-1;class ae{static init(){ae.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in ae.types)ae.types.hasOwnProperty(e)&&(ae.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);ae.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);ae.STTS=ae.STSC=ae.STCO=s,ae.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ae.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ae.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ae.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),l=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);ae.FTYP=ae.box(ae.types.ftyp,a,u,a,l),ae.DINF=ae.box(ae.types.dinf,ae.box(ae.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const a=new Uint8Array(r);for(a[0]=r>>24&255,a[1]=r>>16&255,a[2]=r>>8&255,a[3]=r&255,a.set(e,4),i=0,r=8;i<s;i++)a.set(n[i],r),r+=n[i].byteLength;return a}static hdlr(e){return ae.box(ae.types.hdlr,ae.HDLR_TYPES[e])}static mdat(e){return ae.box(ae.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(Ba+1)),i=Math.floor(n%(Ba+1));return ae.box(ae.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return ae.box(ae.types.mdia,ae.mdhd(e.timescale||0,e.duration||0),ae.hdlr(e.type),ae.minf(e))}static mfhd(e){return ae.box(ae.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?ae.box(ae.types.minf,ae.box(ae.types.smhd,ae.SMHD),ae.DINF,ae.stbl(e)):ae.box(ae.types.minf,ae.box(ae.types.vmhd,ae.VMHD),ae.DINF,ae.stbl(e))}static moof(e,n,r){return ae.box(ae.types.moof,ae.mfhd(e),ae.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=ae.trak(e[n]);return ae.box.apply(null,[ae.types.moov,ae.mvhd(e[0].timescale||0,e[0].duration||0)].concat(r).concat(ae.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=ae.trex(e[n]);return ae.box.apply(null,[ae.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(Ba+1)),i=Math.floor(n%(Ba+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ae.box(ae.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return ae.box(ae.types.sdtp,r)}static stbl(e){return ae.box(ae.types.stbl,ae.stsd(e),ae.box(ae.types.stts,ae.STTS),ae.box(ae.types.stsc,ae.STSC),ae.box(ae.types.stsz,ae.STSZ),ae.box(ae.types.stco,ae.STCO))}static avc1(e){let n=[],r=[],i,s,a;for(i=0;i<e.sps.length;i++)s=e.sps[i],a=s.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],a=s.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(s));const l=ae.box(ae.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),u=e.width,d=e.height,f=e.pixelRatio[0],p=e.pixelRatio[1];return ae.box(ae.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,ae.box(ae.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ae.box(ae.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,f&255,p>>24,p>>16&255,p>>8&255,p&255])))}static esds(e){const n=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(e){const n=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return ae.box(ae.types.mp4a,ae.audioStsd(e),ae.box(ae.types.esds,ae.esds(e)))}static mp3(e){return ae.box(ae.types[".mp3"],ae.audioStsd(e))}static ac3(e){return ae.box(ae.types["ac-3"],ae.audioStsd(e),ae.box(ae.types.dac3,e.config))}static stsd(e){const{segmentCodec:n}=e;if(e.type==="audio"){if(n==="aac")return ae.box(ae.types.stsd,ae.STSD,ae.mp4a(e));if(n==="ac3"&&e.config)return ae.box(ae.types.stsd,ae.STSD,ae.ac3(e));if(n==="mp3"&&e.codec==="mp3")return ae.box(ae.types.stsd,ae.STSD,ae.mp3(e))}else if(e.pps&&e.sps){if(n==="avc")return ae.box(ae.types.stsd,ae.STSD,ae.avc1(e));if(n==="hevc"&&e.vps)return ae.box(ae.types.stsd,ae.STSD,ae.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${n}/${e.codec})`)}static tkhd(e){const n=e.id,r=(e.duration||0)*(e.timescale||0),i=e.width||0,s=e.height||0,a=Math.floor(r/(Ba+1)),l=Math.floor(r%(Ba+1));return ae.box(ae.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,l>>24,l>>16&255,l>>8&255,l&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=ae.sdtp(e),i=e.id,s=Math.floor(n/(Ba+1)),a=Math.floor(n%(Ba+1));return ae.box(ae.types.traf,ae.box(ae.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),ae.box(ae.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),ae.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,ae.box(ae.types.trak,ae.tkhd(e),ae.mdia(e))}static trex(e){const n=e.id;return ae.box(ae.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,a=new Uint8Array(s);let l,u,d,f,p,g;for(n+=8+s,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),l=0;l<i;l++)u=r[l],d=u.duration,f=u.size,p=u.flags,g=u.cts,a.set([d>>>24&255,d>>>16&255,d>>>8&255,d&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,p.isLeading<<2|p.dependsOn,p.isDependedOn<<6|p.hasRedundancy<<4|p.paddingValue<<1|p.isNonSync,p.degradPrio&61440,p.degradPrio&15,g>>>24&255,g>>>16&255,g>>>8&255,g&255],12+16*l);return ae.box(ae.types.trun,a)}static initSegment(e){ae.types||ae.init();const n=ae.moov(e);return qi(ae.FTYP,n)}static hvc1(e){const n=e.params,r=[e.vps,e.sps,e.pps],i=4,s=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),i-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),r.length]);let a=s.length;for(let y=0;y<r.length;y+=1){a+=3;for(let x=0;x<r[y].length;x+=1)a+=2+r[y][x].length}const l=new Uint8Array(a);l.set(s,0),a=s.length;const u=r.length-1;for(let y=0;y<r.length;y+=1){l.set(new Uint8Array([32+y|(y===u?128:0),0,r[y].length]),a),a+=3;for(let x=0;x<r[y].length;x+=1)l.set(new Uint8Array([r[y][x].length>>8,r[y][x].length&255]),a),a+=2,l.set(r[y][x],a),a+=r[y][x].length}const d=ae.box(ae.types.hvcC,l),f=e.width,p=e.height,g=e.pixelRatio[0],v=e.pixelRatio[1];return ae.box(ae.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>8&255,f&255,p>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d,ae.box(ae.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ae.box(ae.types.pasp,new Uint8Array([g>>24,g>>16&255,g>>8&255,g&255,v>>24,v>>16&255,v>>8&255,v&255])))}}ae.types=void 0;ae.HDLR_TYPES=void 0;ae.STTS=void 0;ae.STSC=void 0;ae.STCO=void 0;ae.STSZ=void 0;ae.VMHD=void 0;ae.SMHD=void 0;ae.STSD=void 0;ae.FTYP=void 0;ae.DINF=void 0;const m_=9e4;function T1(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function dQ(t,e,n=1,r=!1){return T1(t,e,1/n,r)}function Wu(t,e=!1){return T1(t,1e3,1/m_,e)}function fQ(t,e=1){return T1(t,m_,1/e)}function w2(t){const{baseTime:e,timescale:n,trackId:r}=t;return`${e/n} (${e}/${n}) trackId: ${r}`}const hQ=10*1e3,pQ=1024,mQ=1152,gQ=1536;let Jl=null,xy=null;function A2(t,e,n,r){return{duration:e,size:n,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class dp extends Qi{constructor(e,n,r,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Jl===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jl=a?parseInt(a[1]):0}if(xy===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);xy=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const n=this._initPTS;(!n||!e||e.trackId!==n.trackId||e.baseTime!==n.baseTime||e.timescale!==n.timescale)&&this.log(`Reset initPTS: ${n&&w2(n)} > ${e&&w2(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,i=e.reduce((s,a)=>{let l=a.pts,u=l-s;return u<-4294967296&&(n=!0,l=gi(l,r),u=l-s),u>0?s:l},r);return n&&this.debug("PTS rollover detected"),i}remux(e,n,r,i,s,a,l,u){let d,f,p,g,v,y,x=s,b=s;const T=e.pid>-1,w=n.pid>-1,C=n.samples.length,R=e.samples.length>0,L=l&&C>0||C>1;if((!T||R)&&(!w||L)||this.ISGenerated||l){if(this.ISGenerated){var k,P,F,O;const z=this.videoTrackConfig;(z&&(n.width!==z.width||n.height!==z.height||((k=n.pixelRatio)==null?void 0:k[0])!==((P=z.pixelRatio)==null?void 0:P[0])||((F=n.pixelRatio)==null?void 0:F[1])!==((O=z.pixelRatio)==null?void 0:O[1]))||!z&&L||this.nextAudioTs===null&&R)&&this.resetInitSegment()}this.ISGenerated||(p=this.generateIS(e,n,s,a));const $=this.isVideoContiguous;let _=-1,K;if(L&&(_=vQ(n.samples),!$&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,_>0){this.warn(`Dropped ${_} out of ${C} video samples due to a missing keyframe`);const z=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(_),n.dropped+=_,b+=(n.samples[0].pts-z)/n.inputTimeScale,K=b}else _===-1&&(this.warn(`No keyframe found out of ${C} video samples`),y=!1);if(this.ISGenerated){if(R&&L){const z=this.getVideoStartPts(n.samples),N=(gi(e.samples[0].pts,z)-z)/n.inputTimeScale;x+=Math.max(0,N),b+=Math.max(0,-N)}if(R){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),p=this.generateIS(e,n,s,a)),f=this.remuxAudio(e,x,this.isAudioContiguous,a,w||L||u===ct.AUDIO?b:void 0),L){const z=f?f.endPTS-f.startPTS:0;n.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),p=this.generateIS(e,n,s,a)),d=this.remuxVideo(n,b,$,z)}}else L&&(d=this.remuxVideo(n,b,$,0));d&&(d.firstKeyFrame=_,d.independent=_!==-1,d.firstKeyFramePTS=K)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(v=g_(r,s,this._initPTS,this._initDTS)),i.samples.length&&(g=v_(i,s,this._initPTS))),{audio:f,video:d,initSegment:p,independent:y,text:g,id3:v}}computeInitPts(e,n,r,i){const s=Math.round(r*n);let a=gi(e,s);if(a<s+n)for(this.log(`Adjusting PTS for rollover in timeline near ${(s-a)/n} ${i}`);a<s+n;)a+=8589934592;return a-s}generateIS(e,n,r,i){const s=e.samples,a=n.samples,l=this.typeSupported,u={},d=this._initPTS;let f=!d||i,p="audio/mp4",g,v,y,x=-1;if(f&&(g=v=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":l.mpeg?(p="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}u.audio={id:"audio",container:p,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&l.mpeg?new Uint8Array(0):ae.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(x=e.id,y=e.inputTimeScale,!d||y!==d.timescale?g=v=this.computeInitPts(s[0].pts,y,r,"audio"):f=!1)}if(n.sps&&n.pps&&a.length){if(n.timescale=n.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:ae.initSegment([n]),metadata:{width:n.width,height:n.height}},f)if(x=n.id,y=n.inputTimeScale,!d||y!==d.timescale){const b=this.getVideoStartPts(a),T=gi(a[0].dts,b),w=this.computeInitPts(T,y,r,"video"),C=this.computeInitPts(b,y,r,"video");v=Math.min(v,w),g=Math.min(g,C)}else f=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,f?(d&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${r} ${g/y} != initPTS: ${d.baseTime/d.timescale} (${d.baseTime}/${d.timescale}) trackId: ${d.trackId}`),this.log(`Found initPTS at playlist time: ${r} offset: ${g/y} (${g}/${y}) trackId: ${x}`),this._initPTS={baseTime:g,timescale:y,trackId:x},this._initDTS={baseTime:v,timescale:y,trackId:x}):g=y=void 0,{tracks:u,initPTS:g,timescale:y,trackId:x}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,a=e.samples,l=[],u=a.length,d=this._initPTS,f=d.baseTime*s/d.timescale;let p=this.nextVideoTs,g=8,v=this.videoSampleDuration,y,x,b=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,w=!1;if(!r||p===null){const U=f+n*s,Y=a[0].pts-gi(a[0].dts,a[0].pts);Jl&&p!==null&&Math.abs(U-Y-(p+f))<15e3?r=!0:p=U-Y-f}const C=p+f;for(let U=0;U<u;U++){const Y=a[U];Y.pts=gi(Y.pts,C),Y.dts=gi(Y.dts,C),Y.dts<a[U>0?U-1:U].dts&&(w=!0)}w&&a.sort(function(U,Y){const ne=U.dts-Y.dts,re=U.pts-Y.pts;return ne||re}),y=a[0].dts,x=a[a.length-1].dts;const R=x-y,L=R?Math.round(R/(u-1)):v||e.inputTimeScale/30;if(r){const U=y-C,Y=U>L,ne=U<-1;if((Y||ne)&&(Y?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Wu(U,!0)} ms (${U}dts) hole between fragments detected at ${n.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Wu(-U,!0)} ms (${U}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!ne||C>=a[0].pts||Jl)){y=C;const re=a[0].pts-U;if(Y)a[0].dts=y,a[0].pts=re;else{let Q=!0;for(let ee=0;ee<a.length&&!(a[ee].dts>re&&Q);ee++){const Oe=a[ee].pts;if(a[ee].dts-=U,a[ee].pts-=U,ee<a.length-1){const De=a[ee+1].pts,Be=a[ee].pts,Me=De<=Be,Ye=De<=Oe;Q=Me==Ye}}}this.log(`Video: Initial PTS/DTS adjusted: ${Wu(re,!0)}/${Wu(y,!0)}, delta: ${Wu(U,!0)} ms`)}}y=Math.max(0,y);let D=0,k=0,P=y;for(let U=0;U<u;U++){const Y=a[U],ne=Y.units,re=ne.length;let Q=0;for(let ee=0;ee<re;ee++)Q+=ne[ee].data.length;k+=Q,D+=re,Y.length=Q,Y.dts<P?(Y.dts=P,P+=L/4|0||1):P=Y.dts,b=Math.min(Y.pts,b),T=Math.max(Y.pts,T)}x=a[u-1].dts;const F=k+4*D+8;let O;try{O=new Uint8Array(F)}catch(U){this.observer.emit(M.ERROR,M.ERROR,{type:vt.MUX_ERROR,details:oe.REMUX_ALLOC_ERROR,fatal:!1,error:U,bytes:F,reason:`fail allocating video mdat ${F}`});return}const $=new DataView(O.buffer);$.setUint32(0,F),O.set(ae.types.mdat,4);let _=!1,K=Number.POSITIVE_INFINITY,z=Number.POSITIVE_INFINITY,G=Number.NEGATIVE_INFINITY,N=Number.NEGATIVE_INFINITY;for(let U=0;U<u;U++){const Y=a[U],ne=Y.units;let re=0;for(let Oe=0,De=ne.length;Oe<De;Oe++){const Be=ne[Oe],Me=Be.data,Ye=Be.data.byteLength;$.setUint32(g,Ye),g+=4,O.set(Me,g),g+=Ye,re+=4+Ye}let Q;if(U<u-1)v=a[U+1].dts-Y.dts,Q=a[U+1].pts-Y.pts;else{const Oe=this.config,De=U>0?Y.dts-a[U-1].dts:L;if(Q=U>0?Y.pts-a[U-1].pts:L,Oe.stretchShortVideoTrack&&this.nextAudioTs!==null){const Be=Math.floor(Oe.maxBufferHole*s),Me=(i?b+i*s:this.nextAudioTs+f)-Y.pts;Me>Be?(v=Me-De,v<0?v=De:_=!0,this.log(`It is approximately ${Me/90} ms to the next segment; using duration ${v/90} ms for the last video frame.`)):v=De}else v=De}const ee=Math.round(Y.pts-Y.dts);K=Math.min(K,v),G=Math.max(G,v),z=Math.min(z,Q),N=Math.max(N,Q),l.push(A2(Y.key,v,re,ee))}if(l.length){if(Jl){if(Jl<70){const U=l[0].flags;U.dependsOn=2,U.isNonSync=0}}else if(xy&&N-z<G-K&&L/G<.025&&l[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let U=y;for(let Y=0,ne=l.length;Y<ne;Y++){const re=U+l[Y].duration,Q=U+l[Y].cts;if(Y<ne-1){const ee=re+l[Y+1].cts;l[Y].duration=ee-Q}else l[Y].duration=Y?l[Y-1].duration:L;l[Y].cts=0,U=re}}}v=_||!v?L:v;const q=x+v;this.nextVideoTs=p=q-f,this.videoSampleDuration=v,this.isVideoContiguous=!0;const j={data1:ae.moof(e.sequenceNumber++,y,Cn(e,{samples:l})),data2:O,startPTS:(b-f)/s,endPTS:(T+v-f)/s,startDTS:(y-f)/s,endDTS:p/s,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,j}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return mQ;case"ac3":return gQ;default:return pQ}}remuxAudio(e,n,r,i,s){const a=e.inputTimeScale,l=e.samplerate?e.samplerate:a,u=a/l,d=this.getSamplesPerFrame(e),f=d*u,p=this._initPTS,g=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,v=[],y=s!==void 0;let x=e.samples,b=g?0:8,T=this.nextAudioTs||-1;const w=p.baseTime*a/p.timescale,C=w+n*a;if(this.isAudioContiguous=r=r||x.length&&T>0&&(i&&Math.abs(C-(T+w))<9e3||Math.abs(gi(x[0].pts,C)-(T+w))<20*f),x.forEach(function(N){N.pts=gi(N.pts,C)}),!r||T<0){const N=x.length;if(x=x.filter(q=>q.pts>=0),N!==x.length&&this.warn(`Removed ${x.length-N} of ${N} samples (initPTS ${w} / ${a})`),!x.length)return;s===0?T=0:i&&!y?T=Math.max(0,C-w):T=x[0].pts-w}if(e.segmentCodec==="aac"){const N=this.config.maxAudioFramesDrift;for(let q=0,H=T+w;q<x.length;q++){const W=x[q],j=W.pts,U=j-H,Y=Math.abs(1e3*U/a);if(U<=-N*f&&y)q===0&&(this.warn(`Audio frame @ ${(j/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*U/a)} ms.`),this.nextAudioTs=T=j-w,H=j);else if(U>=N*f&&Y<hQ&&y){let ne=Math.round(U/f);for(H=j-ne*f;H<0&&ne&&f;)ne--,H+=f;q===0&&(this.nextAudioTs=T=H-w),this.warn(`Injecting ${ne} audio frames @ ${((H-w)/a).toFixed(3)}s due to ${Math.round(1e3*U/a)} ms gap.`);for(let re=0;re<ne;re++){let Q=uQ.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Q||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Q=W.unit.subarray()),x.splice(q,0,{unit:Q,pts:H}),H+=f,q++}}W.pts=H,H+=f}}let R=null,L=null,D,k=0,P=x.length;for(;P--;)k+=x[P].unit.byteLength;for(let N=0,q=x.length;N<q;N++){const H=x[N],W=H.unit;let j=H.pts;if(L!==null){const Y=v[N-1];Y.duration=Math.round((j-L)/u)}else if(r&&e.segmentCodec==="aac"&&(j=T+w),R=j,k>0){k+=b;try{D=new Uint8Array(k)}catch(Y){this.observer.emit(M.ERROR,M.ERROR,{type:vt.MUX_ERROR,details:oe.REMUX_ALLOC_ERROR,fatal:!1,error:Y,bytes:k,reason:`fail allocating audio mdat ${k}`});return}g||(new DataView(D.buffer).setUint32(0,k),D.set(ae.types.mdat,4))}else return;D.set(W,b);const U=W.byteLength;b+=U,v.push(A2(!0,d,U,0)),L=j}const F=v.length;if(!F)return;const O=v[v.length-1];T=L-w,this.nextAudioTs=T+u*O.duration;const $=g?new Uint8Array(0):ae.moof(e.sequenceNumber++,R/u,Cn({},e,{samples:v}));e.samples=[];const _=(R-w)/a,K=T/a,G={data1:$,data2:D,startPTS:_,endPTS:K,startDTS:_,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:F};return this.isAudioContiguous=!0,G}}function gi(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function vQ(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function g_(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let l=0;l<i;l++){const u=t.samples[l];u.pts=gi(u.pts-n.baseTime*s/n.timescale,e*s)/s,u.dts=gi(u.dts-r.baseTime*s/r.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function v_(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let a=0;a<r;a++){const l=t.samples[a];l.pts=gi(l.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((a,l)=>a.pts-l.pts);const s=t.samples;return t.samples=[],{samples:s}}class yQ extends Qi{constructor(e,n,r,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const n=this.initPTS;n&&e&&n.baseTime===e.baseTime&&n.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,n){let{audioCodec:r,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:s,video:a}=this.initData=TD(e);if(n)sY(e,n);else{const u=s||a;u!=null&&u.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${u.codec}")!`)}s&&(r=R2(s,Ln.AUDIO,this)),a&&(i=R2(a,Ln.VIDEO,this));const l={};s&&a?l.audiovideo={container:"video/mp4",codec:r+","+i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:s?l.audio={container:"audio/mp4",codec:r,encrypted:s.encrypted,initSegment:e,id:"audio"}:a?l.video={container:"video/mp4",codec:i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=l}remux(e,n,r,i,s,a){var l,u;let{initPTS:d,lastEndTime:f}=this;const p={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};Je(f)||(f=this.lastEndTime=s||0);const g=n.samples;if(!g.length)return p;const v={initPTS:void 0,timescale:void 0,trackId:void 0};let y=this.initData;if((l=y)!=null&&l.length||(this.generateInitSegment(g),y=this.initData),!((u=y)!=null&&u.length))return this.warn("Failed to generate initSegment."),p;this.emitInitSegment&&(v.tracks=this.initTracks,this.emitInitSegment=!1);const x=oY(g,y,this),b=y.audio?x[y.audio.id]:null,T=y.video?x[y.video.id]:null,w=Hh(T,1/0),C=Hh(b,1/0),R=Hh(T,0,!0),L=Hh(b,0,!0);let D=s,k=0;const P=b&&(!T||!d&&C<w||d&&d.trackId===y.audio.id),F=P?b:T;if(F){const H=F.timescale,W=F.start-s*H,j=P?y.audio.id:y.video.id;D=F.start/H,k=P?L-C:R-w,(a||!d)&&(xQ(d,D,s,k)||H!==d.timescale)&&(d&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${s} ${W/H} != initPTS: ${d.baseTime/d.timescale} (${d.baseTime}/${d.timescale}) trackId: ${d.trackId}`),this.log(`Found initPTS at playlist time: ${s} offset: ${D-s} (${W}/${H}) trackId: ${j}`),d=null,v.initPTS=W,v.timescale=H,v.trackId=j)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${s}`);d?(v.initPTS=d.baseTime,v.timescale=d.timescale,v.trackId=d.trackId):((!v.timescale||v.trackId===void 0||v.initPTS===void 0)&&(this.warn("Could not set initPTS"),v.initPTS=D,v.timescale=1,v.trackId=-1),this.initPTS=d={baseTime:v.initPTS,timescale:v.timescale,trackId:v.trackId});const O=D-d.baseTime/d.timescale,$=O+k;k>0?this.lastEndTime=$:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const _=!!y.audio,K=!!y.video;let z="";_&&(z+="audio"),K&&(z+="video");const G=(y.audio?y.audio.encrypted:!1)||(y.video?y.video.encrypted:!1),N={data1:g,startPTS:O,startDTS:O,endPTS:$,endDTS:$,type:z,hasAudio:_,hasVideo:K,nb:1,dropped:0,encrypted:G};p.audio=_&&!K?N:void 0,p.video=K?N:void 0;const q=T?.sampleCount;if(q){const H=T.keyFrameIndex,W=H!==-1;N.nb=q,N.dropped=H===0||this.isVideoContiguous?0:W?H:q,N.independent=W,N.firstKeyFrame=H,W&&T.keyFrameStart&&(N.firstKeyFramePTS=(T.keyFrameStart-d.baseTime)/d.timescale),this.isVideoContiguous||(p.independent=W),this.isVideoContiguous||(this.isVideoContiguous=W),N.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${H}/${q} dropped: ${N.dropped} start: ${N.firstKeyFramePTS||"NA"}`)}return p.initSegment=v,p.id3=g_(r,s,d,d),i.samples.length&&(p.text=v_(i,s,d)),p}}function Hh(t,e,n=!1){return t?.start!==void 0?(t.start+(n?t.duration:0))/t.timescale:e}function xQ(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function R2(t,e,n){const r=t.codec;return r&&r.length>4?r:e===Ln.AUDIO?r==="ec-3"||r==="ac-3"||r==="alac"?r:r==="fLaC"||r==="Opus"?Yp(r,!1):(n.warn(`Unhandled audio codec "${r}" in mp4 MAP`),r||"mp4a"):(n.warn(`Unhandled video codec "${r}" in mp4 MAP`),r||"avc1")}let aa;try{aa=self.performance.now.bind(self.performance)}catch{aa=Date.now}const fp=[{demux:iQ,remux:yQ},{demux:za,remux:dp},{demux:eQ,remux:dp},{demux:nQ,remux:dp}];fp.splice(2,0,{demux:tQ,remux:dp});class L2{constructor(e,n,r,i,s,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.id=s,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=aa();let a=new Uint8Array(e);const{currentTransmuxState:l,transmuxConfig:u}=this;i&&(this.currentTransmuxState=i);const{contiguous:d,discontinuity:f,trackSwitch:p,accurateTimeOffset:g,timeOffset:v,initSegmentChange:y}=i||l,{audioCodec:x,videoCodec:b,defaultInitPts:T,duration:w,initSegmentData:C}=u,R=bQ(a,n);if(R&&fc(R.method)){const P=this.getDecrypter(),F=p1(R.method);if(P.isSync()){let O=P.softwareDecrypt(a,R.key.buffer,R.iv.buffer,F);if(r.part>-1){const _=P.flush();O=_&&_.buffer}if(!O)return s.executeEnd=aa(),by(r);a=new Uint8Array(O)}else return this.asyncResult=!0,this.decryptionPromise=P.webCryptoDecrypt(a,R.key.buffer,R.iv.buffer,F).then(O=>{const $=this.push(O,null,r);return this.decryptionPromise=null,$}),this.decryptionPromise}const L=this.needsProbing(f,p);if(L){const P=this.configureTransmuxer(a);if(P)return this.logger.warn(`[transmuxer] ${P.message}`),this.observer.emit(M.ERROR,M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_PARSING_ERROR,fatal:!1,error:P,reason:P.message}),s.executeEnd=aa(),by(r)}(f||p||y||L)&&this.resetInitSegment(C,x,b,w,n),(f||y||L)&&this.resetInitialTimestamp(T),d||this.resetContiguity();const D=this.transmux(a,R,v,g,r);this.asyncResult=_d(D);const k=this.currentTransmuxState;return k.contiguous=!0,k.discontinuity=!1,k.trackSwitch=!1,s.executeEnd=aa(),D}flush(e){const n=e.transmuxing;n.executeStart=aa();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return this.asyncResult=!0,s.then(()=>this.flush(e));const a=[],{timeOffset:l}=i;if(r){const p=r.flush();p&&a.push(this.push(p.buffer,null,e))}const{demuxer:u,remuxer:d}=this;if(!u||!d){n.executeEnd=aa();const p=[by(e)];return this.asyncResult?Promise.resolve(p):p}const f=u.flush(l);return _d(f)?(this.asyncResult=!0,f.then(p=>(this.flushRemux(a,p,e),a))):(this.flushRemux(a,f,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:a,textTrack:l}=n,{accurateTimeOffset:u,timeOffset:d}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${r.sn}${r.part>-1?" part: "+r.part:""} of ${this.id===ct.MAIN?"level":"track"} ${r.level}`);const f=this.remuxer.remux(i,s,a,l,d,u,!0,this.id);e.push({remuxResult:f,chunkMeta:r}),r.transmuxing.executeEnd=aa()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:a,remuxer:l}=this;!a||!l||(a.resetInitSegment(e,n,r,i),l.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let a;return n&&n.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,n,r,i,s):a=this.transmuxUnencrypted(e,r,i,s),a}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:a,id3Track:l,textTrack:u}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,l,u,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i}=this;let s;for(let p=0,g=fp.length;p<g;p++){var a;if((a=fp[p].demux)!=null&&a.probe(e,this.logger)){s=fp[p];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,u=this.remuxer,d=s.remux,f=s.demux;(!u||!(u instanceof d))&&(this.remuxer=new d(r,n,i,this.logger)),(!l||!(l instanceof f))&&(this.demuxer=new f(r,n,i,this.logger),this.probe=f.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new f1(this.config)),e}}function bQ(t,e){let n=null;return t.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const by=t=>({remuxResult:{},chunkMeta:t});function _d(t){return"then"in t&&t.then instanceof Function}class SQ{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class EQ{constructor(e,n,r,i,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=a}}let I2=0;class y_{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=I2++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=u=>{const d=u.data,f=this.hls;if(!(!f||!(d!=null&&d.event)||d.instanceNo!==this.instanceNo))switch(d.event){case"init":{var p;const g=(p=this.workerContext)==null?void 0:p.objectURL;g&&self.URL.revokeObjectURL(g);break}case"transmuxComplete":{this.handleTransmuxComplete(d.data);break}case"flush":{this.onFlush(d.data);break}case"workerLog":{f.logger[d.data.logType]&&f.logger[d.data.logType](d.data.message);break}default:{d.data=d.data||{},d.data.frag=this.frag,d.data.part=this.part,d.data.id=this.id,f.trigger(d.event,d.data);break}}},this.onWorkerError=u=>{if(!this.hls)return;const d=new Error(`${u.message}  (${u.filename}:${u.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:d})};const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const a=(u,d)=>{d=d||{},d.frag=this.frag||void 0,u===M.ERROR&&(d=d,d.parent=this.id,d.part=this.part,this.error=d.error),this.hls.trigger(u,d)};this.observer=new v1,this.observer.on(M.FRAG_DECRYPTED,a),this.observer.on(M.ERROR,a);const l=GR(s.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const u=this.hls.logger;if(s.workerPath||AX()){try{s.workerPath?(u.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=LX(s.workerPath)):(u.log(`injecting Web Worker for "${n}"`),this.workerContext=RX());const{worker:f}=this.workerContext;f.addEventListener("message",this.onWorkerMessage),f.addEventListener("error",this.onWorkerError),f.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:l,id:n,config:In(s)})}catch(f){u.warn(`Error setting up "${n}" Web Worker, fallback to inline`,f),this.terminateWorker(),this.error=null,this.transmuxer=new L2(this.observer,l,s,"",n,e.logger)}return}}this.transmuxer=new L2(this.observer,l,s,"",n,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=I2++;const n=this.hls.config,r=GR(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:r,id:this.id,config:In(n)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),IX(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,n,r,i,s,a,l,u,d,f){var p,g;d.transmuxing.start=self.performance.now();const{instanceNo:v,transmuxer:y}=this,x=a?a.start:s.start,b=s.decryptdata,T=this.frag,w=!(T&&s.cc===T.cc),C=!(T&&d.level===T.level),R=T?d.sn-T.sn:-1,L=this.part?d.part-this.part.index:-1,D=R===0&&d.id>1&&d.id===T?.stats.chunkCount,k=!C&&(R===1||R===0&&(L===1||D&&L<=0)),P=self.performance.now();(C||R||s.stats.parsing.start===0)&&(s.stats.parsing.start=P),a&&(L||!k)&&(a.stats.parsing.start=P);const F=!(T&&((p=s.initSegment)==null?void 0:p.url)===((g=T.initSegment)==null?void 0:g.url)),O=new EQ(w,k,u,C,x,F);if(!k||w||F){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${s.type} sn: ${d.sn}${d.part>-1?" part: "+d.part:""} ${this.id===ct.MAIN?"level":"track"}: ${d.level} id: ${d.id}
        discontinuity: ${w}
        trackSwitch: ${C}
        contiguous: ${k}
        accurateTimeOffset: ${u}
        timeOffset: ${x}
        initSegmentChange: ${F}`);const $=new SQ(r,i,n,l,f);this.configureTransmuxer($)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:v,cmd:"demux",data:e,decryptdata:b,chunkMeta:d,state:O},e instanceof ArrayBuffer?[e]:[]);else if(y){const $=y.push(e,b,d,O);_d($)?$.then(_=>{this.handleTransmuxComplete(_)}).catch(_=>{this.transmuxerError(_,d,"transmuxer-interface push error")}):this.handleTransmuxComplete($)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:e});else if(r){const i=r.flush(e);_d(i)?i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}configureTransmuxer(e){const{instanceNo:n,transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const k2=100;class TQ extends g1{constructor(e,n,r){super(e,n,r,"audio-stream-controller",ct.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(M.BUFFER_RESET,this.onBufferReset,this),e.on(M.BUFFER_CREATED,this.onBufferCreated,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(M.FRAG_LOADING,this.onFragLoading,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(M.BUFFER_RESET,this.onBufferReset,this),e.off(M.BUFFER_CREATED,this.onBufferCreated,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(M.FRAG_LOADING,this.onFragLoading,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s,trackId:a}){if(r===ct.MAIN){const l=n.cc,u=this.fragCurrent;if(this.initPTS[l]={baseTime:i,timescale:s,trackId:a},this.log(`InitPTS for cc: ${l} found from main: ${i/s} (${i}/${s}) trackId: ${a}`),this.mainAnchor=n,this.state===Te.WAITING_INIT_PTS){const d=this.waitingData;(!d&&!this.loadingParts||d&&d.frag.cc!==l)&&this.syncWithAnchor(n,d?.frag)}else!this.hls.hasEnoughToStart&&u&&u.cc!==l?(u.abortRequests(),this.syncWithAnchor(n,u)):this.state===Te.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,n){var r;const i=((r=this.mainFragLoading)==null?void 0:r.frag)||null;if(n&&i?.cc===n.cc)return;const s=(i||e).cc,a=this.getLevelDetails(),l=this.getLoadPosition(),u=OD(a,s,l);u&&(this.log(`Syncing with main frag at ${u.start} cc ${u.cc}`),this.startFragRequested=!1,this.nextLoadPosition=u.start,this.resetLoadingState(),this.state===Te.IDLE&&this.doTickIdle())}startLoad(e,n){if(!this.levels){this.startPosition=e,this.state=Te.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(k2),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=Te.IDLE):this.state=Te.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}doTick(){switch(this.state){case Te.IDLE:this.doTickIdle();break;case Te.WAITING_TRACK:{const{levels:e,trackId:n}=this,r=e?.[n],i=r?.details;if(i&&!this.waitForLive(r)){if(this.waitForCdnTuneIn(i))break;this.state=Te.WAITING_INIT_PTS}break}case Te.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case Te.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:n,part:r,cache:i,complete:s}=e,a=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=Te.FRAG_LOADING;const l=i.flush().buffer,u={frag:n,part:r,payload:l,networkDetails:null};this._handleFragmentLoadProgress(u),s&&super._handleFragmentLoadComplete(u)}else a&&a.cc!==e.frag.cc&&this.syncWithAnchor(a,e.frag)}else this.state=Te.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:n,levels:r,media:i,trackId:s}=this,a=n.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(r!=null&&r[s]))return;const l=r[s],u=l.details;if(!u||this.waitForLive(l)||this.waitForCdnTuneIn(u)){this.state=Te.WAITING_TRACK,this.startFragRequested=!1;return}const d=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&d&&(this.bufferFlushed=!1,this.afterBufferFlushed(d,Ln.AUDIO,ct.AUDIO));const f=this.getFwdBufferInfo(d,ct.AUDIO);if(f===null)return;if(!this.switchingTrack&&this._streamEnded(f,u)){n.trigger(M.BUFFER_EOS,{type:"audio"}),this.state=Te.ENDED;return}const p=f.len,g=n.maxBufferLength,v=u.fragments,y=v[0].start,x=this.getLoadPosition(),b=this.flushing?x:f.end;if(this.switchingTrack&&i){const C=x;u.PTSKnown&&C<y&&(f.end>y||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=y+.05)}if(p>=g&&!this.switchingTrack&&b<v[v.length-1].start)return;let T=this.getNextFragment(b,u);if(T&&this.isLoopLoading(T,b)&&(T=this.getNextFragmentLoopLoading(T,u,f,ct.MAIN,g)),!T){this.bufferFlushed=!0;return}let w=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&w&&ur(T)&&!T.endList&&(!u.live||!this.loadingParts&&b<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(w)===gr.OK&&(this.mainFragLoading=w=null),w&&ur(w))){if(T.start>w.end){const R=this.fragmentTracker.getFragAtPos(b,ct.MAIN);R&&R.end>w.end&&(w=R,this.mainFragLoading={frag:R,targetBufferTime:null})}if(T.start>w.end)return}this.loadFragment(T,l,b)}onMediaDetaching(e,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,n)}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new Id(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==Te.STOPPED&&(this.setInterval(k2),this.state=Te.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,n){this.mainDetails=n.details;const r=this.cachedTrackLoadedData;r&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(M.AUDIO_TRACK_LOADED,r))}onAudioTrackLoaded(e,n){var r;const{levels:i}=this,{details:s,id:a,groupId:l,track:u}=n;if(!i){this.warn(`Audio tracks reset while loading track ${a} "${u.name}" of "${l}"`);return}const d=this.mainDetails;if(!d||s.endCC>d.endCC||d.expired){this.cachedTrackLoadedData=n,this.state!==Te.STOPPED&&(this.state=Te.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${u.name}" of "${l}" loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const f=i[a];let p=0;if(s.live||(r=f.details)!=null&&r.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;if(f.details){var g;p=this.alignPlaylists(s,f.details,(g=this.levelLastLoaded)==null?void 0:g.details)}s.alignedSliding||(ZD(s,d),s.alignedSliding||nm(s,d),p=s.fragmentStart)}f.details=s,this.levelLastLoaded=f,this.startFragRequested||this.setStartPosition(d,p),this.hls.trigger(M.AUDIO_TRACK_UPDATED,{details:s,id:a,groupId:n.groupId}),this.state===Te.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=Te.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:i,payload:s}=e,{config:a,trackId:l,levels:u}=this;if(!u){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const d=u[l];if(!d){this.warn("Audio track is undefined on fragment load progress");return}const f=d.details;if(!f){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const p=a.defaultAudioCodec||d.audioCodec||"mp4a.40.2";let g=this.transmuxer;g||(g=this.transmuxer=new y_(this.hls,ct.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const v=this.initPTS[r.cc],y=(n=r.initSegment)==null?void 0:n.data;if(v!==void 0){const b=i?i.index:-1,T=b!==-1,w=new h1(r.level,r.sn,r.stats.chunkCount,s.byteLength,b,T);g.push(s,y,p,"",r,i,f.totalduration,!1,w,v)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${f.startSN} ,${f.endSN}],track ${l}`);const{cache:x}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new JD,complete:!1};x.push(new Uint8Array(s)),this.state!==Te.STOPPED&&(this.state=Te.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,n){this.bufferFlushed=this.flushing=!1;const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null)}onFragLoading(e,n){!this.audioOnly&&n.frag.type===ct.MAIN&&ur(n.frag)&&(this.mainFragLoading=n,this.state===Te.IDLE&&this.tick())}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==ct.AUDIO){!this.audioOnly&&r.type===ct.MAIN&&!r.elementaryStreams.video&&!r.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(ur(r)){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(M.AUDIO_TRACK_SWITCHED,gn({},s)))}this.fragBufferedComplete(r,i),this.media&&this.tick()}onError(e,n){var r;if(n.fatal){this.state=Te.ERROR;return}switch(n.details){case oe.FRAG_GAP:case oe.FRAG_PARSING_ERROR:case oe.FRAG_DECRYPT_ERROR:case oe.FRAG_LOAD_ERROR:case oe.FRAG_LOAD_TIMEOUT:case oe.KEY_LOAD_ERROR:case oe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ct.AUDIO,n);break;case oe.AUDIO_TRACK_LOAD_ERROR:case oe.AUDIO_TRACK_LOAD_TIMEOUT:case oe.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===Te.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===Kt.AUDIO_TRACK&&(this.state=Te.IDLE);break;case oe.BUFFER_ADD_CODEC_ERROR:case oe.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)||this.resetLoadingState();break;case oe.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case oe.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==Ln.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==Ln.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Te.ENDED&&(this.state=Te.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,ct.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:u,part:d,level:f}=l,{details:p}=f,{audio:g,text:v,id3:y,initSegment:x}=s;if(this.fragContextChanged(u)||!p){this.fragmentTracker.removeFragment(u);return}if(this.state=Te.PARSING,this.switchingTrack&&g&&this.completeAudioSwitch(this.switchingTrack),x!=null&&x.tracks){const b=u.initSegment||u;if(this.unhandledEncryptionError(x,u))return;this._bufferInitSegment(f,x.tracks,b,a),i.trigger(M.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:r,tracks:x.tracks})}if(g){const{startPTS:b,endPTS:T,startDTS:w,endDTS:C}=g;d&&(d.elementaryStreams[Ln.AUDIO]={startPTS:b,endPTS:T,startDTS:w,endDTS:C}),u.setElementaryStreamInfo(Ln.AUDIO,b,T,w,C),this.bufferFragmentData(g,u,d,a)}if(y!=null&&(n=y.samples)!=null&&n.length){const b=Cn({id:r,frag:u,details:p},y);i.trigger(M.FRAG_PARSING_METADATA,b)}if(v){const b=Cn({id:r,frag:u,details:p},v);i.trigger(M.FRAG_PARSING_USERDATA,b)}}_bufferInitSegment(e,n,r,i){if(this.state!==Te.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const s=n.audio;s.id=ct.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${a}/${s.codec}]`),a&&a.split(",").length===1&&(s.levelCodec=a),this.hls.trigger(M.BUFFER_CODECS,n);const l=s.initSegment;if(l!=null&&l.byteLength){const u={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:l};this.hls.trigger(M.BUFFER_APPENDING,u)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===gr.NOT_LOADED||i===gr.PARTIAL){var s;if(!ur(e))this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Te.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==n.details.fragmentStart&&nm(n.details,a)}else super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:i,characteristics:s,audioCodec:a,channels:l}=this.bufferedTrack;Ko({name:n,lang:r,assocLang:i,characteristics:s,audioCodec:a,channels:l},e,_o)||(Qp(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(M.AUDIO_TRACK_SWITCHED,gn({},e))}}class C1 extends Qi{constructor(e,n){super(n,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n?.renditionReports;if(i){let s=-1;for(let a=0;a<i.length;a++){const l=i[a];let u;try{u=new self.URL(l.URI,n.url).href}catch(d){this.warn(`Could not construct new URL for Rendition Report: ${d}`),u=l.URI||""}if(u===e){s=a;break}else u===e.substring(0,u.length)&&(s=a)}if(s!==-1){const a=i[s],l=parseInt(a["LAST-MSN"])||n.lastPartSn;let u=parseInt(a["LAST-PART"])||n.lastPartIndex;if(this.hls.config.lowLatencyMode){const f=Math.min(n.age-n.partTarget,n.targetduration);u>=0&&f>n.partTarget&&(u+=1)}const d=r&&VR(r);return new KR(l,u>=0?u:void 0,d)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,n){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,n){if(n)try{return n.addDirectives(e)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}return e}playlistLoaded(e,n,r){const{details:i,stats:s}=n,a=self.performance.now(),l=s.loading.first?Math.max(0,a-s.loading.first):0;i.advancedDateTime=Date.now()-l;const u=this.hls.config.timelineOffset;if(u!==i.appliedTimelineOffset){const f=Math.max(u||0,0);i.appliedTimelineOffset=f,i.fragments.forEach(p=>{p.setStart(p.playlistOffset+f)})}if(i.live||r!=null&&r.live){const f="levelInfo"in n?n.levelInfo:n.track;if(i.reloaded(r),r&&i.fragments.length>0){mX(r,i,this);const w=i.playlistParsingError;if(w){this.warn(w);const C=this.hls;if(!C.config.ignorePlaylistParsingErrors){var d;const{networkDetails:R}=n;C.trigger(M.ERROR,{type:vt.NETWORK_ERROR,details:oe.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:w,reason:w.message,level:n.level||void 0,parent:(d=i.fragments[0])==null?void 0:d.type,networkDetails:R,stats:s});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=s.loading.start);const p=this.hls.mainForwardBufferInfo,g=p?p.end-p.len:0,v=(i.edge-g)*1e3,y=WD(i,v);if(i.requestScheduled+y<a?i.requestScheduled=a:i.requestScheduled+=y,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let x,b,T;if(i.canBlockReload&&i.endSN&&i.advanced){const w=this.hls.config.lowLatencyMode,C=i.lastPartSn,R=i.endSN,L=i.lastPartIndex,D=L!==-1,k=C===R;D?k?(b=R+1,T=w?0:L):(b=C,T=w?L+1:i.maxPartIndex):b=R+1;const P=i.age,F=P+i.ageHeader;let O=Math.min(F-i.partTarget,i.targetduration*1.5);if(O>0){if(F>i.targetduration*3)this.log(`Playlist last advanced ${P.toFixed(2)}s ago. Omitting segment and part directives.`),b=void 0,T=void 0;else if(r!=null&&r.tuneInGoal&&F-i.partTarget>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${O} with playlist age: ${i.age}`),O=0;else{const $=Math.floor(O/i.targetduration);if(b+=$,T!==void 0){const _=Math.round(O%i.targetduration/i.partTarget);T+=_}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${P.toFixed(2)}s goal: ${O} skip sn ${$} to part ${T}`)}i.tuneInGoal=O}if(x=this.getDeliveryDirectives(i,n.deliveryDirectives,b,T),w||!k){i.requestScheduled=a,this.loadingPlaylist(f,x);return}}else(i.canBlockReload||i.canSkipUntil)&&(x=this.getDeliveryDirectives(i,n.deliveryDirectives,b,T));x&&b!==void 0&&i.canBlockReload&&(i.requestScheduled=s.loading.first+Math.max(y-l*2,y/2)),this.scheduleLoading(f,x,i)}else this.clearTimer()}scheduleLoading(e,n,r){const i=r||e.details;if(!i){this.loadingPlaylist(e,n);return}const s=self.performance.now(),a=i.requestScheduled;if(s>=a){this.loadingPlaylist(e,n);return}const l=a-s;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(l)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,n),l)}getDeliveryDirectives(e,n,r,i){let s=VR(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=cp.No),new KR(r,i,s)}checkRetry(e){const n=e.details,r=Zp(e),i=e.errorAction,{action:s,retryCount:a=0,retryConfig:l}=i||{},u=!!i&&!!l&&(s===Ir.RetryRequest||!i.resolved&&s===Ir.SendAlternateToPenaltyBox);if(u){var d;if(a>=l.maxNumRetry)return!1;if(r&&(d=e.context)!=null&&d.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const f=d1(l,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),f),this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${n}" in ${f}ms`)}e.levelRetry=!0,i.resolved=!0}return u}}function x_(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Pd(t[n].attrs,e[n].attrs))return!1;return!0}function Pd(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function Hx(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class CQ extends C1{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVEL_LOADING,this.onLevelLoading,this),e.off(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(M.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,a=this.tracksInGroup[r];if(!a||a.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${a?.groupId}`);return}const l=a.details;a.details=n.details,this.log(`Audio track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,l)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||i?.length!==r?.length||r!=null&&r.some(l=>i?.indexOf(l)===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(g=>!r||r.indexOf(g.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(g=>g.default)&&(this.selectDefaultTrack=!1),l.forEach((g,v)=>{g.id=v});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const u=this.hls.config.audioPreference;if(!s&&u){const g=Ls(u,l,_o);if(g>-1)s=l[g];else{const v=Ls(u,this.tracks);s=this.tracks[v]}}let d=this.findTrackId(s);d===-1&&s&&(d=this.findTrackId(null));const f={audioTracks:l};this.log(`Updating audio tracks, ${l.length} track(s) found in group(s): ${r?.join(",")}`),this.hls.trigger(M.AUDIO_TRACKS_UPDATED,f);const p=this.trackId;if(d!==-1&&p===-1)this.setAudioTrack(d);else if(l.length&&p===-1){var a;const g=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${l.length}`);this.warn(g.message),this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:g})}}}onError(e,n){n.fatal||!n.context||n.context.type===Kt.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Ko(e,i,_o))return i;const s=Ls(e,this.tracksInGroup,_o);if(s>-1){const a=this.tracksInGroup[s];return this.setAudioTrack(s),a}else if(i){let a=n.loadLevel;a===-1&&(a=n.firstAutoLevel);const l=FY(e,n.levels,r,a,_o);if(l===-1)return null;n.nextLoadLevel=l}if(e.channels||e.audioCodec){const a=Ls(e,r);if(a>-1)return r[a]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(M.AUDIO_TRACK_SWITCHING,gn({},i)),s))return;const a=this.switchParams(i.url,r?.details,i.details);this.loadPlaylist(a)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Ko(e,i,_o)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:a,audioCodec:l,channels:u}=e;for(let d=0;d<n.length;d++){const f=n[d];if(Ko({name:r,lang:i,assocLang:s,characteristics:a,audioCodec:l,channels:u},f,_o))return d}for(let d=0;d<n.length;d++){const f=n[d];if(Pd(e.attrs,f.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return d}for(let d=0;d<n.length;d++){const f=n[d];if(Pd(e.attrs,f.attrs,["LANGUAGE"]))return d}}return-1}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&Qp(n.url,this.hls)&&this.scheduleLoading(n,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,n),a=e.details,l=a?.age;this.log(`Loading audio-track ${r} "${e.name}" lang:${e.lang} group:${i}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(M.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:n||null,track:e})}}class wQ{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,n,r){if(this.queues===null||this.tracks===null)return;const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}appendBlocker(e){return new Promise(n=>{const r={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(r,e)})}prependBlocker(e){return new Promise(n=>{if(this.queues){const r={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(r)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var n;const r=(n=e[0])==null?void 0:n.label;(r==="async-blocker"||r==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const n=this.queues[e];if(n.length){const i=n[0];try{i.execute()}catch(s){var r;if(i.onError(s),this.queues===null||this.tracks===null)return;const a=(r=this.tracks[e])==null?void 0:r.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var n;return((n=this.queues)==null?void 0:n[e][0])||null}toString(){const{queues:e,tracks:n}=this;return e===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var n,r;return(n=this.queues)!=null&&n[e]||(r=this.tracks)!=null&&r[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var n;const r=(n=this.tracks)==null?void 0:n[e],i=r?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${r.ended?" ended":""}${r.ending?" ending":""}`:"none"}listOps(e){var n;return((n=this.queues)==null?void 0:n[e].map(r=>r.label).join(", "))||""}}const D2=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,b_="HlsJsTrackRemovedError";class AQ extends Error{constructor(e){super(e),this.name=b_}}class RQ extends Qi{constructor(e,n){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=r=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=r=>{const{media:i,mediaSource:s}=this;r&&this.log("Media source opened"),!(!i||!s)&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(M.MEDIA_ATTACHED,{media:i,mediaSource:s}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e,this.fragmentTracker=n,this.appendSource=Yq(to(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.BUFFER_RESET,this.onBufferReset,this),e.on(M.BUFFER_APPENDING,this.onBufferAppending,this),e.on(M.BUFFER_CODECS,this.onBufferCodecs,this),e.on(M.BUFFER_EOS,this.onBufferEos,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(M.FRAG_PARSED,this.onFragParsed,this),e.on(M.FRAG_CHANGED,this.onFragChanged,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.BUFFER_RESET,this.onBufferReset,this),e.off(M.BUFFER_APPENDING,this.onBufferAppending,this),e.off(M.BUFFER_CODECS,this.onBufferCodecs,this),e.off(M.BUFFER_EOS,this.onBufferEos,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(M.FRAG_PARSED,this.onFragParsed,this),e.off(M.FRAG_CHANGED,this.onFragChanged,this),e.off(M.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:n}=this;if(!e)return null;const r={};if(this.operationQueue){const s=this.isUpdating();s||this.operationQueue.removeBlockers();const a=this.isQueued();(s||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${s?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===n?Cn(r,i.tracks):this.sourceBuffers.forEach(s=>{const[a]=s;a&&(r[a]=Cn({},this.tracks[a]),this.removeBuffer(a)),s[0]=s[1]=null}),{media:e,mediaSource:n,tracks:r}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){var r;let i=2;(n.audio&&!n.video||!n.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(r=this.transferData)!=null&&r.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,n){const r=this.media=n.media;this.transferData=this.overrides=void 0;const i=to(this.appendSource);if(i){const s=!!n.mediaSource;(s||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const a=this.mediaSource=n.mediaSource||new i;if(this.assignMediaSource(a),s)this._objectUrl=r.src,this.attachTransferred();else{const l=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{r.removeAttribute("src");const u=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||u&&a instanceof u,_2(r),LQ(r,l),r.load()}catch{r.src=l}else r.src=l}r.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var n,r;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===e?"transferred":"created"} media source: ${(r=e.constructor)==null?void 0:r.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,n=this.transferData;if(!n||!e)return;const r=this.tracks,i=n.tracks,s=i?Object.keys(i):null,a=s?s.length:0,l=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&s&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${In(r,(u,d)=>u==="initSegment"?void 0:d)};
transfer tracks: ${In(i,(u,d)=>u==="initSegment"?void 0:d)}}`),!gD(i,r)){n.mediaSource=null,n.tracks=void 0;const u=e.currentTime,d=this.details,f=Math.max(u,d?.fragments[0].start||0);if(f-u>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${u} -> ${f}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(r)}") start time: ${f} currentTime: ${u}`),this.onMediaDetaching(M.MEDIA_DETACHING,{}),this.onMediaAttaching(M.MEDIA_ATTACHING,n),e.currentTime=f;return}this.transferData=void 0,s.forEach(u=>{const d=u,f=i[d];if(f){const p=f.buffer;if(p){const g=this.fragmentTracker,v=f.id;if(g.hasFragments(v)||g.hasParts(v)){const b=Mt.getBuffered(p);g.detectEvictedFragments(d,b,v,null,!0)}const y=Sy(d),x=[d,p];this.sourceBuffers[y]=x,p.updating&&this.operationQueue&&this.operationQueue.prependBlocker(d),this.trackSourceBuffer(d,f)}}}),l(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),l()}get mediaSourceOpenOrEnded(){var e;const n=(e=this.mediaSource)==null?void 0:e.readyState;return n==="open"||n==="ended"}onMediaDetaching(e,n){const r=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:s,_objectUrl:a}=this;if(s){if(this.log(`media source ${r?"transferring":"detaching"}`),r)this.sourceBuffers.forEach(([l])=>{l&&this.removeBuffer(l)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const l=s.readyState==="open";try{const u=s.sourceBuffers;for(let d=u.length;d--;)l&&u[d].abort(),s.removeSourceBuffer(u[d]);l&&s.endOfStream()}catch(u){this.warn(`onMediaDetaching: ${u.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}s.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("sourceended",this._onMediaSourceEnded),s.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.removeEventListener("startstreaming",this._onStartStreaming),s.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),r||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(i.removeAttribute("src"),this.appendSource&&_2(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(M.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var n;const r=(n=this.tracks[e])==null?void 0:n.buffer;if(this.removeBuffer(e),r)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}catch(s){this.warn(`onBufferReset ${e}`,s)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Sy(e)]=[null,null];const n=this.tracks[e];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new wQ(this.tracks)}onBufferCodecs(e,n){var r;const i=this.tracks,s=Object.keys(n);this.log(`BUFFER_CODECS: "${s}" (current SB count ${this.sourceBufferCount})`);const a="audiovideo"in n&&(i.audio||i.video)||i.audiovideo&&("audio"in n||"video"in n),l=!a&&this.sourceBufferCount&&this.media&&s.some(u=>!i[u]);if(a||l){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${s}" SourceBuffers`);return}s.forEach(u=>{var d,f;const p=n[u],{id:g,codec:v,levelCodec:y,container:x,metadata:b,supplemental:T}=p;let w=i[u];const C=(d=this.transferData)==null||(d=d.tracks)==null?void 0:d[u],R=C!=null&&C.buffer?C:w,L=R?.pendingCodec||R?.codec,D=R?.levelCodec;w||(w=i[u]={buffer:void 0,listeners:[],codec:v,supplemental:T,container:x,levelCodec:y,metadata:b,id:g});const k=lp(L,D),P=k?.replace(D2,"$1");let F=lp(v,y);const O=(f=F)==null?void 0:f.replace(D2,"$1");F&&k&&P!==O&&(u.slice(0,5)==="audio"&&(F=Yp(F,this.appendSource)),this.log(`switching codec ${L} to ${F}`),F!==(w.pendingCodec||w.codec)&&(w.pendingCodec=F),w.container=x,this.appendChangeType(u,x,F))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!n.video&&((r=n.audio)==null?void 0:r.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,n)=>{const r=this.tracks[n];return e[n]={id:r.id,container:r.container,codec:r.codec,levelCodec:r.levelCodec},e},{})}appendChangeType(e,n,r){const i=`${n};codecs=${r}`,s={label:`change-type=${i}`,execute:()=>{const a=this.tracks[e];if(a){const l=a.buffer;l!=null&&l.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),l.changeType(i),a.codec=r,a.container=n)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(s,e,this.isPending(this.tracks[e]))}blockAudio(e){var n;const r=e.start,i=r+e.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(r,ct.MAIN))==null?void 0:n.gap)===!0)return;const a={label:"block-audio",execute:()=>{var l;const u=this.tracks.video;(this.lastVideoAppendEnd>i||u!=null&&u.buffer&&Mt.isBuffered(u.buffer,i)||((l=this.fragmentTracker.getAppendedFrag(i,ct.MAIN))==null?void 0:l.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:l=>{this.warn("Error executing block-audio operation",l)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:n}=this;e&&n&&(this.blockedAudioAppend=null,n.unblockAudio(e.op))}onBufferAppending(e,n){const{tracks:r}=this,{data:i,type:s,parent:a,frag:l,part:u,chunkMeta:d,offset:f}=n,p=d.buffering[s],{sn:g,cc:v}=l,y=self.performance.now();p.start=y;const x=l.stats.buffering,b=u?u.stats.buffering:null;x.start===0&&(x.start=y),b&&b.start===0&&(b.start=y);const T=r.audio;let w=!1;s==="audio"&&T?.container==="audio/mpeg"&&(w=!this.lastMpegAudioChunk||d.id===1||this.lastMpegAudioChunk.sn!==d.sn,this.lastMpegAudioChunk=d);const C=r.video,R=C?.buffer;if(R&&g!=="initSegment"){const k=u||l,P=this.blockedAudioAppend;if(s==="audio"&&a!=="main"&&!this.blockedAudioAppend&&!(C.ending||C.ended)){const O=k.start+k.duration*.05,$=R.buffered,_=this.currentOp("video");!$.length&&!_?this.blockAudio(k):!_&&!Mt.isBuffered(R,O)&&this.lastVideoAppendEnd<O&&this.blockAudio(k)}else if(s==="video"){const F=k.end;if(P){const O=P.frag.start;(F>O||F<this.lastVideoAppendEnd||Mt.isBuffered(R,O))&&this.unblockAudio()}this.lastVideoAppendEnd=F}}const L=(u||l).start,D={label:`append-${s}`,execute:()=>{var k;p.executeStart=self.performance.now();const P=(k=this.tracks[s])==null?void 0:k.buffer;P&&(w?this.updateTimestampOffset(P,L,.1,s,g,v):f!==void 0&&Je(f)&&this.updateTimestampOffset(P,f,1e-6,s,g,v)),this.appendExecutor(i,s)},onStart:()=>{},onComplete:()=>{const k=self.performance.now();p.executeEnd=p.end=k,x.first===0&&(x.first=k),b&&b.first===0&&(b.first=k);const P={};this.sourceBuffers.forEach(([F,O])=>{F&&(P[F]=Mt.getBuffered(O))}),this.appendErrors[s]=0,s==="audio"||s==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(M.BUFFER_APPENDED,{type:s,frag:l,part:u,chunkMeta:d,parent:l.type,timeRanges:P})},onError:k=>{var P;const F={type:vt.MEDIA_ERROR,parent:l.type,details:oe.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:l,part:u,chunkMeta:d,error:k,err:k,fatal:!1},O=(P=this.media)==null?void 0:P.error;if(k.code===DOMException.QUOTA_EXCEEDED_ERR||k.name=="QuotaExceededError"||"quota"in k)F.details=oe.BUFFER_FULL_ERROR;else if(k.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!O)F.errorAction=dc(!0);else if(k.name===b_&&this.sourceBufferCount===0)F.errorAction=dc(!0);else{const $=++this.appendErrors[s];this.warn(`Failed ${$}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${O||"no media error"})`),($>=this.hls.config.appendErrorMaxRetry||O)&&(F.fatal=!0)}this.hls.trigger(M.ERROR,F)}};this.log(`queuing "${s}" append sn: ${g}${u?" p: "+u.index:""} of ${l.type===ct.MAIN?"level":"track"} ${l.level} cc: ${v}`),this.append(D,s,this.isPending(this.tracks[s]))}getFlushOp(e,n,r){return this.log(`queuing "${e}" remove ${n}-${r}`),{label:"remove",execute:()=>{this.removeExecutor(e,n,r)},onStart:()=>{},onComplete:()=>{this.hls.trigger(M.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${n}-${r} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,n){const{type:r,startOffset:i,endOffset:s}=n;r?this.append(this.getFlushOp(r,i,s),r):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,i,s),a)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],a=i?i.elementaryStreams:r.elementaryStreams;a[Ln.AUDIOVIDEO]?s.push("audiovideo"):(a[Ln.AUDIO]&&s.push("audio"),a[Ln.VIDEO]&&s.push("video"));const l=()=>{const u=self.performance.now();r.stats.buffering.end=u,i&&(i.stats.buffering.end=u);const d=i?i.stats:r.stats;this.hls.trigger(M.FRAG_BUFFERED,{frag:r,part:i,stats:d,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(l,s).catch(u=>{this.warn(`Fragment buffered callback ${u}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const n=this.tracks[e];if(n)return!n.ended||n.ending}return!1})}onBufferEos(e,n){var r;this.sourceBuffers.forEach(([a])=>{if(a){const l=this.tracks[a];(!n.type||n.type===a)&&(l.ending=!0,l.ended||(l.ended=!0,this.log(`${a} buffer reached EOS`)))}});const i=((r=this.overrides)==null?void 0:r.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var l;return a&&!((l=this.tracks[a])!=null&&l.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(M.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(M.BUFFERED_TO_END,void 0)):n.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const n=this.tracks[e];n&&(n.ending=!1)}})}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,n){if(n.details===oe.BUFFER_APPEND_ERROR&&n.frag){var r;const i=(r=n.errorAction)==null?void 0:r.nextAutoLevel;Je(i)&&i!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.sourceBufferCount)return;const i=e.config,s=r.currentTime,a=n.levelTargetDuration,l=n.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(Je(l)&&l>=0){const d=Math.max(l,a),f=Math.floor(s/a)*a-d;this.flushBackBuffer(s,a,f)}const u=i.frontBufferFlushThreshold;if(Je(u)&&u>0){const d=Math.max(i.maxBufferLength,u),f=Math.max(d,a),p=Math.floor(s/a)*a+f;this.flushFrontBuffer(s,a,p)}}flushBackBuffer(e,n,r){this.sourceBuffers.forEach(([i,s])=>{if(s){const l=Mt.getBuffered(s);if(l.length>0&&r>l.start(0)){var a;this.hls.trigger(M.BACK_BUFFER_REACHED,{bufferEnd:r});const u=this.tracks[i];if((a=this.details)!=null&&a.live)this.hls.trigger(M.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(u!=null&&u.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(M.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:i})}}})}flushFrontBuffer(e,n,r){this.sourceBuffers.forEach(([i,s])=>{if(s){const a=Mt.getBuffered(s),l=a.length;if(l<2)return;const u=a.start(l-1),d=a.end(l-1);if(r>u||e>=u&&e<=d)return;this.hls.trigger(M.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:n,mediaSource:r}=this;if(!n||!this.media||r?.readyState!=="open")return null;const i=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&r.setLiveSeekableRange){const d=Math.max(0,n.fragmentStart),f=Math.max(d,i);return{duration:1/0,start:d,end:f}}return{duration:1/0}}const s=(e=this.overrides)==null?void 0:e.duration;if(s)return Je(s)?{duration:s}:null;const a=this.media.duration,l=Je(r.duration)?r.duration:0;return i>l&&i>a||!Je(a)?{duration:i}:null}updateMediaSource({duration:e,start:n,end:r}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(Je(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),n!==void 0&&r!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${n}-${r}.`),i.setLiveSeekableRange(n,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:n,tracks:r}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${e}) ${In(r)}`),this.tracksReady){var i;const s=(i=this.transferData)==null?void 0:i.tracks;s&&Object.keys(s).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([n,r])=>{if(n){const i=this.tracks[n];e[n]={buffer:r,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(M.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:n,mediaSource:r}=this;if(!r)throw new Error("createSourceBuffers called when mediaSource was null");for(const s in e){const a=s,l=e[a];if(this.isPending(l)){const u=this.getTrackCodec(l,a),d=`${l.container};codecs=${u}`;l.codec=u,this.log(`creating sourceBuffer(${d})${this.currentOp(a)?" Queued":""} ${In(l)}`);try{const f=r.addSourceBuffer(d),p=Sy(a),g=[a,f];n[p]=g,l.buffer=f}catch(f){var i;this.error(`error while trying to add sourceBuffer: ${f.message}`),this.shiftAndExecuteNext(a),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[a],this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:f,sourceBufferName:a,mimeType:d,parent:l.id});return}this.trackSourceBuffer(a,l)}}this.bufferCreated()}getTrackCodec(e,n){const r=e.supplemental;let i=e.codec;r&&(n==="video"||n==="audiovideo")&&Rd(r,"video")&&(i=vY(i,r));const s=lp(i,e.levelCodec);return s?n.slice(0,5)==="audio"?Yp(s,this.appendSource):s:""}trackSourceBuffer(e,n){const r=n.buffer;if(!r)return;const i=this.getTrackCodec(n,e);this.tracks[e]={buffer:r,codec:i,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(s,a)=>{const l=a.removedRanges;l!=null&&l.length&&this.hls.trigger(M.BUFFER_FLUSHED,{type:s})})}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r?.src}onSBUpdateStart(e){const n=this.currentOp(e);n&&n.onStart()}onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const r=this.currentOp(e);r&&(r.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.currentOp(e);s&&s.onError(i)}updateTimestampOffset(e,n,r,i,s,a){const l=n-e.timestampOffset;Math.abs(l)>=r&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${n} (sn: ${s} cc: ${a})`),e.timestampOffset=n)}removeExecutor(e,n,r){const{media:i,mediaSource:s}=this,a=this.tracks[e],l=a?.buffer;if(!i||!s||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const u=Je(i.duration)?i.duration:1/0,d=Je(s.duration)?s.duration:1/0,f=Math.max(0,n),p=Math.min(r,u,d);p>f&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${f},${p}] from the ${e} SourceBuffer`),l.remove(f,p)):this.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.tracks[n],i=r?.buffer;if(!i)throw new AQ(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);r.ending=!1,r.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([e,n])=>e&&n.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:r}=this,i=n.map(a=>this.appendBlocker(a));return n.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(a=>{r===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(n=>{var r;const i=(r=this.tracks[n])==null?void 0:r.buffer;!i||i.updating||this.shiftAndExecuteNext(n)})}append(e,n,r){this.operationQueue&&this.operationQueue.append(e,n,r)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,n)=>e+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[n])=>e+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,n,r){const i=this.tracks[e];if(!i)return;const s=i.buffer;if(!s)return;const a=r.bind(this,e);i.listeners.push({event:n,listener:a}),s.addEventListener(n,a)}removeBufferListeners(e){const n=this.tracks[e];if(!n)return;const r=n.buffer;r&&(n.listeners.forEach(i=>{r.removeEventListener(i.event,i.listener)}),n.listeners.length=0)}}function _2(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function LQ(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}function Sy(t){return t==="audio"?1:0}class w1{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(M.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.BUFFER_CODECS,this.onBufferCodecs,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(M.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.BUFFER_CODECS,this.onBufferCodecs,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&Je(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,w1.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(l,u)=>u?l.width!==u.width||l.height!==u.height:!0;let s=e.length-1;const a=Math.max(n,r);for(let l=0;l<e.length;l+=1){const u=e[l];if((u.width>=a||u.height>=a)&&i(u,e[l+1])){s=l;break}}return s}}const IQ={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Qr=IQ,kQ={HLS:"h"},DQ=kQ;class Ms{constructor(e,n){Array.isArray(e)&&(e=e.map(r=>r instanceof Ms?r:new Ms(r))),this.value=e,this.params=n}}const _Q="Dict";function PQ(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function OQ(t,e,n,r){return new Error(`failed to ${t} "${PQ(e)}" as ${n}`,{cause:r})}function Fs(t,e,n){return OQ("serialize",t,e,n)}class S_{constructor(e){this.description=e}}const P2="Bare Item",MQ="Boolean";function FQ(t){if(typeof t!="boolean")throw Fs(t,MQ);return t?"?1":"?0"}function NQ(t){return btoa(String.fromCharCode(...t))}const BQ="Byte Sequence";function $Q(t){if(ArrayBuffer.isView(t)===!1)throw Fs(t,BQ);return`:${NQ(t)}:`}const jQ="Integer";function UQ(t){return t<-999999999999999||999999999999999<t}function E_(t){if(UQ(t))throw Fs(t,jQ);return t.toString()}function zQ(t){return`@${E_(t.getTime()/1e3)}`}function T_(t,e){if(t<0)return-T_(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}const HQ="Decimal";function GQ(t){const e=T_(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Fs(t,HQ);const n=e.toString();return n.includes(".")?n:`${n}.0`}const VQ="String",KQ=/[\x00-\x1f\x7f]+/;function WQ(t){if(KQ.test(t))throw Fs(t,VQ);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function qQ(t){return t.description||t.toString().slice(7,-1)}const YQ="Token";function O2(t){const e=qQ(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Fs(e,YQ);return e}function Gx(t){switch(typeof t){case"number":if(!Je(t))throw Fs(t,P2);return Number.isInteger(t)?E_(t):GQ(t);case"string":return WQ(t);case"symbol":return O2(t);case"boolean":return FQ(t);case"object":if(t instanceof Date)return zQ(t);if(t instanceof Uint8Array)return $Q(t);if(t instanceof S_)return O2(t);default:throw Fs(t,P2)}}const XQ="Key";function Vx(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Fs(t,XQ);return t}function A1(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${Vx(e)}`:`;${Vx(e)}=${Gx(n)}`).join("")}function C_(t){return t instanceof Ms?`${Gx(t.value)}${A1(t.params)}`:Gx(t)}function QQ(t){return`(${t.value.map(C_).join(" ")})${A1(t.params)}`}function ZQ(t,e={whitespace:!0}){if(typeof t!="object"||t==null)throw Fs(t,_Q);const n=t instanceof Map?t.entries():Object.entries(t),r=e?.whitespace?" ":"";return Array.from(n).map(([i,s])=>{s instanceof Ms||(s=new Ms(s));let a=Vx(i);return s.value===!0?a+=A1(s.params):(a+="=",Array.isArray(s.value)?a+=QQ(s):a+=C_(s)),a}).join(`,${r}`)}function w_(t,e){return ZQ(t,e)}const Ss="CMCD-Object",Wn="CMCD-Request",Ro="CMCD-Session",$a="CMCD-Status",JQ={br:Ss,ab:Ss,d:Ss,ot:Ss,tb:Ss,tpb:Ss,lb:Ss,tab:Ss,lab:Ss,url:Ss,pb:Wn,bl:Wn,tbl:Wn,dl:Wn,ltc:Wn,mtp:Wn,nor:Wn,nrr:Wn,rc:Wn,sn:Wn,sta:Wn,su:Wn,ttfb:Wn,ttfbb:Wn,ttlb:Wn,cmsdd:Wn,cmsds:Wn,smrt:Wn,df:Wn,cs:Wn,ts:Wn,cid:Ro,pr:Ro,sf:Ro,sid:Ro,st:Ro,v:Ro,msd:Ro,bs:$a,bsd:$a,cdn:$a,rtp:$a,bg:$a,pt:$a,ec:$a,e:$a},eZ={REQUEST:Wn};function tZ(t){return Object.keys(t).reduce((e,n)=>{var r;return(r=t[n])===null||r===void 0||r.forEach(i=>e[i]=n),e},{})}function nZ(t,e){const n={};if(!t)return n;const r=Object.keys(t),i=e?tZ(e):{};return r.reduce((s,a)=>{var l;const u=JQ[a]||i[a]||eZ.REQUEST,d=(l=s[u])!==null&&l!==void 0?l:s[u]={};return d[a]=t[a],s},n)}function rZ(t){return["ot","sf","st","e","sta"].includes(t)}function iZ(t){return typeof t=="number"?Je(t):t!=null&&t!==""&&t!==!1}const A_="event";function sZ(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")+n.search+n.hash}const hp=t=>Math.round(t),Kx=(t,e)=>Array.isArray(t)?t.map(n=>Kx(n,e)):t instanceof Ms&&typeof t.value=="string"?new Ms(Kx(t.value,e),t.params):(e.baseUrl&&(t=sZ(t,e.baseUrl)),e.version===1?encodeURIComponent(t):t),Gh=t=>hp(t/100)*100,aZ=(t,e)=>{let n=t;return e.version>=2&&(t instanceof Ms&&typeof t.value=="string"?n=new Ms([t]):typeof t=="string"&&(n=[t])),Kx(n,e)},oZ={br:hp,d:hp,bl:Gh,dl:Gh,mtp:Gh,nor:aZ,rtp:Gh,tb:hp},R_="request",L_="response",R1=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],lZ=["e"],cZ=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function ag(t){return cZ.test(t)}function uZ(t){return R1.includes(t)||lZ.includes(t)||ag(t)}const I_=["d","dl","nor","ot","rtp","su"];function dZ(t){return R1.includes(t)||I_.includes(t)||ag(t)}const fZ=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function hZ(t){return R1.includes(t)||I_.includes(t)||fZ.includes(t)||ag(t)}const pZ=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function mZ(t){return pZ.includes(t)||ag(t)}const gZ={[L_]:hZ,[A_]:uZ,[R_]:dZ};function k_(t,e={}){const n={};if(t==null||typeof t!="object")return n;const r=e.version||t.v||1,i=e.reportingMode||R_,s=r===1?mZ:gZ[i];let a=Object.keys(t).filter(s);const l=e.filter;typeof l=="function"&&(a=a.filter(l));const u=i===L_||i===A_;u&&!a.includes("ts")&&a.push("ts"),r>1&&!a.includes("v")&&a.push("v");const d=Cn({},oZ,e.formatters),f={version:r,reportingMode:i,baseUrl:e.baseUrl};return a.sort().forEach(p=>{let g=t[p];const v=d[p];if(typeof v=="function"&&(g=v(g,f)),p==="v"){if(r===1)return;g=r}p=="pr"&&g===1||(u&&p==="ts"&&!Je(g)&&(g=Date.now()),iZ(g)&&(rZ(p)&&typeof g=="string"&&(g=new S_(g)),n[p]=g))}),n}function vZ(t,e={}){const n={};if(!t)return n;const r=k_(t,e),i=nZ(r,e?.customHeaderMap);return Object.entries(i).reduce((s,[a,l])=>{const u=w_(l,{whitespace:!1});return u&&(s[a]=u),s},n)}function yZ(t,e,n){return Cn(t,vZ(e,n))}const xZ="CMCD";function bZ(t,e={}){return t?w_(k_(t,e),{whitespace:!1}):""}function SZ(t,e={}){if(!t)return"";const n=bZ(t,e);return encodeURIComponent(n)}function EZ(t,e={}){if(!t)return"";const n=SZ(t,e);return`${xZ}=${n}`}const M2=/CMCD=[^&#]+/;function TZ(t,e,n){const r=EZ(e,n);if(!r)return t;if(M2.test(t))return t.replace(M2,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class CZ{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Qr.MANIFEST,su:!this.initialized})}catch(s){this.hls.logger.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const{frag:s,part:a}=i,l=this.hls.levels[s.level],u=this.getObjectType(s),d={d:(a||s).duration*1e3,ot:u};(u===Qr.VIDEO||u===Qr.AUDIO||u==Qr.MUXED)&&(d.br=l.bitrate/1e3,d.tb=this.getTopBandwidth(u)/1e3,d.bl=this.getBufferLength(u));const f=a?this.getNextPart(a):this.getNextFrag(s);f!=null&&f.url&&f.url!==s.url&&(d.nor=f.url),this.apply(i,d)}catch(s){this.hls.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.sessionId,this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHED,this.onMediaDetached,this),e.on(M.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHED,this.onMediaDetached,this),e.off(M.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:DQ.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Cn(n,this.createData());const r=n.ot===Qr.INIT||n.ot===Qr.VIDEO||n.ot===Qr.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((a,l)=>(i.includes(l)&&(a[l]=n[l]),a),{}));const s={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),yZ(e.headers,n,s)):e.url=TZ(e.url,n,s)}getNextFrag(e){var n;const r=(n=this.hls.levels[e.level])==null?void 0:n.details;if(r){const i=e.sn-r.startSN;return r.fragments[i+1]}}getNextPart(e){var n;const{index:r,fragment:i}=e,s=(n=this.hls.levels[i.level])==null||(n=n.details)==null?void 0:n.partList;if(s){const{sn:a}=i;for(let l=s.length-1;l>=0;l--){const u=s[l];if(u.index===r&&u.fragment.sn===a)return s[l+1]}}}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Qr.TIMED_TEXT;if(e.sn==="initSegment")return Qr.INIT;if(n==="audio")return Qr.AUDIO;if(n==="main")return this.hls.audioTracks.length?Qr.VIDEO:Qr.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===Qr.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,a=s>-1?s+1:i.levels.length;r=i.levels.slice(0,a)}return r.forEach(s=>{s.bitrate>n&&(n=s.bitrate)}),n>0?n:NaN}getBufferLength(e){const n=this.media,r=e===Qr.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:Mt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,l){n(s),this.loader.load(s,a,l)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,l){n(s),this.loader.load(s,a,l)}}}}const wZ=3e5;class AZ extends Qi{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,n)=>(e.indexOf(n.pathwayId)===-1&&e.push(n.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if(r?.action===Ir.SendAlternateToPenaltyBox&&r.flags===mi.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this._pathwayPriority,a=this.pathwayId;if(n.context){const{groupId:l,pathwayId:u,type:d}=n.context;l&&i?a=this.getPathwayForGroupId(l,d,a):u&&(a=u)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!s&&i&&(s=this.pathways()),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==a),n.details===oe.BUFFER_APPEND_ERROR&&!n.fatal?r.resolved=!0:r.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${In(s)} penalized: ${In(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>wZ&&delete r[s]});for(let s=0;s<e.length;s++){const a=e[s];if(a in r)continue;if(a===this.pathwayId)return;const l=this.hls.nextLoadLevel,u=this.hls.levels[l];if(n=this.getLevelsForPathway(a),n.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,XD(n),this.hls.trigger(M.LEVELS_UPDATED,{levels:n});const d=this.hls.levels[l];u&&d&&this.levels&&(d.attrs["STABLE-VARIANT-ID"]!==u.attrs["STABLE-VARIANT-ID"]&&d.bitrate!==u.bitrate&&this.log(`Unstable Pathways change from bitrate ${u.bitrate} to ${d.bitrate}`),this.hls.nextLoadLevel=l);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(n===Kt.AUDIO_TRACK&&i[s].hasAudioGroup(e)||n===Kt.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:a,"BASE-ID":l,"URI-REPLACEMENT":u}=s;if(n.some(f=>f.pathwayId===a))return;const d=this.getLevelsForPathway(l).map(f=>{const p=new jn(f.attrs);p["PATHWAY-ID"]=a;const g=p.AUDIO&&`${p.AUDIO}_clone_${a}`,v=p.SUBTITLES&&`${p.SUBTITLES}_clone_${a}`;g&&(r[p.AUDIO]=g,p.AUDIO=g),v&&(i[p.SUBTITLES]=v,p.SUBTITLES=v);const y=D_(f.uri,p["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u),x=new Id({attrs:p,audioCodec:f.audioCodec,bitrate:f.bitrate,height:f.height,name:f.name,url:y,videoCodec:f.videoCodec,width:f.width});if(f.audioGroups)for(let b=1;b<f.audioGroups.length;b++)x.addGroupId("audio",`${f.audioGroups[b]}_clone_${a}`);if(f.subtitleGroups)for(let b=1;b<f.subtitleGroups.length;b++)x.addGroupId("text",`${f.subtitleGroups[b]}_clone_${a}`);return x});n.push(...d),F2(this.audioTracks,r,u,a),F2(this.subtitleTracks,i,u,a)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const f=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+f)}const s={responseType:"json",url:i.href},a=n.steeringManifestLoadPolicy.default,l=a.errorRetry||a.timeoutRetry||{},u={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},d={onSuccess:(f,p,g,v)=>{this.log(`Loaded steering manifest: "${i}"`);const y=f.data;if(y?.VERSION!==1){this.log(`Steering VERSION ${y.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=y.TTL;const{"RELOAD-URI":x,"PATHWAY-CLONES":b,"PATHWAY-PRIORITY":T}=y;if(x)try{this.uri=new self.URL(x,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${x}`);return}this.scheduleRefresh(this.uri||g.url),b&&this.clonePathways(b);const w={steeringManifest:y,url:i.toString()};this.hls.trigger(M.STEERING_MANIFEST_LOADED,w),T&&this.updatePathwayPriority(T)},onError:(f,p,g,v)=>{if(this.log(`Error loading steering manifest: ${f.code} ${f.text} (${p.url})`),this.stopLoad(),f.code===410){this.enabled=!1,this.log(`Steering manifest ${p.url} no longer available`);return}let y=this.timeToLoad*1e3;if(f.code===429){const x=this.loader;if(typeof x?.getResponseHeader=="function"){const b=x.getResponseHeader("Retry-After");b&&(y=parseFloat(b)*1e3)}this.log(`Steering manifest ${p.url} rate limited`);return}this.scheduleRefresh(this.uri||p.url,y)},onTimeout:(f,p,g)=>{this.log(`Timeout loading steering manifest (${p.url})`),this.scheduleRefresh(this.uri||p.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,u,d)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function F2(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(a=>a.groupId===i).map(a=>{const l=Cn({},a);return l.details=void 0,l.attrs=new jn(l.attrs),l.url=l.attrs.URI=D_(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),l.groupId=l.attrs["GROUP-ID"]=e[i],l.attrs["PATHWAY-ID"]=r,l});t.push(...s)})}function D_(t,e,n,r){const{HOST:i,PARAMS:s,[n]:a}=r;let l;e&&(l=a?.[e],l&&(t=l));const u=new self.URL(t);return i&&!l&&(u.host=i),s&&Object.keys(s).sort().forEach(d=>{d&&u.searchParams.set(d,s[d])}),u.href}class hc extends Qi{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=hc.CDMCleanupPromise?[hc.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=n=>{const{initDataType:r,initData:i}=n,s=`"${n.type}" event: init data type: "${r}"`;if(this.debug(s),i!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=td(this.config));const l=a.map(hy).filter(u=>!!u);this.keyFormatPromise=this.getKeyFormatPromise(l)}this.keyFormatPromise.then(a=>{const l=up(a);if(r!=="sinf"||l!==zn.FAIRPLAY){this.log(`Ignoring "${n.type}" event with init data type: "${r}" for selected key-system ${l}`);return}let u;try{const v=mr(new Uint8Array(i)),y=m1(JSON.parse(v).sinf),x=wD(y);if(!x)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");u=new Uint8Array(x.subarray(8,24))}catch(v){this.warn(`${s} Failed to parse sinf: ${v}`);return}const d=Gr(u),{keyIdToKeySessionPromise:f,mediaKeySessions:p}=this;let g=f[d];for(let v=0;v<p.length;v++){const y=p[v],x=y.decryptdata;if(!x.keyId)continue;const b=Gr(x.keyId);if(em(u,x.keyId)||x.uri.replace(/-/g,"").indexOf(d)!==-1){if(g=f[b],!g)continue;if(x.pssh)break;delete f[b],x.pssh=new Uint8Array(i),x.keyId=u,g=f[d]=g.then(()=>this.generateRequestWithPreferredKeySession(y,r,i,"encrypted-event-key-match")),g.catch(T=>this.handleError(T));break}}g||this.handleError(new Error(`Key ID ${d} not encountered in playlist. Key-system sessions ${p.length}.`))}).catch(a=>this.handleError(a))}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(M.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(M.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(M.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(M.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(M.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(M.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n?.[e];if(i)return i.licenseUrl;if(e===zn.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n?.[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(a,l,u)=>!!a&&u.indexOf(a)===l,i=n.map(a=>a.audioCodec).filter(r),s=n.map(a=>a.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,l)=>{const u=d=>{const f=d.shift();this.getMediaKeysPromise(f,i,s).then(p=>a({keySystem:f,mediaKeys:p})).catch(p=>{d.length?u(d):p instanceof pi?l(p):l(new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_NO_ACCESS,error:p,fatal:!0},p.message))})};u(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return zD===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){var i;const s=aX(e,n,r,this.config.drmSystemOptions||{});let a=this.keySystemAccessPromises[e],l=(i=a)==null?void 0:i.keySystemAccess;if(!l){this.log(`Requesting encrypted media "${e}" key-system access with config: ${In(s)}`),l=this.requestMediaKeySystemAccess(e,s);const u=a=this.keySystemAccessPromises[e]={keySystemAccess:l};return l.catch(d=>{this.log(`Failed to obtain access to key-system "${e}": ${d}`)}),l.then(d=>{this.log(`Access for key-system "${d.keySystem}" obtained`);const f=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const p=u.mediaKeys=d.createMediaKeys().then(g=>(this.log(`Media-keys created for "${e}"`),u.hasMediaKeys=!0,f.then(v=>v?this.setMediaKeysServerCertificate(g,e,v):g)));return p.catch(g=>{this.error(`Failed to create media-keys for "${e}"}: ${g}`)}),p})}return l.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${Gr(e.keyId||[])} keyUri: ${e.uri}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=Vh(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,n){const r=e.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyId ${Gr(e.decryptdata.keyId||[])}
      } (data length: ${n.byteLength})`),r.update(n)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>hy(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:n,mediaKeys:r})=>this.attemptSetMediaKeys(n,r))}selectKeySystem(e){return new Promise((n,r)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const s=hy(i);s?n(s):r(new Error(`Unable to find format for key-system "${i}"`))}).catch(r)})}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){const n=td(this.config),r=e.map(up).filter(i=>!!i&&n.indexOf(i)!==-1);return this.selectKeySystem(r)}getKeyStatus(e){const{mediaKeySessions:n}=this;for(let r=0;r<n.length;r++){const i=RZ(e,n[r]);if(i)return i}}loadKey(e){const n=e.keyInfo.decryptdata,r=Vh(n),i=this.bannedKeyIds[r];if(i||this.getKeyStatus(n)==="internal-error"){const l=N2(i||"internal-error",n);return this.handleError(l,e.frag),Promise.reject(l)}const s=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${s}`);const a=this.keyIdToKeySessionPromise[r];if(!a){const l=this.getKeySystemForKeyPromise(n).then(({keySystem:u,mediaKeys:d})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(u,d).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:u,mediaKeys:d,decryptdata:n}))))).then(u=>{const d="cenc",f=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(u,d,f,"playlist-key")});return l.catch(u=>this.handleError(u,e.frag)),this.keyIdToKeySessionPromise[r]=l,l}return a.catch(l=>{if(l instanceof pi){const u=gn({},l.data);this.getKeyStatus(n)==="internal-error"&&(u.decryptdata=n);const d=new pi(u,l.message);this.handleError(d,e.frag)}}),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,n){if(this.hls)if(e instanceof pi){n&&(e.data.frag=n);const r=e.data.decryptdata;this.error(`${e.message}${r?` (${Gr(r.keyId||[])})`:""}`),this.hls.trigger(M.ERROR,e.data)}else this.error(e.message),this.hls.trigger(M.ERROR,{type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const n=Vh(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=up(e.keyFormat),s=i?[i]:td(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=td(this.config)),e.length===0)throw new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${In({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){if(this.mediaKeys===n)return Promise.resolve();const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.mediaKeys=n,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s;const a=(s=this.config.drmSystems)==null||(s=s[e.keySystem])==null?void 0:s.generateRequest;if(a)try{const y=a.call(this.hls,n,r,e);if(!y)throw new Error("Invalid response from configured generateRequest filter");n=y.initDataType,r=y.initData?y.initData:null,e.decryptdata.pssh=r?new Uint8Array(r):null}catch(y){if(this.warn(y.message),this.hls&&this.hls.config.debug)throw y}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const l=Vh(e.decryptdata),u=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${l} URI: ${u} (init data type: ${n} length: ${r.byteLength})`);const d=new v1,f=e._onmessage=y=>{const x=e.mediaKeysSession;if(!x){d.emit("error",new Error("invalid state"));return}const{messageType:b,message:T}=y;this.log(`"${b}" message event for session "${x.sessionId}" message size: ${T.byteLength}`),b==="license-request"||b==="license-renewal"?this.renewLicense(e,T).catch(w=>{d.eventNames().length?d.emit("error",w):this.handleError(w)}):b==="license-release"?e.keySystem===zn.FAIRPLAY&&this.updateKeySession(e,Bx("acknowledged")).then(()=>this.removeSession(e)).catch(w=>this.handleError(w)):this.warn(`unhandled media key message type "${b}"`)},p=(y,x)=>{x.keyStatus=y;let b;y.startsWith("usable")?d.emit("resolved"):y==="internal-error"||y==="output-restricted"||y==="output-downscaled"?b=N2(y,x.decryptdata):y==="expired"?b=new Error(`key expired (keyId: ${l})`):y==="released"?b=new Error("key released"):y==="status-pending"||this.warn(`unhandled key status change "${y}" (keyId: ${l})`),b&&(d.eventNames().length?d.emit("error",b):this.handleError(b))},g=e._onkeystatuseschange=y=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}const b=this.getKeyStatuses(e);if(!Object.keys(b).some(R=>b[R]!=="status-pending"))return;if(b[l]==="expired"){this.log(`Expired key ${In(b)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let w=b[l];if(w)p(w,e);else{var C;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(C=e.keyStatusTimeouts)[l]||(C[l]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const L=this.getKeyStatus(e.decryptdata);if(L&&L!=="status-pending")return this.log(`No status for keyId ${l} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${L} from other session.`),p(L,e);this.log(`key status for ${l} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),w="internal-error",p(w,e)},1e3)),this.log(`No status for keyId ${l} (${In(b)}).`)}};Vr(e.mediaKeysSession,"message",f),Vr(e.mediaKeysSession,"keystatuseschange",g);const v=new Promise((y,x)=>{d.on("error",x),d.on("resolved",y)});return e.mediaKeysSession.generateRequest(n,r).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${l} URI: ${u}`)}).catch(y=>{throw new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_NO_SESSION,error:y,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${y}`)}).then(()=>v).catch(y=>(d.removeAllListeners(),this.removeSession(e).then(()=>{throw y}))).then(()=>(d.removeAllListeners(),e))}getKeyStatuses(e){const n={};return e.mediaKeysSession.keyStatuses.forEach((r,i)=>{if(typeof i=="string"&&typeof r=="object"){const l=i;i=r,r=l}const s="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);e.keySystem===zn.PLAYREADY&&s.length===16&&jD(s);const a=Gr(s);r==="internal-error"&&(this.bannedKeyIds[a]=r),this.log(`key status change "${r}" for keyStatuses keyId: ${a} key-session "${e.mediaKeysSession.sessionId}"`),n[a]=r}),n}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,l)=>{const u={responseType:"arraybuffer",url:s},d=n.certLoadPolicy.default,f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,v,y,x)=>{a(g.data)},onError:(g,v,y,x)=>{l(new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:y,response:gn({url:u.url,data:void 0},g)},`"${e}" certificate request failed (${s}). Status: ${g.code} (${g.text})`))},onTimeout:(g,v,y)=>{l(new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:y,response:{url:u.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(g,v,y)=>{l(new Error("aborted"))}};i.load(u,f,p)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${r.byteLength}) on "${n}"`),i(e)}).catch(a=>{s(new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let f;for(let p=0,g=s.length;p<g;p++){var a,l;f=s[p];const v=(a=f.querySelector("name"))==null?void 0:a.textContent,y=(l=f.querySelector("value"))==null?void 0:l.textContent;v&&y&&e.setRequestHeader(v,y)}}const u=i.querySelector("Challenge"),d=u?.textContent;if(!d)throw new Error("Cannot find <Challenge> in key message");return Bx(atob(d))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(a=>{if(!r.decryptdata)throw a;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(a=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const l=new XMLHttpRequest;l.responseType="arraybuffer",l.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(l.readyState===4)if(l.status===200){this._requestLicenseFailureCount=0;let u=l.response;this.log(`License received ${u instanceof ArrayBuffer?u.byteLength:u}`);const d=this.config.licenseResponseCallback;if(d)try{u=d.call(this.hls,l,a,e)}catch(f){this.error(f)}i(u)}else{const u=r.errorRetry,d=u?u.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>d||l.status>=400&&l.status<500)s(new pi({type:vt.KEY_SYSTEM_ERROR,details:oe.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:l,response:{url:a,data:void 0,code:l.status,text:l.statusText}},`License Request XHR failed (${a}). Status: ${l.status} (${l.statusText})`));else{const f=d-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${f} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=l,this.setupLicenseXHR(l,a,e,n).then(({xhr:u,licenseChallenge:d})=>{e.keySystem==zn.PLAYREADY&&(d=this.unpackPlayReadyKeyMessage(u,d)),u.send(d)}).catch(s)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,Vr(r,"encrypted",this.onMediaEncrypted),Vr(r,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(ti(e,"encrypted",this.onMediaEncrypted),ti(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,r=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Wo.clearKeyUriToKeyIdMap();const i=r.length;hc.CDMCleanupPromise=Promise.all(r.map(s=>this.removeSession(s)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(s=>{this.log(`Could not clear media keys: ${s}`),this.hls&&this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${s}`)})}))||Promise.resolve())).catch(s=>{this.log(`Could not close sessions and clear media keys: ${s}`),this.hls&&this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${s}`)})}).then(()=>{i&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null,this.bannedKeyIds={}}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r,decryptdata:i}=e;if(n){this.log(`Remove licenses and keys and close session "${n.sessionId}" keyId: ${Gr(i?.keyId||[])}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);s>-1&&this.mediaKeySessions.splice(s,1);const{keyStatusTimeouts:a}=e;a&&Object.keys(a).forEach(d=>self.clearTimeout(a[d]));const{drmSystemOptions:l}=this.config;return(lX(l)?new Promise((d,f)=>{self.setTimeout(()=>f(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(d).catch(f)}):Promise.resolve()).catch(d=>{this.log(`Could not remove session: ${d}`),this.hls&&this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${d}`)})}).then(()=>n.close()).catch(d=>{this.log(`Could not close session: ${d}`),this.hls&&this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${d}`)})})}return Promise.resolve()}}hc.CDMCleanupPromise=void 0;function Vh(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return Gr(t.keyId)}function RZ(t,e){if(t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId))return e.mediaKeysSession.keyStatuses.get(t.keyId);if(t.matches(e.decryptdata))return e.keyStatus}class pi extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}function N2(t,e){const n=t==="output-restricted",r=n?oe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:oe.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new pi({type:vt.KEY_SYSTEM_ERROR,details:r,fatal:!1,decryptdata:e},n?"HDCP level output restricted":`key status changed to "${t}"`)}class LZ{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(M.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(M.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,a=r-this.lastDroppedFrames,l=n-this.lastDecodedFrames,u=1e3*a/s,d=this.hls;if(d.trigger(M.FPS_DROP,{currentDropped:a,currentDecoded:l,totalDroppedFrames:r}),u>0&&a>d.config.fpsDroppedMonitoringThreshold*l){let f=d.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(d.autoLevelCapping===-1||d.autoLevelCapping>=f)&&(f=f-1,d.trigger(M.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:d.currentLevel}),d.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function __(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function P_(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){yn.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){yn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function sc(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)e&&t.cues[r].removeEventListener("enter",e),t.removeCue(t.cues[r]);n==="disabled"&&(t.mode=n)}function Wx(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=kZ(t.cues,e,n);for(let a=0;a<s.length;a++)(!r||r(s[a]))&&t.removeCue(s[a])}i==="disabled"&&(t.mode=i)}function IZ(t,e){if(e<=t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n,s;for(;r<=i;)if(s=Math.floor((i+r)/2),e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s;return t[r].startTime-e<e-t[i].startTime?r:i}function kZ(t,e,n){const r=[],i=IZ(t,e);if(i>-1)for(let s=i,a=t.length;s<a;s++){const l=t[s];if(l.startTime>=e&&l.endTime<=n)r.push(l);else if(l.startTime>n)return r}return r}function pp(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}class DZ extends C1{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=pp(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")n=r[s];else if(r[s].mode==="showing"){n=r[s];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVEL_LOADING,this.onLevelLoading,this),e.off(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(M.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,n){const r=this.media;if(!r)return;const i=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||r.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;pp(r.textTracks).forEach(a=>{sc(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,a=this.tracksInGroup[r];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${a?.groupId}`);return}const l=a.details;a.details=n.details,this.log(`Subtitle track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,l)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||i?.length!==r?.length||r!=null&&r.some(a=>i?.indexOf(a)===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,p)=>{f.id=p});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.subtitlePreference;if(!s&&l){this.selectDefaultTrack=!1;const f=Ls(l,a);if(f>-1)s=a[f];else{const p=Ls(l,this.tracks);s=this.tracks[p]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const d={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${r?.join(",")}" group-id`),this.hls.trigger(M.SUBTITLE_TRACKS_UPDATED,d),u!==-1&&this.trackId===-1&&this.setSubtitleTrack(u)}}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const s=n[i];if(!(r&&!s.default||!r&&!e)&&(!e||Ko(s,e)))return i}if(e){for(let i=0;i<n.length;i++){const s=n[i];if(Pd(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const s=n[i];if(Pd(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(Hx(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===Kt.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Ko(e,r))return r;const i=Ls(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=Ls(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,n),a=e.details,l=a?.age;this.log(`Loading subtitle ${r} "${e.name}" lang:${e.lang} group:${i}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(M.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:n||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=pp(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(s=>Hx(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!Je(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(M.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:l="",name:u,type:d,url:f}=i;this.hls.trigger(M.SUBTITLE_TRACK_SWITCH,{id:a,groupId:l,name:u,type:d,url:f});const p=this.switchParams(i.url,r?.details,i.details);this.loadPlaylist(p)}}function _Z(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?s:s&3|8).toString(16)})}}}function pd(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0).toString()}const pc=.025;let im=(function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t})({});function PZ(t,e,n){return`${t.identifier}-${n+1}-${pd(e)}`}class OZ{constructor(e,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var n;if(e>0&&e>=this.assetList.length)return!0;const r=this.playoutLimit;return e<=0||isNaN(r)?!1:r===0?!0:(((n=this.assetList[e])==null?void 0:n.startOffset)||0)>r}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return Ey(e,n)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const n=this.dateRange.startTime,r=Ey(n,e);return n-r<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,n=Je(e)?e:this.duration;return this.cumulativeDuration+n}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return Ey(e,n)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<pc))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(e)&&e<n&&(n=e),n}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?im.Range:im.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return MZ(this)}}function Ey(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<pc)?e.start:e.start+e.duration}function O_(t,e,n){const r=new self.URL(t,n);return r.protocol!=="data:"&&r.searchParams.set("_HLS_primary_id",e),r}function Ty(t,e){for(;(n=t.assetList[++e])!=null&&n.error;)var n;return e}function MZ(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function rc(t){const e=t.timelineStart,n=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+n).toFixed(2)}]`}class FZ{constructor(e,n,r,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(M.PLAYOUT_LIMIT_REACHED,{})};const s=this.hls=new e(n);this.interstitial=r,this.assetItem=i;const a=()=>{this.hasDetails=!0};s.once(M.LEVEL_LOADED,a),s.once(M.AUDIO_TRACK_LOADED,a),s.once(M.SUBTITLE_TRACK_LOADED,a),s.on(M.MEDIA_ATTACHING,(l,{media:u})=>{this.removeMediaListeners(),this.mediaAttached=u,this.interstitial.playoutLimit&&(u.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&s.on(M.BUFFER_APPENDED,()=>{const f=this.bufferedEnd;this.reachedPlayout(f)&&(this._bufferedEosTime=f,s.trigger(M.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let n=this.assetItem.uri;try{n=O_(n,e.config.primarySessionId||"").href}catch{}e.loadSource(n)}}bufferedInPlaceToEnd(e){var n;if(!this.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!e)return!1;const r=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,s=Mt.bufferInfo(e,i,0);return this.getAssetTime(s.end)>=r-.02}reachedPlayout(e){const r=this.interstitial.playoutLimit;return this.startOffset+e>=r}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=Mt.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const n=this.interstitial.playoutLimit;if(n){const r=n-this.startOffset;if(r>0&&r<e)return r}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const n=this.timelineOffset;if(e!==n){const r=e-n;if(Math.abs(r)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const n=this.timelineOffset,r=this.duration;return Math.min(Math.max(0,e-n),r)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var n;this.loadSource(),(n=this.hls)==null||n.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const n=r=>delete r.details;e.levels.forEach(n),e.allAudioTracks.forEach(n),e.allSubtitleTracks.forEach(n),this.hasDetails=!1}}on(e,n,r){var i;(i=this.hls)==null||i.on(e,n)}once(e,n,r){var i;(i=this.hls)==null||i.once(e,n)}off(e,n,r){var i;(i=this.hls)==null||i.off(e,n)}toString(){var e;return`HlsAssetPlayer: ${rc(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const B2=.033;class NZ extends Qi{constructor(e,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,n){return this.events?this.events.reduce((r,i)=>e<=i.startOffset&&n>i.startOffset?(delete i.error,r+1):r,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,n){if(e.event)return this.findEventIndex(e.event.identifier);let r=-1;e.nextEvent?r=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(r=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[r]||(n===void 0&&(n=e.start),r=this.findItemIndexAtTime(n));r>=0&&(s=i[r])!=null&&s.event;){var s;r--}return r}findItemIndexAtTime(e,n){const r=this.items;if(r)for(let i=0;i<r.length;i++){let s=r[i];if(n&&n!=="primary"&&(s=s[n]),e===s.start||e>s.start&&e<s.end)return i}return-1}findJumpRestrictedIndex(e,n){const r=this.items;if(r)for(let i=e;i<=n&&r[i];i++){const s=r[i].event;if(s!=null&&s.restrictions.jump&&!s.appendInPlace)return i}return-1}findEventIndex(e){const n=this.items;if(n)for(let i=n.length;i--;){var r;if(((r=n[i].event)==null?void 0:r.identifier)===e)return i}return-1}findAssetIndex(e,n){const r=e.assetList,i=r.length;if(i>1)for(let s=0;s<i;s++){const a=r[s];if(!a.error){const l=a.timelineStart;if(n===l||n>l&&(n<l+(a.duration||0)||s===i-1))return s}}return 0}get assetIdAtEnd(){var e;const n=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(n){const r=n.assetList,i=r[r.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,n){const r=e.main.details,{dateRanges:i}=r,s=this.events,a=this.parseDateRanges(i,{url:r.url},n),l=Object.keys(i),u=s?s.filter(d=>!l.includes(d.identifier)):[];a.length&&a.sort((d,f)=>{const p=d.cue.pre,g=d.cue.post,v=f.cue.pre,y=f.cue.post;if(p&&!v)return-1;if(v&&!p||g&&!y)return 1;if(y&&!g)return-1;if(!p&&!v&&!g&&!y){const x=d.startTime,b=f.startTime;if(x!==b)return x-b}return d.dateRange.tagOrder-f.dateRange.tagOrder}),this.events=a,u.forEach(d=>{this.removeEvent(d)}),this.updateSchedule(e,u)}updateSchedule(e,n=[],r=!1){const i=this.events||[];if(i.length||n.length||this.length<2){const s=this.items,a=this.parseSchedule(i,e);(r||n.length||s?.length!==a.length||a.some((u,d)=>Math.abs(u.playout.start-s[d].playout.start)>.005||Math.abs(u.playout.end-s[d].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(n,s))}}parseDateRanges(e,n,r){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const l=s[a],u=e[l];if(u.isInterstitial){let d=this.eventMap[l];d?d.setDateRange(u):(d=new OZ(u,n),this.eventMap[l]=d,r===!1&&(d.appendInPlace=r)),i.push(d)}}return i}parseSchedule(e,n){const r=[],i=n.main.details,s=i.live?1/0:i.edge;let a=0;if(e=e.filter(u=>!u.error&&!(u.cue.once&&u.hasPlayed)),e.length){this.resolveOffsets(e,n);let u=0,d=0;if(e.forEach((f,p)=>{const g=f.cue.pre,v=f.cue.post,y=e[p-1]||null,x=f.appendInPlace,b=v?s:f.startOffset,T=f.duration,w=f.timelineOccupancy===im.Range?T:0,C=f.resumptionOffset,R=y?.startTime===b,L=b+f.cumulativeDuration;let D=x?L+T:b+C;if(g||!v&&b<=0){const P=d;d+=w,f.timelineStart=L;const F=a;a+=T,r.push({event:f,start:L,end:D,playout:{start:F,end:a},integrated:{start:P,end:d}})}else if(b<=s){if(!R){const O=b-u;if(O>B2){const $=u,_=d;d+=O;const K=a;a+=O;const z={previousEvent:e[p-1]||null,nextEvent:f,start:$,end:$+O,playout:{start:K,end:a},integrated:{start:_,end:d}};r.push(z)}else O>0&&y&&(y.cumulativeDuration+=O,r[r.length-1].end=b)}v&&(D=L),f.timelineStart=L;const P=d;d+=w;const F=a;a+=T,r.push({event:f,start:L,end:D,playout:{start:F,end:a},integrated:{start:P,end:d}})}else return;const k=f.resumeTime;v||k>s?u=s:u=k}),u<s){var l;const f=u,p=d,g=s-u;d+=g;const v=a;a+=g,r.push({previousEvent:((l=r[r.length-1])==null?void 0:l.event)||null,nextEvent:null,start:u,end:f+g,playout:{start:v,end:a},integrated:{start:p,end:d}})}this.setDurations(s,a,d)}else r.push({previousEvent:null,nextEvent:null,start:0,end:s,playout:{start:0,end:s},integrated:{start:0,end:s}}),this.setDurations(s,s,s);return r}setDurations(e,n,r){this.durations={primary:e,playout:n,integrated:r}}resolveOffsets(e,n){const r=n.main.details,i=r.live?1/0:r.edge;let s=0,a=-1;e.forEach((l,u)=>{const d=l.cue.pre,f=l.cue.post,p=d?0:f?i:l.startTime;this.updateAssetDurations(l),a===p?l.cumulativeDuration=s:(s=0,a=p),!f&&l.snapOptions.in&&(l.resumeAnchor=rl(null,r.fragments,l.startOffset+l.resumptionOffset,0,0)||void 0),l.appendInPlace&&!l.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(l,n)||(l.appendInPlace=!1)),!l.appendInPlace&&u+1<e.length&&e[u+1].startTime-e[u].resumeTime<B2&&(e[u+1].appendInPlace=!1,e[u+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${l}`));const v=Je(l.resumeOffset)?l.resumeOffset:l.duration;s+=v})}primaryCanResumeInPlaceAt(e,n){const r=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(r-i)>pc?(this.log(`"${e.identifier}" resumption ${r} not aligned with estimated timeline end ${i}`),!1):!Object.keys(n).some(a=>{const l=n[a].details,u=l.edge;if(r>=u)return this.log(`"${e.identifier}" resumption ${r} past ${a} playlist end ${u}`),!1;const d=rl(null,l.fragments,r);if(!d)return this.log(`"${e.identifier}" resumption ${r} does not align with any fragments in ${a} playlist (${l.fragStart}-${l.fragmentEnd})`),!0;const f=a==="audio"?.175:0;return Math.abs(d.start-r)<pc+f||Math.abs(d.end-r)<pc+f?!1:(this.log(`"${e.identifier}" resumption ${r} not aligned with ${a} fragment bounds (${d.start}-${d.end} sn: ${d.sn} cc: ${d.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const n=e.timelineStart;let r=0,i=!1,s=!1;for(let a=0;a<e.assetList.length;a++){const l=e.assetList[a],u=n+r;l.startOffset=r,l.timelineStart=u,i||(i=l.duration===null),s||(s=!!l.error);const d=l.error?0:l.duration||0;r+=d}i&&!s?e.duration=Math.max(r,e.duration):e.duration=r}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function ns(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class BZ{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,n){const r=e.assetListUrl;let i;try{i=O_(r,this.hls.sessionId,e.baseUrl)}catch(g){const v=this.assignAssetListError(e,oe.ASSET_LIST_LOAD_ERROR,g,r);this.hls.trigger(M.ERROR,v);return}n&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+n);const s=this.hls.config,a=s.loader,l=new a(s),u={responseType:"json",url:i.href},d=s.interstitialAssetListLoadPolicy.default,f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,v,y,x)=>{const b=g.data,T=b?.ASSETS;if(!Array.isArray(T)){const w=this.assignAssetListError(e,oe.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),y.url,v,x);this.hls.trigger(M.ERROR,w);return}e.assetListResponse=b,this.hls.trigger(M.ASSET_LIST_LOADED,{event:e,assetListResponse:b,networkDetails:x})},onError:(g,v,y,x)=>{const b=this.assignAssetListError(e,oe.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${g.code} ${g.text} (${v.url})`),v.url,x,y);this.hls.trigger(M.ERROR,b)},onTimeout:(g,v,y)=>{const x=this.assignAssetListError(e,oe.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${v.url})`),v.url,g,y);this.hls.trigger(M.ERROR,x)}};return l.load(u,f,p),this.hls.trigger(M.ASSET_LIST_LOADING,{event:e}),l}assignAssetListError(e,n,r,i,s,a){return e.error=r,{type:vt.NETWORK_ERROR,details:n,fatal:!1,interstitial:e,url:i,error:r,networkDetails:a,stats:s}}}function $2(t){t?.play().catch(()=>{})}function Kh(t,e){return`[${t}] Advancing timeline position to ${e}`}class $Z extends Qi{constructor(e,n){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled||!this.schedule)return;const i=r-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const a=i<=-.01;this.timelinePos=r,this.bufferedPos=r;const l=this.playingItem;if(!l){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(r,r-i)&&this.updateSchedule(!0),this.checkBuffer(),a&&r<l.start||r>=l.end){var u;const v=this.findItemIndex(l);let y=this.schedule.findItemIndexAtTime(r);if(y===-1&&(y=v+(a?-1:1),this.log(`seeked ${a?"back ":""}to position not covered by schedule ${r} (resolving from ${v} to ${y})`)),!this.isInterstitial(l)&&(u=this.media)!=null&&u.paused&&(this.shouldPlay=!1),!a&&y>v){const x=this.schedule.findJumpRestrictedIndex(v+1,y);if(x>v){this.setSchedulePosition(x);return}}this.setSchedulePosition(y);return}const d=this.playingAsset;if(!d){if(this.playingLastItem&&this.isInterstitial(l)){const v=l.event.assetList[0];v&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(r,v))}return}const f=d.timelineStart,p=d.duration||0;if(a&&r<f||r>=f+p){var g;(g=l.event)!=null&&g.appendInPlace&&(this.clearInterstitial(l.event,l),this.flushFrontBuffer(r)),this.setScheduleToAssetAtTime(r,d)}},this.onTimeupdate=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;if(r>this.timelinePos)this.timelinePos=r,r>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(r>=i.end){this.timelinePos=i.end;const l=this.findItemIndex(i);this.setSchedulePosition(l+1)}const s=this.playingAsset;if(!s)return;const a=s.timelineStart+(s.duration||0);r>=a&&this.setScheduleToAssetAtTime(r,s)},this.onScheduleUpdate=(r,i)=>{const s=this.schedule;if(!s)return;const a=this.playingItem,l=s.events||[],u=s.items||[],d=s.durations,f=r.map(x=>x.identifier),p=!!(l.length||f.length);(p||i)&&this.log(`INTERSTITIALS_UPDATED (${l.length}): ${l}
Schedule: ${u.map(x=>ns(x))} pos: ${this.timelinePos}`),f.length&&this.log(`Removed events ${f}`);let g=null,v=null;a&&(g=this.updateItem(a,this.timelinePos),this.itemsMatch(a,g)?this.playingItem=g:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const y=this.bufferingItem;if(y&&(v=this.updateItem(y,this.bufferedPos),this.itemsMatch(y,v)?this.bufferingItem=v:y.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(y.event,null))),r.forEach(x=>{x.assetList.forEach(b=>{this.clearAssetPlayer(b.identifier,null)})}),this.playerQueue.forEach(x=>{if(x.interstitial.appendInPlace){const b=x.assetItem.timelineStart,T=x.timelineOffset-b;if(T)try{x.timelineOffset=b}catch(w){Math.abs(T)>pc&&this.warn(`${w} ("${x.assetId}" ${x.timelineOffset}->${b})`)}}}),p||i){if(this.hls.trigger(M.INTERSTITIALS_UPDATED,{events:l.slice(0),schedule:u.slice(0),durations:d,removedIds:f}),this.isInterstitial(a)&&f.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}a&&this.trimInPlace(g,a),y&&v!==g&&this.trimInPlace(v,y),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=n,this.assetListLoader=new BZ(e),this.schedule=new NZ(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(M.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(M.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(M.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(M.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(M.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(M.BUFFER_APPENDED,this.onBufferAppended,this),e.on(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(M.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(M.MEDIA_ENDED,this.onMediaEnded,this),e.on(M.ERROR,this.onError,this),e.on(M.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(M.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(M.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(M.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(M.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(M.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(M.BUFFER_CODECS,this.onBufferCodecs,this),e.off(M.BUFFER_APPENDED,this.onBufferAppended,this),e.off(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(M.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(M.MEDIA_ENDED,this.onMediaEnded,this),e.off(M.ERROR,this.onError,this),e.off(M.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){ti(e,"play",this.onPlay),ti(e,"pause",this.onPause),ti(e,"seeking",this.onSeeking),ti(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,n){const r=this.media=n.media;Vr(r,"seeking",this.onSeeking),Vr(r,"timeupdate",this.onTimeupdate),Vr(r,"play",this.onPlay),Vr(r,"pause",this.onPause)}onMediaAttached(e,n){const r=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,r===null)this.checkStart();else if(!i){this.clearScheduleState();const s=this.findItemIndex(r);this.setSchedulePosition(s)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,n){const r=!!n.transferMedia,i=this.media;if(this.media=null,!r&&(i&&this.removeMediaListeners(i),this.detachedData)){const s=this.getBufferingPlayer();s&&(this.log(`Removing schedule state for detachedData and ${s}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,s.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,n=()=>e.bufferingItem||e.waitingItem,r=p=>p&&e.getAssetPlayer(p.identifier),i=(p,g,v,y,x)=>{if(p){let b=p[g].start;const T=p.event;if(T){if(g==="playout"||T.timelineOccupancy!==im.Point){const w=r(v);w?.interstitial===T&&(b+=w.assetItem.startOffset+w[x])}}else{const w=y==="bufferedPos"?a():e[y];b+=w-p.start}return b}return 0},s=(p,g)=>{var v;if(p!==0&&g!=="primary"&&(v=e.schedule)!=null&&v.length){var y;const x=e.schedule.findItemIndexAtTime(p),b=(y=e.schedule.items)==null?void 0:y[x];if(b){const T=b[g].start-b.start;return p+T}}return p},a=()=>{const p=e.bufferedPos;return p===Number.MAX_VALUE?l("primary"):Math.max(p,0)},l=p=>{var g,v;return(g=e.primaryDetails)!=null&&g.live?e.primaryDetails.edge:((v=e.schedule)==null?void 0:v.durations[p])||0},u=(p,g)=>{var v,y;const x=e.effectivePlayingItem;if(x!=null&&(v=x.event)!=null&&v.restrictions.skip||!e.schedule)return;e.log(`seek to ${p} "${g}"`);const b=e.effectivePlayingItem,T=e.schedule.findItemIndexAtTime(p,g),w=(y=e.schedule.items)==null?void 0:y[T],C=e.getBufferingPlayer(),R=C?.interstitial,L=R?.appendInPlace,D=b&&e.itemsMatch(b,w);if(b&&(L||D)){const k=r(e.playingAsset),P=k?.media||e.primaryMedia;if(P){const F=g==="primary"?P.currentTime:i(b,g,e.playingAsset,"timelinePos","currentTime"),O=p-F,$=(L?F:P.currentTime)+O;if($>=0&&(!k||L||$<=k.duration)){P.currentTime=$;return}}}if(w){let k=p;if(g!=="primary"){const F=w[g].start,O=p-F;k=w.start+O}const P=!e.isInterstitial(w);if((!e.isInterstitial(b)||b.event.appendInPlace)&&(P||w.event.appendInPlace)){const F=e.media||(L?C?.media:null);F&&(F.currentTime=k)}else if(b){const F=e.findItemIndex(b);if(T>F){const $=e.schedule.findJumpRestrictedIndex(F+1,T);if($>F){e.setSchedulePosition($);return}}let O=0;if(P)e.timelinePos=k,e.checkBuffer();else{const $=w.event.assetList,_=p-(w[g]||w).start;for(let K=$.length;K--;){const z=$[K];if(z.duration&&_>=z.startOffset&&_<z.startOffset+z.duration){O=K;break}}}e.setSchedulePosition(T,O)}}},d=()=>{const p=e.effectivePlayingItem;if(e.isInterstitial(p))return p;const g=n();return e.isInterstitial(g)?g:null},f={get bufferedEnd(){const p=n(),g=e.bufferingItem;if(g&&g===p){var v;return i(g,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-g.playout.start||((v=e.bufferingAsset)==null?void 0:v.startOffset)||0}return 0},get currentTime(){const p=d(),g=e.effectivePlayingItem;return g&&g===p?i(g,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-g.playout.start:0},set currentTime(p){const g=d(),v=e.effectivePlayingItem;v&&v===g&&u(p+v.playout.start,"playout")},get duration(){const p=d();return p?p.playout.end-p.playout.start:0},get assetPlayers(){var p;const g=(p=d())==null?void 0:p.event.assetList;return g?g.map(v=>e.getAssetPlayer(v.identifier)):[]},get playingIndex(){var p;const g=(p=d())==null?void 0:p.event;return g&&e.effectivePlayingAsset?g.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return d()}};return this.manager={get events(){var p;return((p=e.schedule)==null||(p=p.events)==null?void 0:p.slice(0))||[]},get schedule(){var p;return((p=e.schedule)==null||(p=p.items)==null?void 0:p.slice(0))||[]},get interstitialPlayer(){return d()?f:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const p=n();return e.findItemIndex(p)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const p=e.effectivePlayingItem;return e.findItemIndex(p)},primary:{get bufferedEnd(){return a()},get currentTime(){const p=e.timelinePos;return p>0?p:0},set currentTime(p){u(p,"primary")},get duration(){return l("primary")},get seekableStart(){var p;return((p=e.primaryDetails)==null?void 0:p.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(n(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(p){u(p,"integrated")},get duration(){return l("integrated")},get seekableStart(){var p;return s(((p=e.primaryDetails)==null?void 0:p.fragmentStart)||0,"integrated")}},skip:()=>{const p=e.effectivePlayingItem,g=p?.event;if(g&&!g.restrictions.skip){const v=e.findItemIndex(p);if(g.appendInPlace){const y=p.playout.start+p.event.duration;u(y+.001,"playout")}else e.advanceAfterAssetEnded(g,v,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const n=this.playingItem,r=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!n||!r?!1:this.findItemIndex(n)===r.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,n;if(this.mediaSelection===null)return;const r=this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&!r.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const s=(n=i)==null?void 0:n.currentTime;if(!(s===void 0||!Je(s)))return s}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,n){const r=this.getAssetPlayer(e);r&&this.transferMediaFromPlayer(r,n)}transferMediaFromPlayer(e,n){const r=e.interstitial.appendInPlace,i=e.media;if(r&&i===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&i){this.detachedData={media:i};return}const s=e.transferMedia();this.log(`transfer MediaSource from ${e} ${In(s)}`),this.detachedData=s}else n&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,n){var r,i;if(e.media===n)return;let s=null;const a=this.hls,l=e!==a,u=l&&e.interstitial.appendInPlace,d=(r=this.detachedData)==null?void 0:r.mediaSource;let f;if(a.media)u&&(s=a.transferMedia(),this.detachedData=s),f="Primary";else if(d){const y=this.getBufferingPlayer();y?(s=y.transferMedia(),f=`${y}`):f="detached MediaSource"}else f="detached media";if(!s){if(d)s=this.detachedData,this.log(`using detachedData: MediaSource ${In(s)}`);else if(!this.detachedData||a.media===n){const y=this.playerQueue;y.length>1&&y.forEach(x=>{if(l&&x.interstitial.appendInPlace!==u){const b=x.interstitial;this.clearInterstitial(x.interstitial,null),b.appendInPlace=!1,b.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${b}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const p=s&&"mediaSource"in s&&((i=s.mediaSource)==null?void 0:i.readyState)!=="closed",g=p&&s?s:n;this.log(`${p?"transfering MediaSource":"attaching media"} to ${l?e:"Primary"} from ${f} (media.currentTime: ${n.currentTime})`);const v=this.schedule;if(g===s&&v){const y=l&&e.assetId===v.assetIdAtEnd;g.overrides={duration:v.duration,endOfStream:!l||y,cueRemoval:!l}}e.attachMedia(g)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,n=e?.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const r=this.timelinePos,i=this.effectivePlayingItem;if(r===-1){const s=this.hls.startPosition;if(this.log(Kh("checkStart",s)),this.timelinePos=s,n.length&&n[0].cue.pre){const a=e.findEventIndex(n[0].identifier);this.setSchedulePosition(a)}else if(s>=0||!this.primaryLive){const a=this.timelinePos=s>0?s:0,l=e.findItemIndexAtTime(a);this.setSchedulePosition(l)}}else if(i&&!this.playingItem){const s=e.findItemIndex(i);this.setSchedulePosition(s)}}advanceAssetBuffering(e,n){const r=e.event,i=r.findAssetIndex(n),s=Ty(r,i);if(!r.isAssetPastPlayoutLimit(s))this.bufferedToEvent(e,s);else if(this.schedule){var a;const l=(a=this.schedule.items)==null?void 0:a[this.findItemIndex(e)+1];l&&this.bufferedToItem(l)}}advanceAfterAssetEnded(e,n,r){const i=Ty(e,r);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const s=this.schedule.items;if(s){const a=n+1,l=s.length;if(a>=l){this.setSchedulePosition(-1);return}const u=e.resumeTime;this.timelinePos<u&&(this.log(Kh("advanceAfterAssetEnded",u)),this.timelinePos=u,e.appendInPlace&&this.advanceInPlace(u),this.checkBuffer(this.bufferedPos<u)),this.setSchedulePosition(a)}}}else{if(e.appendInPlace){const s=e.assetList[i];s&&this.advanceInPlace(s.timelineStart)}this.setSchedulePosition(n,i)}}setScheduleToAssetAtTime(e,n){const r=this.schedule;if(!r)return;const i=n.parentIdentifier,s=r.getEvent(i);if(s){const a=r.findEventIndex(i),l=r.findAssetIndex(s,e);this.advanceAfterAssetEnded(s,a,l-1)}}setSchedulePosition(e,n){var r;const i=(r=this.schedule)==null?void 0:r.items;if(!i||this.playbackDisabled)return;const s=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${n} (${s&&ns(s)}) pos: ${this.timelinePos}`);const a=this.waitingItem||this.playingItem,l=this.playingLastItem;if(this.isInterstitial(a)){const f=a.event,p=this.playingAsset,g=p?.identifier,v=g?this.getAssetPlayer(g):null;if(v&&g&&(!this.eventItemsMatch(a,s)||n!==void 0&&g!==f.assetList[n].identifier)){var u;const y=f.findAssetIndex(p);if(this.log(`INTERSTITIAL_ASSET_ENDED ${y+1}/${f.assetList.length} ${rc(p)}`),this.endedAsset=p,this.playingAsset=null,this.hls.trigger(M.INTERSTITIAL_ASSET_ENDED,{asset:p,assetListIndex:y,event:f,schedule:i.slice(0),scheduleIndex:e,player:v}),a!==this.playingItem){this.itemsMatch(a,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(f,this.findItemIndex(this.playingItem),y);return}this.retreiveMediaSource(g,s),v.media&&!((u=this.detachedData)!=null&&u.mediaSource)&&v.detachMedia()}if(!this.eventItemsMatch(a,s)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${f} ${ns(a)}`),f.hasPlayed=!0,this.hls.trigger(M.INTERSTITIAL_ENDED,{event:f,schedule:i.slice(0),scheduleIndex:e}),f.cue.once)){var d;this.updateSchedule();const y=(d=this.schedule)==null?void 0:d.items;if(s&&y){const x=this.findItemIndex(s);this.advanceSchedule(x,y,n,a,l)}return}}this.advanceSchedule(e,i,n,a,l)}advanceSchedule(e,n,r,i,s){const a=this.schedule;if(!a)return;const l=n[e]||null,u=this.primaryMedia,d=this.playerQueue;if(d.length&&d.forEach(f=>{const p=f.interstitial,g=a.findEventIndex(p.identifier);(g<e||g>e+1)&&this.clearInterstitial(p,l)}),this.isInterstitial(l)){this.timelinePos=Math.min(Math.max(this.timelinePos,l.start),l.end);const f=l.event;if(r===void 0){r=a.findAssetIndex(f,this.timelinePos);const y=Ty(f,r-1);if(f.isAssetPastPlayoutLimit(y)||f.appendInPlace&&this.timelinePos===l.end){this.advanceAfterAssetEnded(f,e,r);return}r=y}const p=this.waitingItem;this.assetsBuffered(l,u)||this.setBufferingItem(l);let g=this.preloadAssets(f,r);if(this.eventItemsMatch(l,p||i)||(this.waitingItem=l,this.log(`INTERSTITIAL_STARTED ${ns(l)} ${f.appendInPlace?"append in place":""}`),this.hls.trigger(M.INTERSTITIAL_STARTED,{event:f,schedule:n.slice(0),scheduleIndex:e})),!f.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${f}`);return}if(f.assetListLoader&&(f.assetListLoader.destroy(),f.assetListLoader=void 0),!u){this.log(`Waiting for attachMedia to start Interstitial ${f}`);return}this.waitingItem=this.endedItem=null,this.playingItem=l;const v=f.assetList[r];if(!v){this.advanceAfterAssetEnded(f,e,r||0);return}if(g||(g=this.getAssetPlayer(v.identifier)),g===null||g.destroyed){const y=f.assetList.length;this.warn(`asset ${r+1}/${y} player destroyed ${f}`),g=this.createAssetPlayer(f,v,r),g.loadSource()}if(!this.eventItemsMatch(l,this.bufferingItem)&&f.appendInPlace&&this.isAssetBuffered(v))return;this.startAssetPlayer(g,r,n,e,u),this.shouldPlay&&$2(g.media)}else l?(this.resumePrimary(l,e,i),this.shouldPlay&&$2(this.hls.media)):s&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(a.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,n,r){var i,s;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${ns(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let l=this.timelinePos;(l<e.start||l>=e.end)&&(l=this.getPrimaryResumption(e,n),this.log(Kh("resumePrimary",l)),this.timelinePos=l),this.attachPrimary(l,e)}if(!r)return;const a=(s=this.schedule)==null?void 0:s.items;a&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${ns(e)}`),this.hls.trigger(M.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(e,n){const r=e.start;if(this.primaryLive){const i=this.primaryDetails;if(n===0)return this.hls.startPosition;if(i&&(r<i.fragmentStart||r>i.edge))return this.hls.liveSyncPosition||-1}return r}isAssetBuffered(e){const n=this.getAssetPlayer(e.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:Mt.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,n,r){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const s=this.hls;s.media?this.checkBuffer():(this.transferMediaTo(s,i),r&&this.startLoadingPrimaryAt(e,r)),r||(this.log(Kh("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,r))}startLoadingPrimaryAt(e,n){var r;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((r=i.mainForwardBufferInfo)==null?void 0:r.start)||i.media.currentTime)-e)>.5?i.startLoad(e,n):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(M.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(M.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,n){if(n.level===-1||!this.schedule)return;const r=this.hls.levels[n.level];if(!r.details)return;const i=gn(gn({},this.mediaSelection||this.altSelection),{},{main:r});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,n){const r=this.hls.audioTracks[n.id],i=this.mediaSelection;if(!i){this.altSelection=gn(gn({},this.altSelection),{},{audio:r});return}const s=gn(gn({},i),{},{audio:r});this.mediaSelection=s}onSubtitleTrackUpdated(e,n){const r=this.hls.subtitleTracks[n.id],i=this.mediaSelection;if(!i){this.altSelection=gn(gn({},this.altSelection),{},{subtitles:r});return}const s=gn(gn({},i),{},{subtitles:r});this.mediaSelection=s}onAudioTrackSwitching(e,n){const r=qR(n);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(n)||i.setAudioOption(r)))}onSubtitleTrackSwitch(e,n){const r=qR(n);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(n)||n.id!==-1&&i.setSubtitleOption(r)))}onBufferCodecs(e,n){const r=n.tracks;r&&(this.requiredTracks=r)}onBufferAppended(e,n){this.checkBuffer()}onBufferFlushed(e,n){const r=this.playingItem;if(r&&!this.itemsMatch(r,this.bufferingItem)&&!this.isInterstitial(r)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let i=0;i<n.length;i++){const s=n[i];if(s.cue.post){var r;const a=this.schedule.findEventIndex(s.identifier),l=(r=this.schedule.items)==null?void 0:r[a];this.isInterstitial(l)&&this.eventItemsMatch(l,this.bufferingItem)&&this.bufferedToItem(l,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const n=this.playingItem;if(!this.playingLastItem&&n){const r=this.findItemIndex(n);this.setSchedulePosition(r+1)}else this.shouldPlay=!1}updateItem(e,n){var r;const i=(r=this.schedule)==null?void 0:r.items;if(e&&i){const s=this.findItemIndex(e,n);return i[s]||null}return null}trimInPlace(e,n){if(this.isInterstitial(e)&&e.event.appendInPlace&&n.end-e.end>.25){e.event.assetList.forEach((s,a)=>{e.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(s.identifier,null)});const r=e.end+.25,i=Mt.bufferInfo(this.primaryMedia,r,0);(i.end>r||(i.nextStart||0)>r)&&(this.log(`trim buffered interstitial ${ns(e)} (was ${ns(n)})`),this.attachPrimary(r,null,!0),this.flushFrontBuffer(r))}}itemsMatch(e,n){return!!n&&(e===n||e.event&&n.event&&this.eventItemsMatch(e,n)||!e.event&&!n.event&&this.findItemIndex(e)===this.findItemIndex(n))}eventItemsMatch(e,n){var r;return!!n&&(e===n||e.event.identifier===((r=n.event)==null?void 0:r.identifier))}findItemIndex(e,n){return e&&this.schedule?this.schedule.findItemIndex(e,n):-1}updateSchedule(e=!1){var n;const r=this.mediaSelection;r&&((n=this.schedule)==null||n.updateSchedule(r,[],e))}checkBuffer(e){var n;const r=(n=this.schedule)==null?void 0:n.items;if(!r)return;const i=Mt.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,r,e)}updateBufferedPos(e,n,r){const i=this.schedule,s=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(n.length===1&&this.itemsMatch(n[0],s)){this.bufferedPos=e;return}const a=this.playingItem,l=this.findItemIndex(a);let u=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var d;const f=this.findItemIndex(s),p=Math.min(f+1,n.length-1),g=n[p];if((u===-1&&s&&e>=s.end||(d=g.event)!=null&&d.appendInPlace&&e+.01>=g.start)&&(u=p),this.isInterstitial(s)){const v=s.event;if(p-l>1&&v.appendInPlace===!1||v.assetList.length===0&&v.assetListLoader)return}if(this.bufferedPos=e,u>f&&u>l)this.bufferedToItem(g);else{const v=this.primaryDetails;this.primaryLive&&v&&e>v.edge-v.targetduration&&g.start<v.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(g)&&this.preloadAssets(g.event,0)}}else r&&a&&!this.itemsMatch(a,s)&&(u===l?this.bufferedToItem(a):u===l+1&&this.bufferedToItem(n[u]))}assetsBuffered(e,n){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const s=this.getAssetPlayer(i.identifier);return!(s!=null&&s.bufferedInPlaceToEnd(n))})}setBufferingItem(e){const n=this.bufferingItem,r=this.schedule;if(!this.itemsMatch(e,n)&&r){const{items:i,events:s}=r;if(!i||!s)return n;const a=this.isInterstitial(e),l=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const u=l?l.remaining:n?n.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${ns(e)}`+(n?` (${u.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(a){const d=r.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((f,p)=>{const g=this.getAssetPlayer(f.identifier);g&&(p===d&&g.loadSource(),g.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(d=>d.pauseBuffering());this.hls.trigger(M.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:s.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return n}bufferedToItem(e,n=0){const r=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,n);else if(r!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const n=this.findItemIndex(e),r=this.getPrimaryResumption(e,n);this.startLoadingPrimaryAt(r)}bufferedToEvent(e,n){const r=e.event,i=r.assetList.length===0&&!r.assetListLoader,s=r.cue.once;if(i||!s){const a=this.preloadAssets(r,n);if(a!=null&&a.interstitial.appendInPlace){const l=this.primaryMedia;l&&this.bufferAssetPlayer(a,l)}}}preloadAssets(e,n){const r=e.assetUrl,i=e.assetList.length,s=i===0&&!e.assetListLoader,a=e.cue.once;if(s){const u=e.timelineStart;if(e.appendInPlace){var l;const g=this.playingItem;!this.isInterstitial(g)&&(g==null||(l=g.nextEvent)==null?void 0:l.identifier)===e.identifier&&this.flushFrontBuffer(u+.25)}let d,f=0;if(!this.playingItem&&this.primaryLive&&(f=this.hls.startPosition,f===-1&&(f=this.hls.liveSyncPosition||0)),f&&!(e.cue.pre||e.cue.post)){const g=f-u;g>0&&(d=Math.round(g*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${r?1:i} ${e}${d?` live-start: ${f} start-offset: ${d}`:""}`),r)return this.createAsset(e,0,0,u,e.duration,r);const p=this.assetListLoader.loadAssetList(e,d);p&&(e.assetListLoader=p)}else if(!a&&i){for(let d=n;d<i;d++){const f=e.assetList[d],p=this.getAssetPlayerQueueIndex(f.identifier);(p===-1||this.playerQueue[p].destroyed)&&!f.error&&this.createAssetPlayer(e,f,d)}const u=e.assetList[n];if(u){const d=this.getAssetPlayer(u.identifier);return d&&d.loadSource(),d}}return null}flushFrontBuffer(e){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(n).forEach(i=>{this.hls.trigger(M.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const n=this.playerQueue;for(let r=0;r<n.length;r++)if(e===n[r].assetId)return r;return-1}getAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:n}=this;if(n){for(let r=0;r<e.length;r++)if(e[r].media===n)return e[r]}return null}createAsset(e,n,r,i,s,a){const l={parentIdentifier:e.identifier,identifier:PZ(e,a,n),duration:s,startOffset:r,timelineStart:i,uri:a};return this.createAssetPlayer(e,l,n)}createAssetPlayer(e,n,r){const i=this.hls,s=i.userConfig;let a=s.videoPreference;const l=i.loadLevelObj||i.levels[i.currentLevel];(a||l)&&(a=Cn({},a),l.videoCodec&&(a.videoCodec=l.videoCodec),l.videoRange&&(a.allowedVideoRanges=[l.videoRange]));const u=i.audioTracks[i.audioTrack],d=i.subtitleTracks[i.subtitleTrack];let f=0;if(this.primaryLive||e.appendInPlace){const R=this.timelinePos-n.timelineStart;if(R>1){const L=n.duration;L&&R<L&&(f=R)}}const p=n.identifier,g=gn(gn({},s),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:p,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:f,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:u||s.audioPreference,subtitlePreference:d||s.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,n.timelineStart&&(g.timelineOffset=n.timelineStart));const v=g.cmcd;v!=null&&v.sessionId&&v.contentId&&(g.cmcd=Cn({},v,{contentId:pd(n.uri)})),this.getAssetPlayer(p)&&this.warn(`Duplicate date range identifier ${e} and asset ${p}`);const y=new FZ(this.HlsPlayerClass,g,e,n);this.playerQueue.push(y),e.assetList[r]=n;let x=!0;const b=R=>{if(R.live){var L;const P=new Error(`Interstitials MUST be VOD assets ${e}`),F={fatal:!0,type:vt.OTHER_ERROR,details:oe.INTERSTITIAL_ASSET_ITEM_ERROR,error:P},O=((L=this.schedule)==null?void 0:L.findEventIndex(e.identifier))||-1;this.handleAssetItemError(F,e,O,r,P.message);return}const D=R.edge-R.fragmentStart,k=n.duration;(x||k===null||D>k)&&(x=!1,this.log(`Interstitial asset "${p}" duration change ${k} > ${D}`),n.duration=D,this.updateSchedule())};y.on(M.LEVEL_UPDATED,(R,{details:L})=>b(L)),y.on(M.LEVEL_PTS_UPDATED,(R,{details:L})=>b(L)),y.on(M.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const T=(R,L)=>{const D=this.getAssetPlayer(p);if(D&&L.tracks){D.off(M.BUFFER_CODECS,T),D.tracks=L.tracks;const k=this.primaryMedia;this.bufferingAsset===D.assetItem&&k&&!D.media&&this.bufferAssetPlayer(D,k)}};y.on(M.BUFFER_CODECS,T);const w=()=>{var R;const L=this.getAssetPlayer(p);if(this.log(`buffered to end of asset ${L}`),!L||!this.schedule)return;const D=this.schedule.findEventIndex(e.identifier),k=(R=this.schedule.items)==null?void 0:R[D];this.isInterstitial(k)&&this.advanceAssetBuffering(k,n)};y.on(M.BUFFERED_TO_END,w);const C=R=>()=>{if(!this.getAssetPlayer(p)||!this.schedule)return;this.shouldPlay=!0;const D=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,D,R)};return y.once(M.MEDIA_ENDED,C(r)),y.once(M.PLAYOUT_LIMIT_REACHED,C(1/0)),y.on(M.ERROR,(R,L)=>{if(!this.schedule)return;const D=this.getAssetPlayer(p);if(L.details===oe.BUFFER_STALLED_ERROR){if(D!=null&&D.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(L,e,this.schedule.findEventIndex(e.identifier),r,`Asset player error ${L.error} ${e}`)}),y.on(M.DESTROYING,()=>{if(!this.getAssetPlayer(p)||!this.schedule)return;const L=new Error(`Asset player destroyed unexpectedly ${p}`),D={fatal:!0,type:vt.OTHER_ERROR,details:oe.INTERSTITIAL_ASSET_ITEM_ERROR,error:L};this.handleAssetItemError(D,e,this.schedule.findEventIndex(e.identifier),r,L.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${rc(n)}`),this.hls.trigger(M.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:r,event:e,player:y}),y}clearInterstitial(e,n){e.assetList.forEach(r=>{this.clearAssetPlayer(r.identifier,n)}),e.reset()}resetAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`reset asset player "${e}" after error`);const r=this.playerQueue[n];this.transferMediaFromPlayer(r,null),r.resetDetails()}}clearAssetPlayer(e,n){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){const i=this.playerQueue[r];this.log(`clear ${i} toSegment: ${n&&ns(n)}`),this.transferMediaFromPlayer(i,n),this.playerQueue.splice(r,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,n,r,i,s){const{interstitial:a,assetItem:l,assetId:u}=e,d=a.assetList.length,f=this.playingAsset;this.endedAsset=null,this.playingAsset=l,(!f||f.identifier!==u)&&(f&&(this.clearAssetPlayer(f.identifier,r[i]),delete f.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${d} ${rc(l)}`),this.hls.trigger(M.INTERSTITIAL_ASSET_STARTED,{asset:l,assetListIndex:n,event:a,schedule:r.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,s)}bufferAssetPlayer(e,n){var r,i;if(!this.schedule)return;const{interstitial:s,assetItem:a}=e,l=this.schedule.findEventIndex(s.identifier),u=(r=this.schedule.items)==null?void 0:r[l];if(!u)return;e.loadSource(),this.setBufferingItem(u),this.bufferingAsset=a;const d=this.getBufferingPlayer();if(d===e)return;const f=s.appendInPlace;if(f&&d?.interstitial.appendInPlace===!1)return;const p=d?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(f&&a!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(p&&!gD(p,e.tracks)){const g=new Error(`Asset ${rc(a)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(p)}')`),v={fatal:!0,type:vt.OTHER_ERROR,details:oe.INTERSTITIAL_ASSET_ITEM_ERROR,error:g},y=s.findAssetIndex(a);this.handleAssetItemError(v,s,l,y,g.message);return}}this.transferMediaTo(e,n)}handleInPlaceStall(e){const n=this.schedule,r=this.primaryMedia;if(!n||!r)return;const i=r.currentTime,s=n.findAssetIndex(e,i),a=e.assetList[s];if(a){const l=this.getAssetPlayer(a.identifier);if(l){const u=l.currentTime||i-a.timelineStart,d=l.duration-u;if(this.warn(`Stalled at ${u} of ${u+d} in ${l} ${e} (media.currentTime: ${i})`),u&&(d/r.playbackRate<.5||l.bufferedInPlaceToEnd(r))&&l.hls){const f=n.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,f,s)}}}}advanceInPlace(e){const n=this.primaryMedia;n&&n.currentTime<e&&(n.currentTime=e)}handleAssetItemError(e,n,r,i,s){if(e.details===oe.BUFFER_STALLED_ERROR)return;const a=n.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&rc(a)} ${e.error}`),!this.schedule)return;const l=a?.identifier||"",u=this.getAssetPlayerQueueIndex(l),d=this.playerQueue[u]||null,f=this.schedule.items,p=Cn({},e,{fatal:!1,errorAction:dc(!0),asset:a,assetListIndex:i,event:n,schedule:f,scheduleIndex:r,player:d});if(this.hls.trigger(M.INTERSTITIAL_ASSET_ERROR,p),!e.fatal)return;const g=this.playingAsset,v=this.bufferingAsset,y=new Error(s);if(a&&(this.clearAssetPlayer(l,null),a.error=y),!n.assetList.some(x=>!x.error))n.error=y;else for(let x=i;x<n.assetList.length;x++)this.resetAssetPlayer(n.assetList[x].identifier);this.updateSchedule(!0),n.error?this.primaryFallback(n):g&&g.identifier===l?this.advanceAfterAssetEnded(n,r,i):v&&v.identifier===l&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,v)}primaryFallback(e){const n=e.timelineStart,r=this.effectivePlayingItem;if(r){this.log(`Fallback to primary from event "${e.identifier}" start: ${n} pos: ${this.timelinePos} playing: ${ns(r)} error: ${e.error}`);let i=this.timelinePos;i===-1&&(i=this.hls.startPosition);const s=this.updateItem(r,i);if(this.itemsMatch(r,s)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n)),!this.schedule)return;const a=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(a)}else this.checkStart()}onAssetListLoaded(e,n){var r,i;const s=n.event,a=s.identifier,l=n.assetListResponse.ASSETS;if(!((r=this.schedule)!=null&&r.hasEvent(a)))return;const u=s.timelineStart,d=s.duration;let f=0;l.forEach((x,b)=>{const T=parseFloat(x.DURATION);this.createAsset(s,b,f,u+f,T,x.URI),f+=T}),s.duration=f,this.log(`Loaded asset-list with duration: ${f} (was: ${d}) ${s}`);const p=this.waitingItem,g=p?.event.identifier===a;this.updateSchedule();const v=(i=this.bufferingItem)==null?void 0:i.event;if(g){var y;const x=this.schedule.findEventIndex(a),b=(y=this.schedule.items)==null?void 0:y[x];if(b){if(!this.playingItem&&this.timelinePos>b.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==x){s.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${s}`),this.updateSchedule(!0),this.primaryFallback(s);return}this.setBufferingItem(b)}this.setSchedulePosition(x)}else if(v?.identifier===a){const x=s.assetList[0];if(x){const b=this.getAssetPlayer(x.identifier);if(v.appendInPlace){const T=this.primaryMedia;b&&T&&this.bufferAssetPlayer(b,T)}else b&&b.loadSource()}}}onError(e,n){if(this.schedule)switch(n.details){case oe.ASSET_LIST_PARSING_ERROR:case oe.ASSET_LIST_LOAD_ERROR:case oe.ASSET_LIST_LOAD_TIMEOUT:{const r=n.interstitial;r&&(this.updateSchedule(!0),this.primaryFallback(r));break}case oe.BUFFER_STALLED_ERROR:{const r=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&r.event.appendInPlace){this.handleInPlaceStall(r.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const j2=500;class jZ extends g1{constructor(e,n,r){super(e,n,r,"subtitle-stream-controller",ct.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(M.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(M.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(M.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(M.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,n){this.stopLoad(),this.state=Te.IDLE,this.setInterval(j2),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,n){this.tracksBuffered=[],super.onMediaDetaching(e,n)}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragContextChanged(r)||(ur(r)&&(this.fragPrevious=r),this.state=Te.IDLE),!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const l=r.start;for(let d=0;d<s.length;d++)if(l>=s[d].start&&l<=s[d].end){a=s[d];break}const u=r.start+r.duration;a?a.end=u:(a={start:l,end:u},s.push(a)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null),this.media&&this.tick()}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let l=0;l<a.length;){if(a[l].end<=s){a.shift();continue}else if(a[l].start<s)a[l].start=s;else break;l++}}),this.fragmentTracker.removeFragmentsInRange(r,s,ct.SUBTITLE)}}onError(e,n){const r=n.frag;r?.type===ct.SUBTITLE&&(n.details===oe.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Te.STOPPED&&(this.state=Te.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&x_(this.levels,n)){this.levels=n.map(r=>new Id(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new Id(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ct.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==Te.STOPPED&&this.setInterval(j2)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:s}=this,{details:a,id:l}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${l}`);return}const u=s[l];if(l>=s.length||!u)return;this.log(`Subtitle track ${l} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let d=0;if(a.live||(r=u.details)!=null&&r.live){if(a.deltaUpdateFailed)return;const p=this.mainDetails;if(!p){this.startFragRequested=!1;return}const g=p.fragments[0];if(!u.details)a.hasProgramDateTime&&p.hasProgramDateTime?(nm(a,p),d=a.fragmentStart):g&&(d=g.start,jx(a,d));else{var f;d=this.alignPlaylists(a,u.details,(f=this.levelLastLoaded)==null?void 0:f.details),d===0&&g&&(d=g.start,jx(a,d))}p&&!this.startFragRequested&&this.setStartPosition(p,d)}u.details=a,this.levelLastLoaded=u,l===i&&(this.hls.trigger(M.SUBTITLE_TRACK_UPDATED,{details:a,id:l,groupId:n.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Te.IDLE&&(rl(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&fc(i.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer,p1(i.method)).catch(l=>{throw s.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:n}),l}).then(l=>{const u=performance.now();s.trigger(M.FRAG_DECRYPTED,{frag:n,payload:l,stats:{tstart:a,tdecrypt:u}})}).catch(l=>{this.warn(`${l.name}: ${l.message}`),this.state=Te.IDLE})}}doTick(){if(!this.media){this.state=Te.IDLE;return}if(this.state===Te.IDLE){const{currentTrackId:e,levels:n}=this,r=n?.[e];if(!r||!n.length||!r.details||this.waitForLive(r))return;const{config:i}=this,s=this.getLoadPosition(),a=Mt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:l,len:u}=a,d=r.details,f=this.hls.maxBufferLength+d.levelTargetDuration;if(u>f)return;const p=d.fragments,g=p.length,v=d.edge;let y=null;const x=this.fragPrevious;if(l<v){const w=i.maxFragLookUpTolerance,C=l>v-w?0:w;y=rl(x,p,Math.max(p[0].start,l),C),!y&&x&&x.start<p[0].start&&(y=p[0])}else y=p[g-1];if(y=this.filterReplacedPrimary(y,r.details),!y)return;const b=y.sn-d.startSN,T=p[b-1];if(T&&T.cc===y.cc&&this.fragmentTracker.getState(T)===gr.NOT_LOADED&&(y=T),this.fragmentTracker.getState(y)===gr.NOT_LOADED){const w=this.mapToInitFragWhenRequired(y);w&&this.loadFragment(w,r,l)}}}loadFragment(e,n,r){ur(e)?super.loadFragment(e,n,r):this._loadInitSegment(e,n)}get mediaBufferTimeRanges(){return new UZ(this.tracksBuffered[this.currentTrackId]||[])}}class UZ{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}const zZ={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},M_=t=>String.fromCharCode(zZ[t]||t),rs=15,ra=100,HZ={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},GZ={17:2,18:4,21:6,22:8,23:10,19:13,20:15},VZ={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},KZ={25:2,26:4,29:6,30:8,31:10,27:13,28:15},WZ=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class qZ{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;yn.log(`${this.time} [${e}] ${r}`)}}}const Lo=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class F_{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class YZ{constructor(){this.uchar=" ",this.penState=new F_}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class XZ{constructor(e){this.chars=[],this.pos=0,this.currPenState=new F_,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<ra;n++)this.chars.push(new YZ);this.logger=e}equals(e){for(let n=0;n<ra;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<ra;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<ra;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>ra&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=ra)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=M_(e);if(this.pos>=ra){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<ra;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<ra;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Cy{constructor(e){this.rows=[],this.currRow=rs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<rs;n++)this.rows.push(new XZ(e));this.logger=e}reset(){for(let e=0;e<rs;e++)this.rows[e].clear();this.currRow=rs-1}equals(e){let n=!0;for(let r=0;r<rs;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<rs;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<rs;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+In(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let l=0;l<rs;l++)this.rows[l].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const l=a.rows[s].cueStartTime,u=this.logger.time;if(l!==null&&u!==null&&l<u)for(let d=0;d<this.nrRollUpRows;d++)this.rows[n-this.nrRollUpRows+d+1].copy(a.rows[s+d])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+In(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<rs;s++){const a=this.rows[s].getTextString();a&&(i=s+1,e?n.push("Row "+i+": '"+a+"'"):n.push(a.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class U2{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Cy(r),this.nonDisplayedMemory=new Cy(r),this.lastOutputScreen=new Cy(r),this.currRollUpRow=this.displayedMemory.rows[rs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[rs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+In(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class z2{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=ZZ(),this.logger=void 0;const i=this.logger=new qZ;this.channels=[null,new U2(e,n,i),new U2(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,s=n[r+1]&127;let a=!1,l=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Lo([n[r],n[r+1]])+"] -> ("+Lo([i,s])+")");const u=this.cmdHistory;if(i>=16&&i<=31){if(QZ(i,s,u)){Wh(null,null,u),this.logger.log(3,()=>"Repeated command ("+Lo([i,s])+") is dropped");continue}Wh(i,s,this.cmdHistory),a=this.parseCmd(i,s),a||(a=this.parseMidrow(i,s)),a||(a=this.parsePAC(i,s)),a||(a=this.parseBackgroundAttributes(i,s))}else Wh(null,null,u);if(!a&&(l=this.parseChars(i,s),l)){const f=this.currentChannel;f&&f>0?this.channels[f].insertChars(l):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!l&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Lo([i,s])+" orig: "+Lo([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,a=this.channels[s];return e===20||e===21||e===28||e===29?n===32?a.ccRCL():n===33?a.ccBS():n===34?a.ccAOF():n===35?a.ccAON():n===36?a.ccDER():n===37?a.ccRU(2):n===38?a.ccRU(3):n===39?a.ccRU(4):n===40?a.ccFON():n===41?a.ccRDC():n===42?a.ccTR():n===43?a.ccRTD():n===44?a.ccEDM():n===45?a.ccCR():n===46?a.ccENM():n===47&&a.ccEOC():a.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Lo([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(i||s))return!1;const a=e<=23?1:2;n>=64&&n<=95?r=a===1?HZ[e]:VZ[e]:r=a===1?GZ[e]:KZ[e];const l=this.channels[a];return l?(l.setPAC(this.interpretPAC(r,n)),this.currentChannel=a,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let a;s===17?a=n+80:s===18?a=n+112:a=n+144,this.logger.log(2,()=>"Special char '"+M_(a)+"' in channel "+r),i=[a]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+Lo(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const a={};e===16||e===24?(s=Math.floor((n-32)/2),a.background=WZ[s],n%2===1&&(a.background=a.background+"_semi")):n===45?a.background="transparent":(a.foreground="black",n===47&&(a.underline=!0));const l=e<=23?1:2;return this.channels[l].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Wh(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Wh(t,e,n){n.a=t,n.b=e}function QZ(t,e,n){return n.a===t&&n.b===e}function ZZ(){return{a:null,b:null}}var L1=(function(){if(tm!=null&&tm.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(l,u){if(typeof u!="string"||!Array.isArray(l))return!1;const d=u.toLowerCase();return~l.indexOf(d)?d:!1}function r(l){return n(t,l)}function i(l){return n(e,l)}function s(l,...u){let d=1;for(;d<arguments.length;d++){const f=arguments[d];for(const p in f)l[p]=f[p]}return l}function a(l,u,d){const f=this,p={enumerable:!0};f.hasBeenReset=!1;let g="",v=!1,y=l,x=u,b=d,T=null,w="",C=!0,R="auto",L="start",D=50,k="middle",P=50,F="middle";Object.defineProperty(f,"id",s({},p,{get:function(){return g},set:function(O){g=""+O}})),Object.defineProperty(f,"pauseOnExit",s({},p,{get:function(){return v},set:function(O){v=!!O}})),Object.defineProperty(f,"startTime",s({},p,{get:function(){return y},set:function(O){if(typeof O!="number")throw new TypeError("Start time must be set to a number.");y=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"endTime",s({},p,{get:function(){return x},set:function(O){if(typeof O!="number")throw new TypeError("End time must be set to a number.");x=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"text",s({},p,{get:function(){return b},set:function(O){b=""+O,this.hasBeenReset=!0}})),Object.defineProperty(f,"region",s({},p,{get:function(){return T},set:function(O){T=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"vertical",s({},p,{get:function(){return w},set:function(O){const $=r(O);if($===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=$,this.hasBeenReset=!0}})),Object.defineProperty(f,"snapToLines",s({},p,{get:function(){return C},set:function(O){C=!!O,this.hasBeenReset=!0}})),Object.defineProperty(f,"line",s({},p,{get:function(){return R},set:function(O){if(typeof O!="number"&&O!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");R=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"lineAlign",s({},p,{get:function(){return L},set:function(O){const $=i(O);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");L=$,this.hasBeenReset=!0}})),Object.defineProperty(f,"position",s({},p,{get:function(){return D},set:function(O){if(O<0||O>100)throw new Error("Position must be between 0 and 100.");D=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"positionAlign",s({},p,{get:function(){return k},set:function(O){const $=i(O);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");k=$,this.hasBeenReset=!0}})),Object.defineProperty(f,"size",s({},p,{get:function(){return P},set:function(O){if(O<0||O>100)throw new Error("Size must be between 0 and 100.");P=O,this.hasBeenReset=!0}})),Object.defineProperty(f,"align",s({},p,{get:function(){return F},set:function(O){const $=i(O);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");F=$,this.hasBeenReset=!0}})),f.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a})();class JZ{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function N_(t){function e(r,i,s,a){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(a||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class eJ{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function B_(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const a=i[s].split(n);if(a.length!==2)continue;const l=a[0],u=a[1];e(l,u)}}const qx=new L1(0,0,""),qh=qx.align==="middle"?"middle":"center";function tJ(t,e,n){const r=t;function i(){const l=N_(t);if(l===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),l}function s(l,u){const d=new eJ;B_(l,function(g,v){let y;switch(g){case"region":for(let x=n.length-1;x>=0;x--)if(n[x].id===v){d.set(g,n[x].region);break}break;case"vertical":d.alt(g,v,["rl","lr"]);break;case"line":y=v.split(","),d.integer(g,y[0]),d.percent(g,y[0])&&d.set("snapToLines",!1),d.alt(g,y[0],["auto"]),y.length===2&&d.alt("lineAlign",y[1],["start",qh,"end"]);break;case"position":y=v.split(","),d.percent(g,y[0]),y.length===2&&d.alt("positionAlign",y[1],["start",qh,"end","line-left","line-right","auto"]);break;case"size":d.percent(g,v);break;case"align":d.alt(g,v,["start",qh,"end","left","right"]);break}},/:/,/\s/),u.region=d.get("region",null),u.vertical=d.get("vertical","");let f=d.get("line","auto");f==="auto"&&qx.line===-1&&(f=-1),u.line=f,u.lineAlign=d.get("lineAlign","start"),u.snapToLines=d.get("snapToLines",!0),u.size=d.get("size",100),u.align=d.get("align",qh);let p=d.get("position","auto");p==="auto"&&qx.position===50&&(p=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=p}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),a(),e.endTime=i(),a(),s(t,e)}function $_(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class nJ{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new JZ,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,a=0;for(s=$_(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const l=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,n.buffer=s.slice(a),l}function i(s){B_(s,function(a,l){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const l=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(l!=null&&l[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let a=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new L1(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{tJ(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const l=s.indexOf("-->")!==-1;if(!s||l&&(a=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const rJ=/\r\n|\n\r|\n|\r/g,wy=function(e,n,r=0){return e.slice(r,r+n.length)===n},iJ=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Je(n)||!Je(r)||!Je(i)||!Je(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=3600*1e3*s,n};function I1(t,e,n){return pd(t.toString())+pd(e.toString())+pd(n)}const sJ=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function aJ(t,e,n,r,i,s,a){const l=new nJ,u=wi(new Uint8Array(t)).trim().replace(rJ,`
`).split(`
`),d=[],f=e?fQ(e.baseTime,e.timescale):0;let p="00:00.000",g=0,v=0,y,x=!0;l.oncue=function(b){const T=n[r];let w=n.ccOffset;const C=(g-f)/9e4;if(T!=null&&T.new&&(v!==void 0?w=n.ccOffset=T.start:sJ(n,r,C)),C){if(!e){y=new Error("Missing initPTS for VTT MPEGTS");return}w=C-n.presentationOffset}const R=b.endTime-b.startTime,L=gi((b.startTime+w-v)*9e4,i*9e4)/9e4;b.startTime=Math.max(L,0),b.endTime=Math.max(L+R,0);const D=b.text.trim();b.text=decodeURIComponent(encodeURIComponent(D)),b.id||(b.id=I1(b.startTime,b.endTime,D)),b.endTime>0&&d.push(b)},l.onparsingerror=function(b){y=b},l.onflush=function(){if(y){a(y);return}s(d)},u.forEach(b=>{if(x)if(wy(b,"X-TIMESTAMP-MAP=")){x=!1,b.slice(16).split(",").forEach(T=>{wy(T,"LOCAL:")?p=T.slice(6):wy(T,"MPEGTS:")&&(g=parseInt(T.slice(7)))});try{v=iJ(p)/1e3}catch(T){y=T}return}else b===""&&(x=!1);l.parse(b+`
`)}),l.flush()}const Ay="stpp.ttml.im1t",j_=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,U_=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,oJ={left:"start",center:"center",right:"end",start:"start",end:"end"};function H2(t,e,n,r){const i=Ht(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(l=>wi(l)),a=dQ(e.baseTime,1,e.timescale);try{s.forEach(l=>n(lJ(l,a)))}catch(l){r(l)}}function lJ(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((p,g)=>(p[g]=i.getAttribute(`ttp:${g}`)||s[g],p),{}),l=i.getAttribute("xml:space")!=="preserve",u=G2(Ry(i,"styling","style")),d=G2(Ry(i,"layout","region")),f=Ry(i,"body","[begin]");return[].map.call(f,p=>{const g=z_(p,l);if(!g||!p.hasAttribute("begin"))return null;const v=Iy(p.getAttribute("begin"),a),y=Iy(p.getAttribute("dur"),a);let x=Iy(p.getAttribute("end"),a);if(v===null)throw V2(p);if(x===null){if(y===null)throw V2(p);x=v+y}const b=new L1(v-e,x-e,g);b.id=I1(b.startTime,b.endTime,b.text);const T=d[p.getAttribute("region")],w=u[p.getAttribute("style")],C=cJ(T,w,u),{textAlign:R}=C;if(R){const L=oJ[R];L&&(b.lineAlign=L),b.align=R}return Cn(b,C),b}).filter(p=>p!==null)}function Ry(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function G2(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function z_(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?z_(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function cJ(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(i=n[a]),s.reduce((l,u)=>{const d=Ly(e,r,u)||Ly(t,r,u)||Ly(i,r,u);return d&&(l[u]=d),l},{})}function Ly(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function V2(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Iy(t,e){if(!t)return null;let n=N_(t);return n===null&&(j_.test(t)?n=uJ(t,e):U_.test(t)&&(n=dJ(t,e))),n}function uJ(t,e){const n=j_.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function dJ(t,e){const n=U_.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class Yh{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class fJ{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=W2(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(M.FRAG_LOADING,this.onFragLoading,this),e.on(M.FRAG_LOADED,this.onFragLoaded,this),e.on(M.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(M.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(M.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(M.FRAG_LOADING,this.onFragLoading,this),e.off(M.FRAG_LOADED,this.onFragLoaded,this),e.off(M.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(M.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(M.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Yh(this,"textTrack1"),n=new Yh(this,"textTrack2"),r=new Yh(this,"textTrack3"),i=new Yh(this,"textTrack4");this.cea608Parser1=new z2(1,e,n),this.cea608Parser2=new z2(3,r,i)}addCues(e,n,r,i,s){let a=!1;for(let l=s.length;l--;){const u=s[l],d=hJ(u[0],u[1],n,r);if(d>=0&&(u[0]=Math.min(u[0],n),u[1]=Math.max(u[1],r),a=!0,d/(r-n)>.5))return}if(a||s.push([n,r]),this.config.renderTextTracksNatively){const l=this.captionsTracks[e];this.Cues.newCue(l,n,r,i)}else{const l=this.Cues.newCue(null,n,r,i);this.hls.trigger(M.CUES_PARSED,{type:"captions",cues:l,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s,trackId:a}){const{unparsedVttFrags:l}=this;r===ct.MAIN&&(this.initPTS[n.cc]={baseTime:i,timescale:s,trackId:a}),l.length&&(this.unparsedVttFrags=[],l.forEach(u=>{this.initPTS[u.frag.cc]?this.onFragLoaded(M.FRAG_LOADED,u):this.hls.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(K2(s,{name:e,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:a}=n[e],l=this.getExistingTrack(s,a);if(l)r[e]=l,sc(r[e]),__(r[e],i);else{const u=this.createTextTrack("captions",s,a);u&&(u[e]=!0,r[e]=u)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(M.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(e,n){const r=!!n.transferMedia;if(this.media=null,r)return;const{captionsTracks:i}=this;Object.keys(i).forEach(s=>{sc(i[s]),delete i[s]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=W2(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)sc(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===Ay);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(x_(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const a=this.media,l=a?pp(a.textTracks):null;if(this.tracks.forEach((u,d)=>{let f;if(l){let p=null;for(let g=0;g<l.length;g++)if(l[g]&&K2(l[g],u)){p=l[g],l[g]=null;break}p&&(f=p)}if(f)sc(f);else{const p=H_(u);f=this.createTextTrack(p,u.name,u.lang),f&&(f.mode="disabled")}f&&this.textTracks.push(f)}),l!=null&&l.length){const u=l.filter(d=>d!==null).map(d=>d.label);u.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${u.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(l=>({label:l.name,kind:l.type.toLowerCase(),default:l.default,subtitleTrack:l}));this.hls.trigger(M.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,a=this.captionsProperties[s];a&&(a.label=r.name,r.lang&&(a.languageCode=r.lang),a.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===ct.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:a,lastSn:l}=this,{cc:u,sn:d}=n.frag,f=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;s&&a&&(d!==l+1||d===l&&f!==this.lastPartIndex+1||u!==this.lastCc)&&(s.reset(),a.reset()),this.lastCc=u,this.lastSn=d,this.lastPartIndex=f}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===ct.SUBTITLE)if(i.byteLength){const s=r.decryptdata,a="stats"in n;if(s==null||!s.encrypted||a){const l=this.tracks[r.level],u=this.vttCCs;u[r.cc]||(u[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),l&&l.textCodec===Ay?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;H2(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{r.logger.log(`Failed to parse IMSC1: ${i}`),r.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:a}=this,l=s.length-1;if(!s[r.cc]&&l===-1){a.push(e);return}const u=this.hls,d=(n=r.initSegment)!=null&&n.data?qi(r.initSegment.data,new Uint8Array(i)).buffer:i;aJ(d,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,f=>{this._appendCues(f,r.level),u.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},f=>{const p=f.message==="Missing initPTS for VTT MPEGTS";p?a.push(e):this._fallbackToIMSC1(r,i),u.logger.log(`Failed to parse VTT cue: ${f}`),!(p&&l>r.cc)&&u.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:f})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||H2(n,this.initPTS[e.cc],()=>{r.textCodec=Ay,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>P_(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger(M.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===ct.SUBTITLE&&this.onFragLoaded(M.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:r,samples:i}=n;if(!(r.type===ct.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let s=0;s<i.length;s++){const a=i[s].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const l=this.extractCea608Data(a);this.cea608Parser1.addData(i[s].pts,l[0]),this.cea608Parser2.addData(i[s].pts,l[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:a}=this;if(!(!a||a.currentTime<r)){if(!s||s==="video"){const{captionsTracks:l}=this;Object.keys(l).forEach(u=>Wx(l[u],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:l}=this;Object.keys(l).forEach(u=>Wx(l[u],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const a=e[i++],l=127&e[i++],u=127&e[i++];if(l===0&&u===0)continue;if((4&a)!==0){const f=3&a;(f===0||f===1)&&(n[f].push(l),n[f].push(u))}}return n}}function H_(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function K2(t,e){return!!t&&t.kind===H_(e)&&Hx(e,t)}function hJ(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function W2(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const pJ=/\s/,mJ={newCue(t,e,n,r){const i=[];let s,a,l,u,d;const f=self.VTTCue||self.TextTrackCue;for(let g=0;g<r.rows.length;g++)if(s=r.rows[g],l=!0,u=0,d="",!s.isEmpty()){var p;for(let x=0;x<s.chars.length;x++)pJ.test(s.chars[x].uchar)&&l?u++:(d+=s.chars[x].uchar,l=!1);s.cueStartTime=e,e===n&&(n+=1e-4),u>=16?u--:u++;const v=$_(d.trim()),y=I1(e,n,v);t!=null&&(p=t.cues)!=null&&p.getCueById(y)||(a=new f(e,n,v),a.id=y,a.line=g+1,a.align="left",a.position=10+Math.min(80,Math.floor(u*8/32)*10),i.push(a))}return t&&i.length&&(i.sort((g,v)=>g.line==="auto"||v.line==="auto"?0:g.line>8&&v.line>8?v.line-g.line:g.line-v.line),i.forEach(g=>P_(t,g))),i}};function gJ(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const vJ=/(\d+)-(\d+)\/(\d+)/;class q2{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||SJ,this.controller=new self.AbortController,this.stats=new o1}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=yJ(e,this.controller.signal),a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:d}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=u&&Je(u)?u:d,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},n.timeout),(_d(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(p=>{var g;this.response=this.loader=p;const v=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=d,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},d-(v-i.loading.start)),!p.ok){const{status:x,statusText:b}=p;throw new EJ(b||"fetch, bad network response",x,p)}i.loading.first=v,i.total=bJ(p.headers)||i.total;const y=(g=this.callbacks)==null?void 0:g.onProgress;return y&&Je(n.highWaterMark)?this.loadProgressively(p,i,e,n.highWaterMark,y):a?p.arrayBuffer():e.responseType==="json"?p.json():p.text()}).then(p=>{var g,v;const y=this.response;if(!y)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const x=p[l];x&&(i.loaded=i.total=x);const b={url:y.url,data:p,code:y.status},T=(g=this.callbacks)==null?void 0:g.onProgress;T&&!Je(n.highWaterMark)&&T(i,e,p,y),(v=this.callbacks)==null||v.onSuccess(b,i,e,y)}).catch(p=>{var g;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const v=p&&p.code||0,y=p?p.message:null;(g=this.callbacks)==null||g.onError({code:v,text:y},e,p?p.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const a=new JD,l=e.body.getReader(),u=()=>l.read().then(d=>{if(d.done)return a.dataLength&&s(n,r,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const f=d.value,p=f.length;return n.loaded+=p,p<i||a.dataLength?(a.push(f),a.dataLength>=i&&s(n,r,a.flush().buffer,e)):s(n,r,f.buffer,e),u()}).catch(()=>Promise.reject());return u()}}function yJ(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Cn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function xJ(t){const e=vJ.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function bJ(t){const e=t.get("Content-Range");if(e){const r=xJ(e);if(Je(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function SJ(t,e){return new self.Request(t.url,e)}class EJ extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const TJ=/^age:\s*[\d.]+\s*$/im;class G_{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new o1,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,n.url)}).catch(a=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),s(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(a=>{var l;(l=this.callbacks)==null||l.onError({code:r.status,text:a.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=r.loadPolicy;if(i)for(const l in i)e.setRequestHeader(l,i[l]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&Je(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const d=n.status,f=n.responseType==="text"?n.responseText:null;if(d>=200&&d<300){const y=f??n.response;if(y!=null){var a,l;r.loading.end=Math.max(self.performance.now(),r.loading.first);const x=n.responseType==="arraybuffer"?y.byteLength:y.length;r.loaded=r.total=x,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first);const b=(a=this.callbacks)==null?void 0:a.onProgress;b&&b(r,e,y,n);const T={url:n.responseURL,data:y,code:d};(l=this.callbacks)==null||l.onSuccess(T,r,e,n);return}}const p=s.loadPolicy.errorRetry,g=r.retry,v={url:e.url,data:void 0,code:d};if(Jp(p,g,!1,v))this.retry(p);else{var u;yn.error(`${d} while loading ${e.url}`),(u=this.callbacks)==null||u.onError({code:d,text:n.statusText},e,n,r)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Jp(e,n,!0))this.retry(e);else{var r;yn.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=d1(e,r.retry),r.retry++,yn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n?.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&TJ.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const CJ={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},wJ=gn(gn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:G_,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:NY,bufferController:RQ,capLevelController:w1,errorController:zY,fpsController:LZ,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:zD,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:CJ},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},AJ()),{},{subtitleStreamController:jZ,subtitleTrackController:DZ,timelineController:fJ,audioStreamController:TQ,audioTrackController:CQ,emeController:hc,cmcdController:CZ,contentSteeringController:AZ,interstitialsController:$Z});function AJ(){return{cueHandler:mJ,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function RJ(t,e,n){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=Yx(t),i=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(a=>{const l=`${a==="level"?"playlist":a}LoadPolicy`,u=e[l]===void 0,d=[];s.forEach(f=>{const p=`${a}Loading${f}`,g=e[p];if(g!==void 0&&u){d.push(p);const v=r[l].default;switch(e[l]={default:v},f){case"TimeOut":v.maxLoadTimeMs=g,v.maxTimeToFirstByteMs=g;break;case"MaxRetry":v.errorRetry.maxNumRetry=g,v.timeoutRetry.maxNumRetry=g;break;case"RetryDelay":v.errorRetry.retryDelayMs=g,v.timeoutRetry.retryDelayMs=g;break;case"MaxRetryTimeout":v.errorRetry.maxRetryDelayMs=g,v.timeoutRetry.maxRetryDelayMs=g;break}}}),d.length&&n.warn(`hls.js config: "${d.join('", "')}" setting(s) are deprecated, use "${l}": ${In(e[l])}`)}),gn(gn({},r),e)}function Yx(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(Yx):Object.keys(t).reduce((e,n)=>(e[n]=Yx(t[n]),e),{}):t}function LJ(t,e){const n=t.loader;n!==q2&&n!==G_?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):gJ()&&(t.loader=q2,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const mp=2,IJ=.1,kJ=.05,DJ=100;class _J extends ND{constructor(e,n){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var r;(r=this.media)!=null&&r.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var r;this.ended=((r=this.media)==null?void 0:r.currentTime)||1,this.hls.trigger(M.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,n){this.setInterval(DJ),this.mediaSource=n.mediaSource;const r=this.media=n.media;Vr(r,"playing",this.onMediaPlaying),Vr(r,"waiting",this.onMediaWaiting),Vr(r,"ended",this.onMediaEnded)}onMediaDetaching(e,n){this.clearInterval();const{media:r}=this;r&&(ti(r,"playing",this.onMediaPlaying),ti(r,"waiting",this.onMediaWaiting),ti(r,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(e,n){var r,i;const s=(r=this.hls)==null?void 0:r.config;if(!s)return;const a=this.media;if(!a)return;const{seeking:l}=a,u=this.seeking&&!l,d=!this.seeking&&l,f=a.paused&&!l||a.ended||a.playbackRate===0;if(this.seeking=l,e!==n){n&&(this.ended=0),this.moved=!0,l||(this.nudgeRetry=0,s.nudgeOnVideoHole&&!f&&e>n&&this.nudgeOnVideoHole(e,n)),this.waiting===0&&this.stallResolved(e);return}if(d||u){u&&this.stallResolved(e);return}if(f){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(M.MEDIA_ENDED,{stalled:!1}));return}if(!Mt.getBuffered(a).length){this.nudgeRetry=0;return}const p=Mt.bufferInfo(a,e,0),g=p.nextStart||0,v=this.fragmentTracker;if(l&&v&&this.hls){const D=Y2(this.hls.inFlightFragments,e),k=p.len>mp,P=!g||D||g-e>mp&&!v.getPartialFragment(e);if(k||P)return;this.moved=!1}const y=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&v){if(!(p.len>0)&&!g)return;const k=Math.max(g,p.start||0)-e,F=!!(y!=null&&y.live)?y.targetduration*2:mp,O=Xh(e,v);if(k>0&&(k<=F||O)){a.paused||this._trySkipBufferHole(O);return}}const x=s.detectStallWithCurrentTimeMs,b=self.performance.now(),T=this.waiting;let w=this.stalled;if(w===null)if(T>0&&b-T<x)w=this.stalled=T;else{this.stalled=b;return}const C=b-w;if(!l&&(C>=x||T)&&this.hls){var R;if(((R=this.mediaSource)==null?void 0:R.readyState)==="ended"&&!(y!=null&&y.live)&&Math.abs(e-(y?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(M.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(p),!this.media||!this.hls)return}const L=Mt.bufferInfo(a,e,s.maxBufferHole);this._tryFixBufferStall(L,C,e)}stallResolved(e){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const r=self.performance.now()-n;this.log(`playback not stuck anymore @${e}, after ${Math.round(r)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(M.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,n){var r;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(r=this.buffered.audio)!=null&&r.length&&i&&i.length>1&&e>i.end(0)){const s=Mt.bufferedInfo(Mt.timeRangesToArray(this.buffered.audio),e,0);if(s.len>1&&n>=s.start){const a=Mt.timeRangesToArray(i),l=Mt.bufferedInfo(a,n,0).bufferedIndex;if(l>-1&&l<a.length-1){const u=Mt.bufferedInfo(a,e,0).bufferedIndex,d=a[l].end,f=a[l+1].start;if((u===-1||u>l)&&f-d<1&&e-d<2){const p=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${d} -> ${f} buffered index: ${u}`);this.warn(p.message),this.media.currentTime+=1e-6;let g=Xh(e,this.fragmentTracker);g&&"fragment"in g?g=g.fragment:g||(g=void 0);const v=Mt.bufferInfo(this.media,e,0);this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,frag:g,buffer:v.len,bufferInfo:v})}}}}}_tryFixBufferStall(e,n,r){var i,s;const{fragmentTracker:a,media:l}=this,u=(i=this.hls)==null?void 0:i.config;if(!l||!a||!u)return;const d=(s=this.hls)==null?void 0:s.latestLevelDetails,f=Xh(r,a);if((f||d!=null&&d.live&&r<d.fragmentStart)&&(this._trySkipBufferHole(f)||!this.media))return;const p=e.buffered,g=this.adjacentTraversal(e,r);(p&&p.length>1&&e.len>u.maxBufferHole||e.nextStart&&(e.nextStart-r<u.maxBufferHole||g))&&(n>u.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,n){const r=this.fragmentTracker,i=e.nextStart;if(r&&i){const s=r.getFragAtPos(n,ct.MAIN),a=r.getFragAtPos(i,ct.MAIN);if(s&&a)return a.sn-s.sn<2}return!1}_reportStall(e){const{hls:n,media:r,stallReported:i,stalled:s}=this;if(!i&&s!==null&&r&&n){this.stallReported=!0;const a=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${In(e)})`);this.warn(a.message),n.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:s}})}}_trySkipBufferHole(e){var n;const{fragmentTracker:r,media:i}=this,s=(n=this.hls)==null?void 0:n.config;if(!i||!r||!s)return 0;const a=i.currentTime,l=Mt.bufferInfo(i,a,0),u=a<l.start?l.start:l.nextStart;if(u&&this.hls){const f=l.len<=s.maxBufferHole,p=l.len>0&&l.len<1&&i.readyState<3,g=u-a;if(g>0&&(f||p)){if(g>s.maxBufferHole){let y=!1;if(a===0){const x=r.getAppendedFrag(0,ct.MAIN);x&&u<x.end&&(y=!0)}if(!y&&e){var d;if(!((d=this.hls.loadLevelObj)!=null&&d.details)||Y2(this.hls.inFlightFragments,u))return 0;let b=!1,T=e.end;for(;T<u;){const w=Xh(T,r);if(w)T+=w.duration;else{b=!0;break}}if(b)return 0}}const v=Math.max(u+kJ,a+IJ);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${v}`),this.moved=!0,i.currentTime=v,!(e!=null&&e.gap)){const y=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${v}`),x={type:vt.MEDIA_ERROR,details:oe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,buffer:l.len,bufferInfo:l};e&&("fragment"in e?x.part=e:x.frag=e),this.hls.trigger(M.ERROR,x)}return v}}return 0}_tryNudgeBuffer(e){const{hls:n,media:r,nudgeRetry:i}=this,s=n?.config;if(!r||!s)return 0;const a=r.currentTime;if(this.nudgeRetry++,i<s.nudgeMaxRetry){const l=a+(i+1)*s.nudgeOffset,u=new Error(`Nudging 'currentTime' from ${a} to ${l}`);this.warn(u.message),r.currentTime=l,n.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_NUDGE_ON_STALL,error:u,fatal:!1,buffer:e.len,bufferInfo:e})}else{const l=new Error(`Playhead still not moving while enough data buffered @${a} after ${s.nudgeMaxRetry} nudges`);this.error(l.message),n.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.BUFFER_STALLED_ERROR,error:l,fatal:!0,buffer:e.len,bufferInfo:e})}}}function Y2(t,e){const n=X2(t.main);if(n&&n.start<=e)return n;const r=X2(t.audio);return r&&r.start<=e?r:null}function X2(t){if(!t)return null;switch(t.state){case Te.IDLE:case Te.STOPPED:case Te.ENDED:case Te.ERROR:return null}return t.frag}function Xh(t,e){return e.getAppendedFrag(t,ct.MAIN)||e.getPartialFragment(t)}const PJ=.25;function Xx(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function ky(t,e,n,r,i){let s=new t(e,n,"");try{s.value=r,i&&(s.type=i)}catch{s=new t(e,n,In(i?gn({type:i},r):r))}return s}const Qh=(()=>{const t=Xx();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class OJ{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(M.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(M.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(M.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,n){var r;this.media=n.media,((r=n.overrides)==null?void 0:r.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const n=(e=this.hls)==null?void 0:e.latestLevelDetails;n&&this.updateDateRangeCues(n)}onMediaDetaching(e,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&sc(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return __(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:r,enableID3MetadataCues:i}=this.hls.config;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=Xx();if(a)for(let l=0;l<s.length;l++){const u=s[l].type;if(u===Si.emsg&&!r||!i)continue;const d=a_(s[l].data),f=s[l].pts;let p=f+s[l].duration;p>Qh&&(p=Qh),p-f<=0&&(p=f+PJ);for(let v=0;v<d.length;v++){const y=d[v];if(!o_(y)){this.updateId3CueEnds(f,u);const x=ky(a,f,p,y,u);x&&this.id3Track.addCue(x)}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const a=i[s];a.type===n&&a.startTime<e&&a.endTime===Qh&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:u}}=a;if(s&&(l||u)){let d;i==="audio"?d=f=>f.type===Si.audioId3&&u:i==="video"?d=f=>f.type===Si.emsg&&l:d=f=>f.type===Si.audioId3&&u||f.type===Si.emsg&&l,Wx(s,n,r,d)}}onLevelUpdated(e,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(e,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(e,n){if(!this.hls||!this.media)return;const{assetPlayerId:r,timelineOffset:i,enableDateRangeMetadataCues:s,interstitialsController:a}=this.hls.config;if(!s)return;const l=Xx();if(r&&i&&!a){const{fragmentStart:x,fragmentEnd:b}=e;let T=this.assetCue;T?(T.startTime=x,T.endTime=b):l&&(T=this.assetCue=ky(l,x,b,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),T&&(T.id=r,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(T),T.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:u}=this,{dateRanges:d}=e,f=Object.keys(d);let p=this.dateRangeCuesAppended;if(u&&n){var g;if((g=u.cues)!=null&&g.length){const x=Object.keys(p).filter(b=>!f.includes(b));for(let b=x.length;b--;){var v;const T=x[b],w=(v=p[T])==null?void 0:v.cues;delete p[T],w&&Object.keys(w).forEach(C=>{const R=w[C];if(R){R.removeEventListener("enter",this.onEventCueEnter);try{u.removeCue(R)}catch{}}})}}else p=this.dateRangeCuesAppended={}}const y=e.fragments[e.fragments.length-1];if(!(f.length===0||!Je(y?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let x=0;x<f.length;x++){const b=f[x],T=d[b],w=T.startTime,C=p[b],R=C?.cues||{};let L=C?.durationKnown||!1,D=Qh;const{duration:k,endDate:P}=T;if(P&&k!==null)D=w+k,L=!0;else if(T.endOnNext&&!L){const O=f.reduce(($,_)=>{if(_!==T.id){const K=d[_];if(K.class===T.class&&K.startDate>T.startDate&&(!$||T.startDate<$.startDate))return K}return $},null);O&&(D=O.startTime,L=!0)}const F=Object.keys(T.attr);for(let O=0;O<F.length;O++){const $=F[O];if(!tX($))continue;const _=R[$];if(_)L&&!(C!=null&&C.durationKnown)?_.endTime=D:Math.abs(_.startTime-w)>.01&&(_.startTime=w,_.endTime=D);else if(l){let K=T.attr[$];nX($)&&(K=vD(K));const G=ky(l,w,D,{key:$,data:K},Si.dateRange);G&&(G.id=b,this.id3Track.addCue(G),R[$]=G,a&&($==="X-ASSET-LIST"||$==="X-ASSET-URL")&&G.addEventListener("enter",this.onEventCueEnter))}}p[b]={cues:R,dateRange:T,durationKnown:L}}}}}class MJ{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,r=this.levelDetails;if(!n||!r)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:a}=this.config;if(!s||a===1||!r.live)return;const l=this.targetLatency;if(l===null)return;const u=i-l,d=Math.min(this.maxLatency,l+r.targetduration);if(u<d&&u>.05&&this.forwardBufferLength>1){const p=Math.min(2,Math.max(1,a)),g=Math.round(2/(1+Math.exp(-.75*u-this.edgeStalled))*20)/20,v=Math.min(p,Math.max(1,g));this.changeMediaPlaybackRate(n,v)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const n=this.levelDetails;return n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:l}=this.config,u=this.hls.userConfig;let d=l&&r||n;(this._targetLatencyUpdated||u.liveSyncDuration||u.liveSyncDurationCount||d===0)&&(d=s!==void 0?s:a*i);const f=i;return d+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,f)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency;if(e===null||n===null)return null;const r=this.levelDetails;if(r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,a=i-r.totalduration,l=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,s),l)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e}=this,n=this.levelDetails;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(M.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(M.ERROR,this.onError,this))}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,n){var r;n.details===oe.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(r=this.levelDetails)!=null&&r.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,n){var r,i;e.playbackRate!==n&&((r=this.hls)==null||r.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${n}`),e.playbackRate=n)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class FJ extends C1{constructor(e,n){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this),e.on(M.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this),e.off(M.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],s={},a={};let l=!1,u=!1,d=!1;n.levels.forEach(f=>{const p=f.attrs;let{audioCodec:g,videoCodec:v}=f;g&&(f.audioCodec=g=Yp(g,r)||void 0),v&&(v=f.videoCodec=yY(v));const{width:y,height:x,unknownCodecs:b}=f,T=b?.length||0;if(l||(l=!!(y&&x)),u||(u=!!v),d||(d=!!g),T||g&&!this.isAudioSupported(g)||v&&!this.isVideoSupported(v)){this.log(`Some or all CODECS not supported "${p.CODECS}"`);return}const{CODECS:w,"FRAME-RATE":C,"HDCP-LEVEL":R,"PATHWAY-ID":L,RESOLUTION:D,"VIDEO-RANGE":k}=p,F=`${`${L||"."}-`}${f.bitrate}-${D}-${C}-${w}-${k}-${R}`;if(s[F])if(s[F].uri!==f.url&&!f.attrs["PATHWAY-ID"]){const O=a[F]+=1;f.attrs["PATHWAY-ID"]=new Array(O+1).join(".");const $=this.createLevel(f);s[F]=$,i.push($)}else s[F].addGroupId("audio",p.AUDIO),s[F].addGroupId("text",p.SUBTITLES);else{const O=this.createLevel(f);s[F]=O,a[F]=1,i.push(O)}}),this.filterAndSortMediaOptions(i,n,l,u,d)}createLevel(e){const n=new Id(e),r=e.supplemental;if(r!=null&&r.videoCodec&&!this.isVideoSupported(r.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${r.videoCodec}"`);this.log(i.message),n.supportedResult=ID(i,[])}return n}isAudioSupported(e){return Rd(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Rd(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,n,r,i,s){var a;let l=[],u=[],d=e;const f=((a=n.stats)==null?void 0:a.parsing)||{};if((r||i)&&s&&(d=d.filter(({videoCodec:w,videoRange:C,width:R,height:L})=>(!!w||!!(R&&L))&&LY(C))),d.length===0){Promise.resolve().then(()=>{if(this.hls){let w="no level with compatible codecs found in manifest",C=w;n.levels.length&&(C=`one or more CODECS in variant not supported: ${In(n.levels.map(L=>L.attrs.CODECS).filter((L,D,k)=>k.indexOf(L)===D))}`,this.warn(C),w+=` (${C})`);const R=new Error(w);this.hls.trigger(M.ERROR,{type:vt.MEDIA_ERROR,details:oe.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:R,reason:C})}}),f.end=performance.now();return}n.audioTracks&&(l=n.audioTracks.filter(w=>!w.audioCodec||this.isAudioSupported(w.audioCodec)),Q2(l)),n.subtitles&&(u=n.subtitles,Q2(u));const p=d.slice(0);d.sort((w,C)=>{if(w.attrs["HDCP-LEVEL"]!==C.attrs["HDCP-LEVEL"])return(w.attrs["HDCP-LEVEL"]||"")>(C.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&w.height!==C.height)return w.height-C.height;if(w.frameRate!==C.frameRate)return w.frameRate-C.frameRate;if(w.videoRange!==C.videoRange)return Xp.indexOf(w.videoRange)-Xp.indexOf(C.videoRange);if(w.videoCodec!==C.videoCodec){const R=zR(w.videoCodec),L=zR(C.videoCodec);if(R!==L)return L-R}if(w.uri===C.uri&&w.codecSet!==C.codecSet){const R=qp(w.codecSet),L=qp(C.codecSet);if(R!==L)return L-R}return w.averageBitrate!==C.averageBitrate?w.averageBitrate-C.averageBitrate:0});let g=p[0];if(this.steering&&(d=this.steering.filterParsedLevels(d),d.length!==p.length)){for(let w=0;w<p.length;w++)if(p[w].pathwayId===d[0].pathwayId){g=p[w];break}}this._levels=d;for(let w=0;w<d.length;w++)if(d[w]===g){var v;this._firstLevel=w;const C=g.bitrate,R=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${d.length} level(s) found, first bitrate: ${C}`),((v=this.hls.userConfig)==null?void 0:v.abrEwmaDefaultEstimate)===void 0){const L=Math.min(C,this.hls.config.abrEwmaDefaultEstimateMax);L>R&&R===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=L)}break}const y=s&&!i,x=this.hls.config,b=!!(x.audioStreamController&&x.audioTrackController),T={levels:d,audioTracks:l,subtitleTracks:u,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:i,altAudio:b&&!y&&l.some(w=>!!w.url)};f.end=performance.now(),this.hls.trigger(M.MANIFEST_PARSED,T)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const f=new Error("invalid level idx"),p=e<0;if(this.hls.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.LEVEL_SWITCH_ERROR,level:e,fatal:p,error:f,reason:f.message}),p)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,a=n[e],l=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,r===e&&i&&s===l)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${l?" with Pathway "+l:""} from level ${r}${s?" with Pathway "+s:""}`);const u={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(M.LEVEL_SWITCHING,u);const d=a.details;if(!d||d.live){const f=this.switchParams(a.uri,i?.details,d);this.loadPlaylist(f)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const n=this.steering.pathways(),r=e.filter(i=>n.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=r}}onError(e,n){n.fatal||!n.context||n.context.type===Kt.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===ct.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,a=n.levelInfo;if(!a){var l;this.warn(`Invalid level index ${i}`),(l=n.deliveryDirectives)!=null&&l.skip&&(s.deltaUpdateFailed=!0);return}if(a===this.currentLevel||n.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let u=a.details;u===n.details&&u.advanced&&(u=void 0),this.playlistLoaded(i,n,u)}else(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=this.getUrlWithDirectives(e.uri,n),i=this.currentLevelIndex,s=e.attrs["PATHWAY-ID"],a=e.details,l=a?.age;this.log(`Loading level index ${i}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${s?" Pathway "+s:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${r}`),this.hls.trigger(M.LEVEL_LOADING,{url:r,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;if(this._levels.length===1)return;const r=this._levels.filter((s,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(l=>l.level=-1)),!1));XD(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=r.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(M.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(M.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function Q2(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}function V_(){return self.SourceBuffer||self.WebKitSourceBuffer}function K_(){if(!to())return!1;const e=V_();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function NJ(){if(!K_())return!1;const t=to();return typeof t?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(Ld(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(Ld(e,"audio"))))}function BJ(){var t;const e=V_();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const $J=100;class jJ extends g1{constructor(e,n,r){super(e,n,r,"stream-controller",ct.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,s=i?i.currentTime:null;if(s===null||!Je(s)||(this.log(`Media seeked to ${s.toFixed(3)}`),!this.getBufferedFrag(s)))return;const a=this.getFwdBufferInfoAtPos(i,s,ct.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${s} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(M.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(M.BUFFER_CREATED,this.onBufferCreated,this),e.on(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(M.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(M.BUFFER_CREATED,this.onBufferCreated,this),e.off(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,n){if(this.levels){const{lastCurrentTime:r,hls:i}=this;if(this.stopLoad(),this.setInterval($J),this.level=-1,!this.startFragRequested){let s=i.startLevel;s===-1&&(i.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=i.firstAutoLevel),i.nextLoadLevel=s,this.level=i.loadLevel,this._hasEnoughToStart=!!n}r>0&&e===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=Te.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=Te.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Te.WAITING_LEVEL:{const{levels:e,level:n}=this,r=e?.[n],i=r?.details;if(i&&(!i.live||this.levelLastLoaded===r&&!this.waitForLive(r))){if(this.waitForCdnTuneIn(i))break;this.state=Te.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Te.IDLE;break}break}case Te.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===Te.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[s]))return;const a=r[s],l=this.getMainFwdBufferInfo();if(l===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(l,u)){const x={};this.altAudio===2&&(x.type="video"),this.hls.trigger(M.BUFFER_EOS,x),this.state=Te.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const d=a.details;if(!d||this.state===Te.WAITING_LEVEL||this.waitForLive(a)){this.level=s,this.state=Te.WAITING_LEVEL,this.startFragRequested=!1;return}const f=l.len,p=this.getMaxBufferLength(a.maxBitrate);if(f>=p)return;this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);const g=this.backtrackFragment?this.backtrackFragment.start:l.end;let v=this.getNextFragment(g,d);if(this.couldBacktrack&&!this.fragPrevious&&v&&ur(v)&&this.fragmentTracker.getState(v)!==gr.OK){var y;const b=((y=this.backtrackFragment)!=null?y:v).sn-d.startSN,T=d.fragments[b-1];T&&v.cc===T.cc&&(v=T,this.fragmentTracker.removeFragment(T))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(v&&this.isLoopLoading(v,g)){if(!v.gap){const b=this.audioOnly&&!this.altAudio?Ln.AUDIO:Ln.VIDEO,T=(b===Ln.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;T&&this.afterBufferFlushed(T,b,ct.MAIN)}v=this.getNextFragmentLoopLoading(v,d,l,ct.MAIN,p)}v&&(v.initSegment&&!v.initSegment.data&&!this.bitrateTest&&(v=v.initSegment),this.loadFragment(v,a,g))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);i===gr.NOT_LOADED||i===gr.PARTIAL?ur(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):super.loadFragment(e,n,r):this._loadInitSegment(e,n):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,ct.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const l=this.getMainFwdBufferInfo();if(!l||l.len<s.targetduration*2)return}if(!n.paused&&e){const l=this.hls.nextLoadLevel,u=e[l],d=this.fragLastKbps;d&&this.fragCurrent?r=this.fragCurrent.duration*u.maxBitrate/(1e3*d)+1:r=0}else r=0;const a=this.getBufferedFrag(n.currentTime+r);if(a){const l=this.followingBufferedFrag(a);if(l){this.abortCurrentFrag();const u=l.maxStartPTS?l.maxStartPTS:l.start,d=l.duration,f=Math.max(a.end,u+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,d*(this.couldBacktrack?.5:.125)),d*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(f,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Te.KEY_LOADING:case Te.FRAG_LOADING:case Te.FRAG_LOADING_WAITING_RETRY:case Te.PARSING:case Te.PARSED:this.state=Te.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio===2?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;Vr(r,"playing",this.onMediaPlaying),Vr(r,"seeked",this.onMediaSeeked)}onMediaDetaching(e,n){const{media:r}=this;r&&(ti(r,"playing",this.onMediaPlaying),ti(r,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(M.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,n){let r=!1,i=!1;for(let s=0;s<n.levels.length;s++){const a=n.levels[s].audioCodec;a&&(r=r||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=r&&i&&!BJ(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==Te.IDLE)return;const i=n.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=Te.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i,startFragRequested:s}=this,a=n.level,l=n.details,u=l.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${l.startSN},${l.endSN}]${l.lastPartSn?`[part-${l.lastPartSn}-${l.lastPartIndex}]`:""}, cc [${l.startCC}, ${l.endCC}] duration:${u}`);const d=n.levelInfo,f=this.fragCurrent;f&&(this.state===Te.FRAG_LOADING||this.state===Te.FRAG_LOADING_WAITING_RETRY)&&f.level!==n.level&&f.loader&&this.abortCurrentFrag();let p=0;if(l.live||(r=d.details)!=null&&r.live){var g;if(this.checkLiveUpdate(l),l.deltaUpdateFailed)return;p=this.alignPlaylists(l,d.details,(g=this.levelLastLoaded)==null?void 0:g.details)}if(d.details=l,this.levelLastLoaded=d,s||this.setStartPosition(l,p),this.hls.trigger(M.LEVEL_UPDATED,{details:l,level:a}),this.state===Te.WAITING_LEVEL){if(this.waitForCdnTuneIn(l))return;this.state=Te.IDLE}s&&l.live&&this.synchronizeToLiveEdge(l),this.tick()}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=this.getLoadPosition(),a=e.fragmentStart,l=e.edge,u=s>=a-n.maxFragLookUpTolerance&&s<=l;if(i!==null&&r.duration>i&&(s<i||!u)){const f=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;if((!u&&r.readyState<4||s<l-f)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),r.readyState))if(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${l}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var d;const p=Mt.bufferInfo(r,i,0);if(!((d=p.buffered)!=null&&d.length)){r.currentTime=i;return}if(p.start<=s){r.currentTime=i;return}const{nextStart:v}=Mt.bufferedInfo(p.buffered,s,0);v&&(r.currentTime=v)}else r.currentTime=i}}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:i,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const l=a[r.level];if(!l){this.warn(`Level ${r.level} not found on progress`);return}const u=l.details;if(!u){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const d=l.videoCodec,f=u.PTSKnown||!u.live,p=(n=r.initSegment)==null?void 0:n.data,g=this._getAudioCodec(l),v=this.transmuxer=this.transmuxer||new y_(this.hls,ct.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),y=i?i.index:-1,x=y!==-1,b=new h1(r.level,r.sn,r.stats.chunkCount,s.byteLength,y,x),T=this.initPTS[r.cc];v.push(s,p,g,d,r,i,u.totalduration,f,b,T)}onAudioTrackSwitching(e,n){const r=this.hls,i=this.altAudio===2;if(Qp(n.url,r))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.fragmentTracker.removeAllFragments(),r.once(M.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(M.AUDIO_TRACK_SWITCHED,n)}),r.trigger(M.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}r.trigger(M.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=Qp(n.url,this.hls);if(r){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r?2:0,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,a=!1;for(const l in r){const u=r[l];if(u.id==="main"){if(s=l,i=u,l==="video"){const d=r[l];d&&(this.videoBuffer=d.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n,s=r.type===ct.MAIN;if(s){if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Te.PARSED&&(this.state=Te.IDLE);return}const l=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*l.total/(l.buffering.end-l.loading.first)),ur(r)&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}const a=this.media;a&&(!this._hasEnoughToStart&&Mt.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),s&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,n){var r;if(n.fatal){this.state=Te.ERROR;return}switch(n.details){case oe.FRAG_GAP:case oe.FRAG_PARSING_ERROR:case oe.FRAG_DECRYPT_ERROR:case oe.FRAG_LOAD_ERROR:case oe.FRAG_LOAD_TIMEOUT:case oe.KEY_LOAD_ERROR:case oe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ct.MAIN,n);break;case oe.LEVEL_LOAD_ERROR:case oe.LEVEL_LOAD_TIMEOUT:case oe.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===Te.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===Kt.LEVEL&&(this.state=Te.IDLE);break;case oe.BUFFER_ADD_CODEC_ERROR:case oe.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.resetLoadingState();break;case oe.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case oe.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=Te.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==Ln.AUDIO||!this.altAudio){const r=(n===Ln.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;r&&(this.afterBufferFlushed(r,n,ct.MAIN),this.tick())}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=this.timelineOffset;i&&r&&(r+=i);const s=this.getLevelDetails(),a=Mt.getBuffered(e),l=a.length?a.start(0):0,u=l-r,d=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||u>0&&(u<d||this.loadingParts&&u<2*(s?.partTarget||0)))&&(this.log(`adjusting start position by ${u} to match buffer start`),r+=u,this.startPosition=r),n<r&&(this.log(`seek to target start position ${r} from current time ${n} buffer start ${l}`),e.currentTime=r)}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this,s=r?.frag;if(!s||this.fragContextChanged(s))return;n.fragmentError=0,this.state=Te.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=s.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(M.FRAG_LOADED,r),s.bitrateTest=!1}).catch(r=>{this.state===Te.STOPPED||this.state===Te.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const n=this.playlistType,{hls:r}=this,{remuxResult:i,chunkMeta:s}=e,a=this.getCurrentContext(s);if(!a){this.resetWhenMissingContext(s);return}const{frag:l,part:u,level:d}=a,{video:f,text:p,id3:g,initSegment:v}=i,{details:y}=d,x=this.altAudio?void 0:i.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=Te.PARSING,v){const b=v.tracks;if(b){const R=l.initSegment||l;if(this.unhandledEncryptionError(v,l))return;this._bufferInitSegment(d,b,R,s),r.trigger(M.FRAG_PARSING_INIT_SEGMENT,{frag:R,id:n,tracks:b})}const T=v.initPTS,w=v.timescale,C=this.initPTS[l.cc];if(Je(T)&&(!C||C.baseTime!==T||C.timescale!==w)){const R=v.trackId;this.initPTS[l.cc]={baseTime:T,timescale:w,trackId:R},r.trigger(M.INIT_PTS_FOUND,{frag:l,id:n,initPTS:T,timescale:w,trackId:R})}}if(f&&y){x&&f.type==="audiovideo"&&this.logMuxedErr(l);const b=y.fragments[l.sn-1-y.startSN],T=l.sn===y.startSN,w=!b||l.cc>b.cc;if(i.independent!==!1){const{startPTS:C,endPTS:R,startDTS:L,endDTS:D}=f;if(u)u.elementaryStreams[f.type]={startPTS:C,endPTS:R,startDTS:L,endDTS:D};else if(f.firstKeyFrame&&f.independent&&s.id===1&&!w&&(this.couldBacktrack=!0),f.dropped&&f.independent){const k=this.getMainFwdBufferInfo(),P=(k?k.end:this.getLoadPosition())+this.config.maxBufferHole,F=f.firstKeyFramePTS?f.firstKeyFramePTS:C;if(!T&&P<F-this.config.maxBufferHole&&!w){this.backtrack(l);return}else w&&(l.gap=!0);l.setElementaryStreamInfo(f.type,l.start,R,l.start,D,!0)}else T&&C-(y.appliedTimelineOffset||0)>mp&&(l.gap=!0);l.setElementaryStreamInfo(f.type,C,R,L,D),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(f,l,u,s,T||w)}else if(T||w)l.gap=!0;else{this.backtrack(l);return}}if(x){const{startPTS:b,endPTS:T,startDTS:w,endDTS:C}=x;u&&(u.elementaryStreams[Ln.AUDIO]={startPTS:b,endPTS:T,startDTS:w,endDTS:C}),l.setElementaryStreamInfo(Ln.AUDIO,b,T,w,C),this.bufferFragmentData(x,l,u,s)}if(y&&g!=null&&g.samples.length){const b={id:n,frag:l,details:y,samples:g.samples};r.trigger(M.FRAG_PARSING_METADATA,b)}if(y&&p){const b={id:n,frag:l,details:y,samples:p.samples};r.trigger(M.FRAG_PARSING_USERDATA,b)}}logMuxedErr(e){this.warn(`${ur(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,n,r,i){if(this.state!==Te.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(r));const{audio:s,video:a,audiovideo:l}=n;if(s){const d=e.audioCodec;let f=lp(s.codec,d);f==="mp4a"&&(f="mp4a.40.5");const p=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){f&&(f.indexOf("mp4a.40.5")!==-1?f="mp4a.40.2":f="mp4a.40.5");const g=s.metadata;g&&"channelCount"in g&&(g.channelCount||1)!==1&&p.indexOf("firefox")===-1&&(f="mp4a.40.5")}f&&f.indexOf("mp4a.40.5")!==-1&&p.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(f="mp4a.40.2",this.log(`Android: force audio codec to ${f}`)),d&&d!==f&&this.log(`Swapping manifest audio codec "${d}" for "${f}"`),s.levelCodec=f,s.id=ct.MAIN,this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${f||""}/${d||""}/${s.codec}]`),delete n.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=ct.MAIN;const d=a.codec;if(d?.length===4)switch(d){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${d}]${a.codec!==d?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete n.audiovideo}l&&(this.log(`Init audiovideo buffer, container:${l.container}, codecs[level/parsed]=[${e.codecs}/${l.codec}]`),delete n.video,delete n.audio);const u=Object.keys(n);if(u.length){if(this.hls.trigger(M.BUFFER_CODECS,n),!this.hls)return;u.forEach(d=>{const p=n[d].initSegment;p!=null&&p.byteLength&&this.hls.trigger(M.BUFFER_APPENDING,{type:d,data:p,frag:r,part:null,chunkMeta:i,parent:r.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,ct.MAIN)}get maxBufferLength(){const{levels:e,level:n}=this,r=e?.[n];return r?this.getMaxBufferLength(r.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Te.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(Mt.isBuffered(e,r)?n=this.getAppendedFrag(r):Mt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s)&&(this.fragPlaying=n,this.hls.trigger(M.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger(M.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Je(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var e;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Je(n)){const r=this.getLevelDetails(),i=this.currentFrag||(r?rl(null,r.fragments,n):null);if(i){const s=i.programDateTime;if(s!==null){const a=s+(n-i.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class UJ extends Qi{constructor(e,n){super("key-loader",n),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[e].loader;n&&n.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,n=oe.KEY_LOAD_ERROR,r,i,s){return new sa({type:vt.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n,r){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(n.length)for(let i=0,s=n.length;i<s;i++){const a=n[i];if(e.cc<=a.cc&&(!ur(e)||!ur(a)||e.sn<a.sn)||!r&&i==s-1)return this.emeController.selectKeySystemFormat(a).then(l=>{if(!this.emeController)return;a.setKeyFormat(l);const u=up(l);if(u)return this.emeController.getKeySystemAccess([u])})}if(this.config.requireKeySystemAccessOnStart){const i=td(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const d=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,oe.KEY_LOAD_ERROR,d))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,oe.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));const l=Dy(s);let u=this.keyIdToKeyInfo[l];if((r=u)!=null&&r.decryptdata.key)return s.key=u.decryptdata.key,Promise.resolve({frag:e,keyInfo:u});if(this.emeController&&(i=u)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(u.decryptdata)){case"usable":case"usable-in-future":return u.keyLoadPromise.then(f=>{const{keyInfo:p}=f;return s.key=p.decryptdata.key,{frag:e,keyInfo:p}})}switch(this.log(`${this.keyIdToKeyInfo[l]?"Rel":"L"}oading${s.keyId?" keyId: "+Gr(s.keyId):""} URI: ${s.uri} from ${e.type} ${e.level}`),u=this.keyIdToKeyInfo[l]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(u,e):this.loadKeyEME(u,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(u,e);default:return Promise.reject(this.createKeyLoadError(e,oe.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=n.initSegment)!=null&&i.data){const a=aY(n.initSegment.data);if(a.length){const l=a[0];l.some(u=>u!==0)&&(this.log(`Using keyId found in init segment ${Gr(l)}`),e.decryptdata.keyId=l,Wo.setKeyIdForUri(e.decryptdata.uri,l))}}const s=this.emeController.loadKey(r);return(e.keyLoadPromise=s.then(a=>(e.mediaKeySessionContext=a,r))).catch(a=>{throw e.keyLoadPromise=null,"data"in a&&(a.data.frag=n),a})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,l)=>{const u={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},d=r.keyLoadPolicy.default,f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,v,y,x)=>{const{frag:b,keyInfo:T}=y,w=Dy(T.decryptdata);if(!b.decryptdata||T!==this.keyIdToKeyInfo[w])return l(this.createKeyLoadError(b,oe.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),x));T.decryptdata.key=b.decryptdata.key=new Uint8Array(g.data),b.keyLoader=null,T.loader=null,a({frag:b,keyInfo:T})},onError:(g,v,y,x)=>{this.resetLoader(v),l(this.createKeyLoadError(n,oe.KEY_LOAD_ERROR,new Error(`HTTP Error ${g.code} loading key ${g.text}`),y,gn({url:u.url,data:void 0},g)))},onTimeout:(g,v,y)=>{this.resetLoader(v),l(this.createKeyLoadError(n,oe.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),y))},onAbort:(g,v,y)=>{this.resetLoader(v),l(this.createKeyLoadError(n,oe.INTERNAL_ABORTED,new Error("key loading aborted"),y))}};s.load(u,f,p)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null);const a=Dy(r.decryptdata)||i;delete this.keyIdToKeyInfo[a],s&&s.destroy()}}function Dy(t){if(t.keyFormat!==Dr.FAIRPLAY){const e=t.keyId;if(e)return Gr(e)}return t.uri}function Z2(t){const{type:e}=t;switch(e){case Kt.AUDIO_TRACK:return ct.AUDIO;case Kt.SUBTITLE_TRACK:return ct.SUBTITLE;default:return ct.MAIN}}function _y(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class zJ{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(M.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_LOADING,this.onLevelLoading,this),e.off(M.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(M.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,a=new s(n);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Kt.MANIFEST,url:r,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:s,url:a,deliveryDirectives:l,levelInfo:u}=n;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:Kt.LEVEL,url:a,deliveryDirectives:l,levelOrTrack:u})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:a,track:l}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Kt.AUDIO_TRACK,url:s,deliveryDirectives:a,levelOrTrack:l})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:a,track:l}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Kt.SUBTITLE_TRACK,url:s,deliveryDirectives:a,levelOrTrack:l})}onLevelsUpdated(e,n){const r=this.loaders[Kt.LEVEL];if(r){const i=r.context;i&&!n.levels.some(s=>s===i.levelOrTrack)&&(r.abort(),delete this.loaders[Kt.LEVEL])}}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const d=this.hls.logger,f=i.context;if(f&&f.levelOrTrack===e.levelOrTrack&&(f.url===e.url||f.deliveryDirectives&&!e.deliveryDirectives)){f.url===e.url?d.log(`[playlist-loader]: ignore ${e.url} ongoing request`):d.log(`[playlist-loader]: ignore ${e.url} in favor of ${f.url}`);return}d.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===Kt.MANIFEST?s=r.manifestLoadPolicy.default:s=Cn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Je((n=e.deliveryDirectives)==null?void 0:n.part)){let d;if(e.type===Kt.LEVEL&&e.level!==null?d=this.hls.levels[e.level].details:e.type===Kt.AUDIO_TRACK&&e.id!==null?d=this.hls.audioTracks[e.id].details:e.type===Kt.SUBTITLE_TRACK&&e.id!==null&&(d=this.hls.subtitleTracks[e.id].details),d){const f=d.partTarget,p=d.targetduration;if(f&&p){const g=Math.max(f*3,p*.8)*1e3;s=Cn({},s,{maxTimeToFirstByteMs:Math.min(g,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(g,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},u={onSuccess:(d,f,p,g)=>{const v=this.getInternalLoader(p);this.resetInternalLoader(p.type);const y=d.data;f.parsing.start=performance.now(),Is.isMediaPlaylist(y)||p.type!==Kt.MANIFEST?this.handleTrackOrLevelPlaylist(d,f,p,g||null,v):this.handleMasterPlaylist(d,f,p,g)},onError:(d,f,p,g)=>{this.handleNetworkError(f,p,!1,d,g)},onTimeout:(d,f,p)=>{this.handleNetworkError(f,p,!0,void 0,d)}};i.load(e,l,u)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:n},forceStartLoad:r}=this.hls;(e||r)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(e,n,r,i){const s=this.hls,a=e.data,l=_y(e,r),u=Is.parseMasterPlaylist(a,l);if(u.playlistParsingError){n.parsing.end=performance.now(),this.handleManifestParsingError(e,r,u.playlistParsingError,i,n);return}const{contentSteering:d,levels:f,sessionData:p,sessionKeys:g,startTimeOffset:v,variableList:y}=u;this.variableList=y,f.forEach(w=>{const{unknownCodecs:C}=w;if(C){const{preferManagedMediaSource:R}=this.hls.config;let{audioCodec:L,videoCodec:D}=w;for(let k=C.length;k--;){const P=C[k];Rd(P,"audio",R)?(w.audioCodec=L=L?`${L},${P}`:P,Lc.audio[L.substring(0,4)]=2,C.splice(k,1)):Rd(P,"video",R)&&(w.videoCodec=D=D?`${D},${P}`:P,Lc.video[D.substring(0,4)]=2,C.splice(k,1))}}});const{AUDIO:x=[],SUBTITLES:b,"CLOSED-CAPTIONS":T}=Is.parseMasterPlaylistMedia(a,l,u);x.length&&!x.some(C=>!C.url)&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),x.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new jn({}),bitrate:0,url:""})),s.trigger(M.MANIFEST_LOADED,{levels:f,audioTracks:x,subtitles:b,captions:T,contentSteering:d,url:l,stats:n,networkDetails:i,sessionData:p,sessionKeys:g,startTimeOffset:v,variableList:y})}handleTrackOrLevelPlaylist(e,n,r,i,s){const a=this.hls,{id:l,level:u,type:d}=r,f=_y(e,r),p=Je(u)?u:Je(l)?l:0,g=Z2(r),v=Is.parseLevelPlaylist(e.data,f,p,g,0,this.variableList);if(d===Kt.MANIFEST){const y={attrs:new jn({}),bitrate:0,details:v,name:"",url:f};v.requestScheduled=n.loading.start+WD(v,0),a.trigger(M.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:f,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=v,this.handlePlaylistLoaded(v,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger(M.ERROR,{type:vt.NETWORK_ERROR,details:oe.MANIFEST_PARSING_ERROR,fatal:n.type===Kt.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let a=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Kt.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===Kt.AUDIO_TRACK||e.type===Kt.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const l=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let u=oe.UNKNOWN,d=!1;const f=this.getInternalLoader(e);switch(e.type){case Kt.MANIFEST:u=r?oe.MANIFEST_LOAD_TIMEOUT:oe.MANIFEST_LOAD_ERROR,d=!0;break;case Kt.LEVEL:u=r?oe.LEVEL_LOAD_TIMEOUT:oe.LEVEL_LOAD_ERROR,d=!1;break;case Kt.AUDIO_TRACK:u=r?oe.AUDIO_TRACK_LOAD_TIMEOUT:oe.AUDIO_TRACK_LOAD_ERROR,d=!1;break;case Kt.SUBTITLE_TRACK:u=r?oe.SUBTITLE_TRACK_LOAD_TIMEOUT:oe.SUBTITLE_LOAD_ERROR,d=!1;break}f&&this.resetInternalLoader(e.type);const p={type:vt.NETWORK_ERROR,details:u,fatal:d,url:e.url,loader:f,context:e,error:l,networkDetails:n,stats:s};if(i){const g=n?.url||e.url;p.response=gn({url:g,data:void 0},i)}this.hls.trigger(M.ERROR,p)}handlePlaylistLoaded(e,n,r,i,s,a){const l=this.hls,{type:u,level:d,levelOrTrack:f,id:p,groupId:g,deliveryDirectives:v}=i,y=_y(n,i),x=Z2(i);let b=typeof i.level=="number"&&x===ct.MAIN?d:void 0;const T=e.playlistParsingError;if(T){if(this.hls.logger.warn(`${T} ${e.url}`),!l.config.ignorePlaylistParsingErrors){l.trigger(M.ERROR,{type:vt.NETWORK_ERROR,details:oe.LEVEL_PARSING_ERROR,fatal:!1,url:y,error:T,reason:T.message,response:n,context:i,level:b,parent:x,networkDetails:s,stats:r});return}e.playlistParsingError=null}if(!e.fragments.length){const w=e.playlistParsingError=new Error("No Segments found in Playlist");l.trigger(M.ERROR,{type:vt.NETWORK_ERROR,details:oe.LEVEL_EMPTY_ERROR,fatal:!1,url:y,error:w,reason:w.message,response:n,context:i,level:b,parent:x,networkDetails:s,stats:r});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),u){case Kt.MANIFEST:case Kt.LEVEL:if(b){if(!f)b=0;else if(f!==l.levels[b]){const w=l.levels.indexOf(f);w>-1&&(b=w)}}l.trigger(M.LEVEL_LOADED,{details:e,levelInfo:f||l.levels[0],level:b||0,id:p||0,stats:r,networkDetails:s,deliveryDirectives:v,withoutMultiVariant:u===Kt.MANIFEST});break;case Kt.AUDIO_TRACK:l.trigger(M.AUDIO_TRACK_LOADED,{details:e,track:f,id:p||0,groupId:g||"",stats:r,networkDetails:s,deliveryDirectives:v});break;case Kt.SUBTITLE_TRACK:l.trigger(M.SUBTITLE_TRACK_LOADED,{details:e,track:f,id:p||0,groupId:g||"",stats:r,networkDetails:s,deliveryDirectives:v});break}}}class ei{static get version(){return kd}static isMSESupported(){return K_()}static isSupported(){return NJ()}static getMediaSource(){return to()}static get Events(){return M}static get MetadataSchema(){return Si}static get ErrorTypes(){return vt}static get ErrorDetails(){return oe}static get DefaultConfig(){return ei.defaultConfig?ei.defaultConfig:wJ}static set DefaultConfig(e){ei.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new v1,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=qq(e.debug||!1,"Hls instance",e.assetPlayerId),r=this.config=RJ(ei.DefaultConfig,e,n);this.userConfig=e,r.progressive&&LJ(r,n);const{abrController:i,bufferController:s,capLevelController:a,errorController:l,fpsController:u}=r,d=new l(this),f=this.abrController=new i(this),p=new HY(this),g=r.interstitialsController,v=g?this.interstitialsController=new g(this,ei):null,y=this.bufferController=new s(this,p),x=this.capLevelController=new a(this),b=new u(this),T=new zJ(this),w=r.contentSteeringController,C=w?new w(this):null,R=this.levelController=new FJ(this,C),L=new OJ(this),D=new UJ(this.config,this.logger),k=this.streamController=new jJ(this,p,D),P=this.gapController=new _J(this,p);x.setStreamController(k),b.setStreamController(k);const F=[T,R,k];v&&F.splice(1,0,v),C&&F.splice(1,0,C),this.networkControllers=F;const O=[f,y,P,x,b,L,p];this.audioTrackController=this.createController(r.audioTrackController,F);const $=r.audioStreamController;$&&F.push(this.audioStreamController=new $(this,p,D)),this.subtitleTrackController=this.createController(r.subtitleTrackController,F);const _=r.subtitleStreamController;_&&F.push(this.subtititleStreamController=new _(this,p,D)),this.createController(r.timelineController,O),D.emeController=this.emeController=this.createController(r.emeController,O),this.cmcdController=this.createController(r.cmcdController,O),this.latencyController=this.createController(MJ,O),this.coreComponents=O,F.push(d);const K=d.onErrorOut;typeof K=="function"&&this.on(M.ERROR,K,d),this.on(M.MANIFEST_LOADED,T.onManifestLoaded,T)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===M.ERROR;this.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(M.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const s=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(M.ERROR,{type:vt.OTHER_ERROR,details:oe.ATTACH_MEDIA_ERROR,fatal:!0,error:s});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in e,r=n?e.media:e,i=n?e:{media:r};this._media=r,this.trigger(M.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(M.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(M.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const n=this.media,r=this._url,i=this._url=a1.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(M.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,n){this.logger.log(`startLoad(${e+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e,n),!(!this.started||!this.networkControllers));r++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[ct.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[ct.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[ct.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,n=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),n&&this.startLoad(n))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=_Z()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){RY(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(e))||null}setSubtitleOption(e){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,n=this.allAudioTracks){const r=_D(n);return kD(e,r,navigator.mediaCapabilities)}}ei.defaultConfig=void 0;function k1({open:t,onClose:e,file:n}){const r=Kr(),i=I.useRef(null),s=I.useRef(null),[a,l]=I.useState(0),[u,d]=I.useState(0),[f,p]=I.useState(!1);I.useEffect(()=>(r(fm(n)),()=>{r(hm())}),[n,r]),I.useEffect(()=>{const y=x=>{x.key==="Escape"&&e()};return window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}},[e]),I.useEffect(()=>{},[t,n]);const g=()=>{n&&window.open(n.file_path_webapp,"_blank")},v=()=>{i.current&&(document.fullscreenElement?document.exitFullscreen():i.current.requestFullscreen())};return I.useEffect(()=>{if(console.log("VideoPlayer useEffect triggered - open:",t,"videoRef.current:",!!i.current),!t){console.log("Skipping HLS init - dialog not open");return}const y=setTimeout(()=>{if(!i.current){console.log(" Video element still not ready after timeout");return}console.log(" Video element ready, initializing HLS...");const x=localStorage.getItem("uuid");let b=n.video_url_webapp||n.file_path_webapp;if(console.log("Building video URL from:",{video_url_webapp:n.video_url_webapp,file_path_webapp:n.file_path_webapp}),!b){console.error("No video URL found for file:",n);return}const T=b.includes("?")?"&":"?";b=`${b}${T}uuid=${x}`,b.startsWith("getvideo.m3u8")||b.startsWith("getaudio.m3u8")?b=_r(`/cass/${b}`):(b.startsWith("/cass/")||!b.startsWith("http://")&&!b.startsWith("https://"))&&(b=_r(b)),console.log("Final video URL:",b);const w=i.current;if(s.current&&(s.current.destroy(),s.current=null),console.log("Hls.isSupported():",ei.isSupported()),ei.isSupported()){console.log("Creating HLS instance...");const L=new ei({debug:!0,enableWorker:!0,lowLatencyMode:!1,backBufferLength:90});s.current=L,console.log("Loading source:",b),L.loadSource(b),console.log("Attaching media to video element"),L.attachMedia(w),L.on(ei.Events.MANIFEST_PARSED,()=>{console.log(" HLS manifest parsed, ready to play"),w.play().catch(D=>{console.error("Failed to autoplay:",D)})}),L.on(ei.Events.ERROR,(D,k)=>{if(console.error(" HLS error:",k),k.fatal)switch(k.type){case ei.ErrorTypes.NETWORK_ERROR:console.error("Fatal network error, trying to recover"),L.startLoad();break;case ei.ErrorTypes.MEDIA_ERROR:console.error("Fatal media error, trying to recover"),L.recoverMediaError();break;default:console.error("Fatal error, cannot recover"),L.destroy();break}})}else w.canPlayType("application/vnd.apple.mpegurl")?(console.log("Using native HLS support (Safari)"),w.src=b,w.addEventListener("loadedmetadata",()=>{w.play().catch(L=>{console.error("Failed to autoplay:",L)})})):console.error(" HLS is not supported in this browser");const C=()=>{l(w.currentTime),r(o4(w.currentTime))},R=()=>d(w.duration);w.addEventListener("timeupdate",C),w.addEventListener("durationchange",R)},100);return()=>{if(clearTimeout(y),i.current){const x=i.current;x.removeEventListener("timeupdate",()=>{}),x.removeEventListener("durationchange",()=>{})}s.current&&(s.current.destroy(),s.current=null)}},[t,n]),t?S.jsxs(S.Fragment,{children:[S.jsxs(Zn,{elevation:0,sx:{position:"fixed",top:0,left:0,right:f?eo:0,bottom:0,zIndex:1300,display:"flex",flexDirection:"column",backgroundColor:"#000",transition:"right 0.3s"},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2,backgroundColor:"rgba(0,0,0,0.9)",borderBottom:"1px solid rgba(255,255,255,0.1)",position:"relative",zIndex:1},children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2},children:[S.jsx(Fe,{variant:"h6",sx:{color:"white"},children:n.name}),u>0&&S.jsxs(Fe,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:[RR(a)," / ",RR(u)]})]}),S.jsxs(Ce,{sx:{display:"flex",gap:1,position:"relative",zIndex:2},children:[S.jsx(Nt,{onClick:()=>p(!f),sx:{color:"white",backgroundColor:"rgba(0, 64, 128, 0.8)","&:hover":{backgroundColor:"rgba(0, 64, 128, 1)"}},children:f?S.jsx(qm,{}):S.jsx(Wm,{})}),S.jsx(Nt,{onClick:v,sx:{color:"white"},children:S.jsx(JH,{})}),S.jsx(Nt,{onClick:g,sx:{color:"white"},children:S.jsx(Os,{})}),S.jsx(Nt,{onClick:e,sx:{color:"white"},children:S.jsx(ol,{})})]})]}),S.jsx(Ce,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:2,position:"relative",zIndex:0},children:S.jsx("video",{ref:i,controls:!0,style:{width:"100%",height:"100%",objectFit:"contain"}})}),S.jsxs(Ce,{sx:{padding:2,backgroundColor:"rgba(0,0,0,0.9)",borderTop:"1px solid rgba(255,255,255,0.1)",position:"relative",zIndex:1},children:[S.jsx(Hb,{direction:"row",spacing:1,sx:{mb:1},children:n.tags?.map(y=>S.jsx(Ci,{label:y,size:"small",sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}},y))}),S.jsxs(Fe,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:[Bc(n.file_size),"  ",$c(n.file_date_long),n.file_width&&n.file_height&&`  ${n.file_width}x${n.file_height}`]})]})]}),S.jsx(Ce,{sx:{position:"fixed",top:0,right:0,bottom:0,width:f?eo:0,zIndex:1301},children:S.jsx(rg,{fullscreen:!0,externalOpen:f,onOpenChange:p})})]}):null}function D1({onClose:t,file:e}){const n=Kr(),[r,i]=I.useState(!1);I.useEffect(()=>(n(fm(e)),()=>{n(hm())}),[e,n]);const s=()=>{const u=localStorage.getItem("uuid");let d=e.file_path_webapp||"";if(!d)return"";const f=d.includes("?")?"&":"?";return d=`${d}${f}uuid=${u}`,_r(d)},a=()=>{e&&window.open(s(),"_blank")},l=()=>{e&&window.open(s(),"_blank")};return S.jsxs(S.Fragment,{children:[S.jsxs(Zn,{elevation:0,sx:{position:"fixed",top:0,left:0,right:r?eo:0,bottom:0,zIndex:1300,display:"flex",flexDirection:"column",backgroundColor:"#525659",transition:"right 0.3s"},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2,backgroundColor:"white",borderBottom:"1px solid #e0e0e0",position:"relative",zIndex:1},children:[S.jsxs(Ce,{children:[S.jsx(Fe,{variant:"h6",children:e.name}),S.jsxs(Fe,{variant:"body2",color:"text.secondary",children:[Bc(e.file_size),"  ",$c(e.file_date_long)]})]}),S.jsxs(Ce,{sx:{display:"flex",gap:1,position:"relative",zIndex:2},children:[S.jsx(Nt,{onClick:()=>i(!r),title:"Toggle sidebar",sx:{backgroundColor:"rgba(0, 64, 128, 0.8)","&:hover":{backgroundColor:"rgba(0, 64, 128, 1)"}},children:r?S.jsx(qm,{}):S.jsx(Wm,{})}),S.jsx(Nt,{onClick:l,title:"Open in new tab",children:S.jsx(Yb,{})}),S.jsx(Nt,{onClick:a,title:"Download",children:S.jsx(Os,{})}),S.jsx(Nt,{onClick:t,title:"Close",children:S.jsx(ol,{})})]})]}),S.jsx(Ce,{sx:{flex:1,overflow:"hidden",position:"relative",zIndex:0},children:S.jsx("iframe",{src:s(),style:{width:"100%",height:"100%",border:"none"},title:e.file_name})})]}),S.jsx(Ce,{sx:{position:"fixed",top:0,right:0,bottom:0,width:r?eo:0,zIndex:1301},children:S.jsx(rg,{fullscreen:!0,externalOpen:r,onOpenChange:i})})]})}function _1({open:t,onClose:e,file:n}){const r=Kr();I.useEffect(()=>(t&&r(fm(n)),()=>{r(hm())}),[n,t,r]);const i=()=>{if(n){const a=document.createElement("a");a.href=n.file_path_webapp||"",a.download=n.file_name,a.click()}},s=()=>S.jsx(el,{sx:{fontSize:120,color:"primary.main"}});return S.jsxs(al,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"60vh"}},children:[S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2,borderBottom:"1px solid #e0e0e0"},children:[S.jsx(Fe,{variant:"h6",children:n.name}),S.jsxs(Ce,{sx:{display:"flex",gap:1},children:[S.jsx(Nt,{onClick:i,title:"Download",children:S.jsx(Os,{})}),S.jsx(Nt,{onClick:e,title:"Close",children:S.jsx(ol,{})})]})]}),S.jsx(Ce,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:4},children:S.jsxs(Zn,{elevation:0,sx:{padding:4,textAlign:"center",backgroundColor:"#f5f5f5",width:"100%"},children:[s(),S.jsx(Fe,{variant:"h5",sx:{mt:2,mb:1},children:n.file_name}),S.jsxs(Fe,{variant:"body1",color:"text.secondary",sx:{mb:1},children:[n.file_ext?.toUpperCase()," Document"]}),S.jsxs(Fe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:[Bc(n.file_size),"  ",$c(n.file_date_long)]}),S.jsx(Ce,{sx:{display:"flex",gap:2,justifyContent:"center"},children:S.jsx(Nt,{onClick:i,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},children:S.jsx(Os,{})})}),S.jsx(Fe,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"},children:"Download to view this document"})]})})]})}const gp=10*1024*1024;async function HJ(t,e,n,r){const i=`${t}&filechunk_size=${n}&filechunk_offset=${e}`,s=await fetch(i,{method:"GET",credentials:"include",signal:r});if(!s.ok)throw new Error(`Error downloading chunk. Status code: ${s.status}`);return s.blob()}async function GJ(t,e){const n=localStorage.getItem("uuid"),r=_r(`${t.file_path_webapp}&uuid=${n}`);try{let i=null;if("showSaveFilePicker"in window)try{const l=t.name.split(".").pop();i=await(await window.showSaveFilePicker({suggestedName:t.name,types:[{description:"Files",accept:{"application/octet-stream":[`.${l}`]}}]})).createWritable()}catch(l){if(l.name==="AbortError"){e.onError?.(new Error("Download cancelled"));return}}const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="blob";const a=Date.now();s.onprogress=l=>{if(l.lengthComputable&&e.onProgress){const u=(Date.now()-a)/1e3,d=l.loaded/1024/u,p=(l.total-l.loaded)/(d*1024);e.onProgress({percentage:Math.round(l.loaded/l.total*100),downloadedBytes:l.loaded,totalBytes:l.total,speedKBps:d,estimatedTimeRemaining:p})}},s.onload=async()=>{if(s.status===200){const l=s.response;if(i)await i.write(l),await i.close();else{const u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u,d.download=t.name,document.body.appendChild(d),d.click(),d.remove(),window.URL.revokeObjectURL(u)}e.onComplete?.()}else e.onError?.(new Error(`Download failed with status: ${s.status}`))},s.onerror=()=>{e.onError?.(new Error("Network error while downloading"))},e.signal&&e.signal.addEventListener("abort",()=>{s.abort(),i?.abort(),e.onError?.(new Error("Download cancelled"))}),s.send()}catch(i){e.onError?.(i)}}async function VJ(t,e){const n=localStorage.getItem("uuid"),r=_r(`${t.file_path_webapp}&uuid=${n}`),i=t.file_size,s=Math.ceil(i/gp),a=[];let l=0;try{let u=null;if("showSaveFilePicker"in window)try{const p=t.name.split(".").pop();u=await(await window.showSaveFilePicker({suggestedName:t.name,types:[{description:"Files",accept:{"application/octet-stream":[`.${p}`]}}]})).createWritable()}catch(p){if(p.name==="AbortError"){e.onError?.(new Error("Download cancelled"));return}}const d=Date.now();for(let p=0;p<s;p++){if(e.signal?.aborted){u&&await u.abort(),e.onError?.(new Error("Download cancelled"));return}const g=p*gp,v=await HJ(r,g,gp,e.signal);a.push(v),l+=v.size;const y=(Date.now()-d)/1e3,x=l/1024/y,T=(i-l)/(x*1024),w=Math.min(100,Math.round(l/i*100));e.onProgress&&e.onProgress({percentage:w,downloadedBytes:l,totalBytes:i,speedKBps:x,estimatedTimeRemaining:T}),await new Promise(C=>setTimeout(C,20))}const f=new Blob(a);if(u)await u.write(f),await u.close();else{const p=URL.createObjectURL(f),g=document.createElement("a");g.href=p,g.download=t.name,document.body.appendChild(g),g.click(),g.remove(),URL.revokeObjectURL(p)}e.onComplete?.()}catch(u){e.onError?.(u)}}async function KJ(t,e={}){t.file_size>gp?await VJ(t,e):await GJ(t,e)}function WJ(t){return t<1024?`${t.toFixed(1)} KB/s`:`${(t/1024).toFixed(1)} MB/s`}function qJ(t){if(t<60)return`${Math.round(t)}s`;if(t<3600){const e=Math.floor(t/60),n=Math.round(t%60);return`${e}m ${n}s`}else{const e=Math.floor(t/3600),n=Math.floor(t%3600/60);return`${e}h ${n}m`}}function P1({open:t,fileName:e,progress:n,onCancel:r,isComplete:i}){return S.jsxs(al,{open:t,maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(s,a)=>{a!=="backdropClick"&&r()},children:[S.jsxs(Hm,{sx:{display:"flex",alignItems:"center",gap:1},children:[S.jsx(Os,{}),i?"Download Complete":"Downloading..."]}),S.jsx(Mc,{children:S.jsxs(Ce,{sx:{mb:2},children:[S.jsx(Fe,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e}),S.jsx(ld,{variant:"determinate",value:n.percentage,sx:{height:8,borderRadius:4,my:2}}),S.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs(Fe,{variant:"body2",color:"text.secondary",children:[n.percentage,"%"]}),!i&&n.speedKBps>0&&S.jsx(Fe,{variant:"body2",color:"text.secondary",children:WJ(n.speedKBps)})]}),!i&&n.estimatedTimeRemaining>0&&S.jsxs(Fe,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Estimated time remaining: ",qJ(n.estimatedTimeRemaining)]}),i&&S.jsx(Fe,{variant:"body2",color:"success.main",sx:{mt:1},children:"File downloaded successfully!"})]})}),S.jsx(Oc,{children:i?S.jsx(tn,{onClick:r,variant:"contained",children:"Close"}):S.jsx(tn,{onClick:r,color:"error",children:"Cancel"})})]})}function O1(){const[t,e]=I.useState(!1),[n,r]=I.useState(!1),[i,s]=I.useState(!1),[a,l]=I.useState(!1),[u,d]=I.useState(0),[f,p]=I.useState(null),[g,v]=I.useState(null),[y,x]=I.useState(null),b=I.useCallback(P=>{d(P),e(!0)},[]),T=I.useCallback(()=>{e(!1)},[]),w=I.useCallback(P=>{p(P),r(!0)},[]),C=I.useCallback(()=>{r(!1),p(null)},[]),R=I.useCallback(P=>{v(P),s(!0)},[]),L=I.useCallback(()=>{s(!1),v(null)},[]),D=I.useCallback(P=>{x(P),l(!0)},[]),k=I.useCallback(()=>{l(!1),x(null)},[]);return{imageViewerOpen:t,currentImageIndex:u,openImageViewer:b,closeImageViewer:T,videoPlayerOpen:n,currentVideoFile:f,openVideoPlayer:w,closeVideoPlayer:C,pdfViewerOpen:i,currentPdfFile:g,openPdfViewer:R,closePdfViewer:L,documentViewerOpen:a,currentDocumentFile:y,openDocumentViewer:D,closeDocumentViewer:k}}function M1(){const[t,e]=I.useState(!1),[n,r]=I.useState({percentage:0,downloadedBytes:0,totalBytes:0,speedKBps:0,estimatedTimeRemaining:0}),[i,s]=I.useState(!1),[a,l]=I.useState(null),u=I.useRef(null);return{isDownloading:t,downloadProgress:n,isComplete:i,currentFile:a,startDownload:async g=>{e(!0),s(!1),l(g),r({percentage:0,downloadedBytes:0,totalBytes:g.file_size,speedKBps:0,estimatedTimeRemaining:0}),u.current=new AbortController;try{await KJ(g,{onProgress:v=>{r(v)},onComplete:()=>{s(!0),e(!1)},onError:v=>{console.error("Download error:",v),e(!1),s(!1),l(null)},signal:u.current.signal})}catch(v){console.error("Download error:",v),e(!1),s(!1),l(null)}},cancelDownload:()=>{u.current&&(u.current.abort(),u.current=null),e(!1),s(!1),l(null)},closeModal:()=>{e(!1),s(!1),l(null)}}}function YJ({files:t,hasMore:e,onLoadMore:n}){const r=Xt(re=>re.files.listSize),{selectedCount:i,selectAll:s,deselectAll:a,isAllSelected:l}=ef(),[u,d]=I.useState("date"),[f,p]=I.useState("desc"),{imageViewerOpen:g,currentImageIndex:v,openImageViewer:y,closeImageViewer:x,videoPlayerOpen:b,currentVideoFile:T,openVideoPlayer:w,closeVideoPlayer:C,pdfViewerOpen:R,currentPdfFile:L,openPdfViewer:D,closePdfViewer:k,documentViewerOpen:P,currentDocumentFile:F,openDocumentViewer:O,closeDocumentViewer:$}=O1(),{isDownloading:_,downloadProgress:K,isComplete:z,currentFile:G,startDownload:N,cancelDownload:q,closeModal:H}=M1(),W=t.filter(re=>re.file_group==="photo"),j=()=>{l?a():s()},U=re=>{u===re?p(f==="asc"?"desc":"asc"):(d(re),p("desc"))},Y=[...t].sort((re,Q)=>{let ee=0;switch(u){case"name":ee=re.name.localeCompare(Q.name);break;case"date":ee=(re.file_date_long||0)-(Q.file_date_long||0);break;case"size":ee=(re.file_size||0)-(Q.file_size||0);break}return f==="asc"?ee:-ee}),ne=re=>{if(console.log("File clicked:",re),console.log("file_ext:",re.file_ext),console.log("file_group:",re.file_group),console.log("file_name:",re.name),re.file_group==="photo"){const Q=W.findIndex(ee=>ee.nickname===re.nickname);Q!==-1&&y(Q)}else re.file_group==="movie"?w(re):re.file_ext?.toLowerCase()===".pdf"||re.name?.toLowerCase().endsWith(".pdf")?(console.log("Opening PDF viewer"),D(re)):re.file_group==="document"&&O(re)};return g&&W.length>0?S.jsx(s1,{open:g,onClose:x,files:W,initialIndex:v,hasMore:e,onLoadMore:n}):b&&T?S.jsx(k1,{open:b,onClose:C,file:T}):R&&L?S.jsx(D1,{onClose:k,file:L}):P&&F?S.jsx(_1,{open:P,onClose:$,file:F}):S.jsxs(S.Fragment,{children:[S.jsx(Gz,{component:Zn,elevation:0,sx:{maxHeight:"calc(100vh - 200px)"},children:S.jsxs(rk,{size:"small",stickyHeader:!0,children:[S.jsx(Yz,{children:S.jsxs(ud,{children:[S.jsx(lr,{padding:"checkbox",sx:{backgroundColor:"background.paper",fontWeight:600},children:S.jsx(Yd,{checked:l&&t.length>0,indeterminate:i>0&&!l,onChange:j})}),S.jsx(lr,{sx:{backgroundColor:"background.paper",fontWeight:600},children:"Thumbnail"}),S.jsx(lr,{sx:{backgroundColor:"background.paper",fontWeight:600},children:S.jsx(Wv,{active:u==="name",direction:u==="name"?f:"asc",onClick:()=>U("name"),children:"Name"})}),S.jsx(lr,{sx:{backgroundColor:"background.paper",fontWeight:600},children:S.jsx(Wv,{active:u==="date",direction:u==="date"?f:"asc",onClick:()=>U("date"),children:"Date"})}),S.jsx(lr,{sx:{backgroundColor:"background.paper",fontWeight:600},children:S.jsx(Wv,{active:u==="size",direction:u==="size"?f:"asc",onClick:()=>U("size"),children:"Size"})}),S.jsx(lr,{sx:{backgroundColor:"background.paper",fontWeight:600},children:"Tags"}),S.jsx(lr,{align:"right",sx:{backgroundColor:"background.paper",fontWeight:600},children:"Actions"})]})}),S.jsx(ik,{children:Y.map(re=>S.jsx(aW,{file:re,onRowClick:ne,onDownload:N,listSize:r},re.nickname))})]})}),S.jsx(P1,{open:_||z,fileName:G?.name||"",progress:K,onCancel:z?H:q,isComplete:z})]})}function XJ({file:t,onCardClick:e,onDownload:n,showDetails:r=!0,gridSize:i="medium"}){const s=Kr(),{isSelected:a,toggleSelect:l,handleClick:u}=ef(),d=a(t.nickname),f=Xt(Q=>Q.tags.tags),[p,g]=I.useState(null),[v,y]=I.useState(!1),[x,b]=I.useState({open:!1,message:"",severity:"success"}),[T,w]=I.useState(!1),[C,R]=I.useState(""),[L,D]=I.useState(!1),k=i==="xs"?80:i==="small"?120:i==="medium"?200:280,P=i==="xs"?32:i==="small"?48:i==="medium"?80:120,F=Q=>{if(!Q.target.closest(".MuiCheckbox-root, .MuiIconButton-root")){if(Q.shiftKey||Q.ctrlKey||Q.metaKey){u(t.nickname,Q);return}e?e(t):u(t.nickname,Q)}},O=Q=>{Q.stopPropagation(),l(t.nickname)},$=Q=>{Q.stopPropagation(),g(Q.currentTarget)},_=()=>{g(null)},K=Q=>{Q.stopPropagation(),_(),n&&n(t)},z=()=>t.file_thumbnail?`data:image/jpeg;base64,${t.file_thumbnail}`:null,G=()=>{const Q={sx:{fontSize:P,color:"action.disabled"}};switch(t.file_group){case"photo":return S.jsx(Ym,{...Q});case"music":return S.jsx(qb,{...Q});case"movie":return S.jsx(Qb,{...Q});case"document":return S.jsx(el,{...Q});default:return S.jsx(el,{...Q})}},N=()=>t.file_tags?t.file_tags.split(",").filter(Boolean):[],q=(Q,ee)=>{Q.stopPropagation(),s(zo({searchQuery:ee}))},H=async(Q,ee)=>{Q.stopPropagation();try{await t1([t.nickname],[ee]),b({open:!0,message:`Tag "${ee}" removed`,severity:"success"});const De=N().filter(Be=>Be!==ee).join(",");s(Rp({fileId:t.nickname,tags:De}))}catch(Oe){console.error("Failed to remove tag:",Oe),b({open:!0,message:"Failed to remove tag",severity:"error"})}},W=Q=>{Q.stopPropagation(),w(!0)},j=()=>{w(!1),R("")},U=async()=>{if(C.trim())try{console.log("Adding tag:",C.trim(),"to file:",t.nickname),await ng([t.nickname],[C.trim()]),b({open:!0,message:`Tag "${C}" added`,severity:"success"}),j();const ee=[...N(),C.trim()].join(",");s(Rp({fileId:t.nickname,tags:ee}))}catch(Q){console.error("Failed to add tag:",Q),console.error("Error details:",Q.response?.data,Q.message),b({open:!0,message:`Failed to add tag: ${Q.message||"Unknown error"}`,severity:"error"})}},Y=Q=>{Q.stopPropagation(),_(),s($L([t])),s(jL(!0)),b({open:!0,message:"Added to playlist",severity:"success"})},ne=Q=>{Q.stopPropagation(),D(!L)},re=z();return S.jsxs(Za,{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:F,sx:{cursor:"pointer",position:"relative",height:"100%",display:"flex",flexDirection:"column",border:d?2:1,borderColor:d?"primary.main":"divider",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:v?"translateY(-4px)":"translateY(0)","&:hover":{boxShadow:6,borderColor:d?"primary.main":"primary.light"}},children:[S.jsx(Ce,{sx:{position:"absolute",top:8,left:8,zIndex:1,opacity:d||v?1:0,transform:d||v?"scale(1)":"scale(0.8)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:S.jsx(Yd,{checked:d,onChange:O,sx:{bgcolor:"background.paper",borderRadius:.5,boxShadow:1,"&:hover":{bgcolor:"background.paper",boxShadow:2}}})}),S.jsx(Ce,{sx:{position:"absolute",top:8,right:8,zIndex:1,opacity:v?1:0,transform:v?"scale(1)":"scale(0.8)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:S.jsx(Nt,{size:"small",onClick:$,sx:{bgcolor:"background.paper",boxShadow:1,"&:hover":{bgcolor:"background.paper",boxShadow:2}},children:S.jsx(iG,{fontSize:"small"})})}),re?S.jsx(Ce,{sx:{overflow:"hidden",height:k,bgcolor:"#f5f5f5"},children:S.jsx($j,{component:"img",height:k,image:re,alt:t.name,loading:"lazy",sx:{objectFit:"cover",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:v?"scale(1.05)":"scale(1)"}})}):S.jsx(Ce,{sx:{height:k,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5",transition:"background-color 0.3s","&:hover":{bgcolor:"#eeeeee"}},children:G()}),r&&S.jsxs(Ja,{sx:{flex:1,p:i==="xs"?.5:i==="small"?1:i==="medium"?2:2.5},children:[S.jsx(Fe,{variant:i==="xs"||i==="small"?"caption":"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:i==="xs"||i==="small"?1:2,WebkitBoxOrient:"vertical",mb:i==="xs"||i==="small"?.5:1,minHeight:i==="xs"||i==="small"?20:40},title:t.name,children:t.name}),i!=="xs"&&i!=="small"&&S.jsxs(S.Fragment,{children:[S.jsx(Fe,{variant:"caption",color:"text.secondary",display:"block",children:$c(t.file_date_long)}),S.jsx(Fe,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:1},children:Bc(t.file_size)})]}),S.jsxs(Ce,{sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"},children:[(L?N():N().slice(0,i==="xs"||i==="small"?1:2)).map(Q=>S.jsx(Ci,{label:Q,size:"small",variant:"filled",onClick:ee=>q(ee,Q),onDelete:ee=>H(ee,Q),sx:{backgroundColor:"primary.main",color:"white",fontWeight:500,fontSize:"0.75rem",height:"22px",cursor:"pointer",border:"2px solid",borderColor:"#003366",borderRadius:"4px 12px 12px 4px","& .MuiChip-label":{px:1},"& .MuiChip-deleteIcon":{color:"rgba(255, 255, 255, 0.7)",opacity:0,transition:"opacity 0.2s","&:hover":{color:"white"}},"&:hover":{backgroundColor:"primary.dark"},"&:hover .MuiChip-deleteIcon":{opacity:1}}},Q)),!L&&N().length>(i==="xs"||i==="small"?1:2)&&S.jsx(Ci,{label:`+${N().length-(i==="xs"||i==="small"?1:2)}`,size:"small",variant:"filled",onClick:ne,sx:{backgroundColor:"grey.300",color:"text.secondary",fontWeight:500,fontSize:"0.75rem",height:"22px",borderRadius:"4px 12px 12px 4px",cursor:"pointer","& .MuiChip-label":{px:1},"&:hover":{backgroundColor:"grey.400"}}}),L&&N().length>(i==="xs"||i==="small"?1:2)&&S.jsx(Ci,{label:"Show less",size:"small",variant:"filled",onClick:ne,sx:{backgroundColor:"grey.300",color:"text.secondary",fontWeight:500,fontSize:"0.75rem",height:"22px",borderRadius:"4px 12px 12px 4px",cursor:"pointer","& .MuiChip-label":{px:1},"&:hover":{backgroundColor:"grey.400"}}}),S.jsx(Nt,{size:"small",onClick:W,sx:{width:22,height:22,padding:0,color:"primary.main","&:hover":{backgroundColor:"primary.lighter"}},children:S.jsx(Gb,{fontSize:"small"})})]})]}),S.jsxs(cc,{anchorEl:p,open:!!p,onClose:_,children:[t.file_group==="music"&&S.jsxs(or,{onClick:Y,children:[S.jsx(Xb,{fontSize:"small",sx:{mr:1}}),"Add to Playlist"]}),S.jsxs(or,{onClick:K,children:[S.jsx(Os,{fontSize:"small",sx:{mr:1}}),"Download"]}),S.jsxs(or,{onClick:_,children:[S.jsx(Yb,{fontSize:"small",sx:{mr:1}}),"Open"]}),S.jsxs(or,{onClick:_,children:[S.jsx(wc,{fontSize:"small",sx:{mr:1}}),"Open Folder"]})]}),S.jsx(Vm,{open:x.open,autoHideDuration:3e3,onClose:()=>b({...x,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:S.jsx(Hi,{severity:x.severity,onClose:()=>b({...x,open:!1}),children:x.message})}),S.jsxs(al,{open:T,onClose:j,maxWidth:"xs",fullWidth:!0,onClick:Q=>Q.stopPropagation(),children:[S.jsx(Hm,{children:"Add Tag"}),S.jsx(Mc,{onClick:Q=>Q.stopPropagation(),children:S.jsx(zm,{freeSolo:!0,options:f.map(Q=>Q.tag),value:C,onChange:(Q,ee)=>{R(ee||"")},onInputChange:(Q,ee)=>{R(ee)},renderInput:Q=>S.jsx(Vi,{...Q,autoFocus:!0,margin:"dense",label:"Tag Name",fullWidth:!0,variant:"outlined",onKeyPress:ee=>{ee.key==="Enter"&&(ee.preventDefault(),U())}})})}),S.jsxs(Oc,{children:[S.jsx(tn,{onClick:j,children:"Cancel"}),S.jsx(tn,{onClick:U,variant:"contained",disabled:!C.trim(),children:"Add"})]})]})]})}function QJ({files:t,hasMore:e,onLoadMore:n}){const r=Xt(G=>G.files.showGridDetails),i=Xt(G=>G.files.gridSize),{imageViewerOpen:s,currentImageIndex:a,openImageViewer:l,closeImageViewer:u,videoPlayerOpen:d,currentVideoFile:f,openVideoPlayer:p,closeVideoPlayer:g,pdfViewerOpen:v,currentPdfFile:y,openPdfViewer:x,closePdfViewer:b,documentViewerOpen:T,currentDocumentFile:w,openDocumentViewer:C,closeDocumentViewer:R}=O1(),{isDownloading:L,downloadProgress:D,isComplete:k,currentFile:P,startDownload:F,cancelDownload:O,closeModal:$}=M1(),_=t.filter(G=>G.file_group==="photo"),K=G=>{if(console.log("File clicked:",G),console.log("file_ext:",G.file_ext),console.log("file_group:",G.file_group),console.log("file_name:",G.name),G.file_group==="photo"){const N=_.findIndex(q=>q.nickname===G.nickname);N!==-1&&l(N)}else G.file_group==="movie"?p(G):G.file_ext?.toLowerCase()===".pdf"||G.name?.toLowerCase().endsWith(".pdf")?(console.log("Opening PDF viewer"),x(G)):G.file_group==="document"&&C(G)};if(s&&_.length>0)return S.jsx(s1,{open:s,onClose:u,files:_,initialIndex:a,hasMore:e,onLoadMore:n});if(d&&f)return S.jsx(k1,{open:d,onClose:g,file:f});if(v&&y)return S.jsx(D1,{onClose:b,file:y});if(T&&w)return S.jsx(_1,{open:T,onClose:R,file:w});const z=()=>{switch(i){case"xs":return{xs:4,sm:3,md:2,lg:1.5,xl:1};case"small":return{xs:6,sm:4,md:3,lg:2,xl:1.5};case"medium":return{xs:12,sm:6,md:4,lg:3,xl:2};case"large":return{xs:12,sm:12,md:6,lg:4,xl:3}}};return S.jsxs(S.Fragment,{children:[S.jsx(Ce,{sx:{width:"100%"},children:S.jsx(AA,{container:!0,spacing:0,children:t.map(G=>S.jsx(AA,{size:z(),children:S.jsx(XJ,{file:G,onCardClick:K,onDownload:F,showDetails:r,gridSize:i})},G.nickname))})}),S.jsx(P1,{open:L||k,fileName:P?.name||"",progress:D,onCancel:k?$:O,isComplete:k})]})}function ZJ({observerRef:t,hasMore:e,onLoadMore:n}){const r=Xt(a=>a.files.files),i=Xt(a=>a.files.loading),s=Xt(a=>a.files.viewMode);return i&&r.length===0?S.jsx(Ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:S.jsx(Zo,{})}):r.length===0&&!i?S.jsxs(Ce,{sx:{textAlign:"center",py:8},children:[S.jsx(wc,{sx:{fontSize:80,color:"#ccc",mb:2}}),S.jsx(Fe,{variant:"h6",color:"text.secondary",children:"No files found"}),S.jsx(Fe,{variant:"body2",color:"text.secondary",children:"Try adjusting your filters or search query"})]}):S.jsxs(Ce,{children:[s==="list"&&S.jsx(YJ,{files:r,hasMore:e,onLoadMore:n}),s==="grid"&&S.jsx(QJ,{files:r,hasMore:e,onLoadMore:n}),S.jsx(Ce,{ref:t,sx:{height:20,mt:2}}),i&&r.length>0&&S.jsx(Ce,{sx:{display:"flex",justifyContent:"center",py:2},children:S.jsx(Zo,{size:24})})]})}function JJ({open:t,onClose:e,onSave:n,selectedFileIds:r}){const[i,s]=I.useState([]),[a,l]=I.useState([]),[u,d]=I.useState("");I.useEffect(()=>{t&&f()},[t]);const f=async()=>{try{const v=await $k();s(v.map(y=>y.tag))}catch(v){console.error("Failed to load tags:",v)}},p=()=>{a.length>0&&(n(a),g())},g=()=>{l([]),d(""),e()};return S.jsxs(al,{open:t,onClose:g,maxWidth:"sm",fullWidth:!0,children:[S.jsxs(Hm,{children:["Add Tags to ",r.length," File",r.length!==1?"s":""]}),S.jsx(Mc,{children:S.jsxs(Ce,{sx:{pt:2},children:[S.jsx(zm,{multiple:!0,freeSolo:!0,options:i,value:a,onChange:(v,y)=>l(y),inputValue:u,onInputChange:(v,y)=>d(y),renderTags:(v,y)=>v.map((x,b)=>I.createElement(Ci,{label:x,...y({index:b}),key:x})),renderInput:v=>S.jsx(Vi,{...v,label:"Tags",placeholder:"Type or select tags",helperText:"Press Enter to add a new tag"})}),S.jsx(Fe,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"You can type new tags or select from existing ones"})]})}),S.jsxs(Oc,{children:[S.jsx(tn,{onClick:g,children:"Cancel"}),S.jsx(tn,{onClick:p,variant:"contained",disabled:a.length===0,children:"Add Tags"})]})]})}async function eee(){const t=_r("/cass/getusersandemail.fn"),e=await fetch(t,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch users");return(await e.json()).users||[]}async function tee(t){const{username:e,password:n,email:r}=t,i=_r(`/cass/adduser.fn?boxuser=${encodeURIComponent(e)}&boxpass=${encodeURIComponent(n)}&useremail=${encodeURIComponent(r)}`),s=await fetch(i,{credentials:"include"});if(!s.ok)throw new Error("Failed to add user");const a=await s.json();if(a.error)throw new Error(a.error)}async function nee(t,e){if(e.length===0)return;const n=e.map(s=>`${s}=on`).join("&"),r=_r(`/cass/applyTag?tag=${encodeURIComponent(t)}&${n}`);if(!(await fetch(r,{credentials:"include"})).ok)throw new Error("Failed to apply tag")}async function ree(t){const{tagName:e,selectedUsers:n,fileMD5s:r}=t;await nee(e,r);const i="shareusers="+n.join("%3B"),s=_r(`/cass/doshare_webapp.fn?sharetype=TAG&${i}&sharekey=${encodeURIComponent(e)}`),a=await fetch(s,{credentials:"include"});if(!a.ok)throw new Error("Failed to share files");return await a.text()}function iee({open:t,onClose:e,onUserAdded:n}){const[r,i]=I.useState(""),[s,a]=I.useState(""),[l,u]=I.useState(""),[d,f]=I.useState(null),[p,g]=I.useState(!1),v=()=>{i(""),a(""),u(""),f(null),e()},y=async()=>{if(f(null),!r||r.trim()===""){f("Username is mandatory");return}if(!s||s.trim()===""){f("Password is mandatory");return}if(!l||l.trim()===""){f("Email is mandatory");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){f("Invalid email format");return}try{g(!0);const b={username:r.trim(),password:s.trim(),email:l.trim()};await tee(b),i(""),a(""),u(""),n(),v()}catch(b){f(b instanceof Error?b.message:"Failed to add user")}finally{g(!1)}};return S.jsxs(al,{open:t,onClose:v,maxWidth:"sm",fullWidth:!0,children:[S.jsxs(Ce,{sx:{backgroundColor:"rgb(42, 42, 42)",color:"white",p:1.5,textAlign:"center",position:"relative"},children:[S.jsx(Fe,{variant:"h6",children:"Add User"}),S.jsx(tn,{onClick:v,sx:{position:"absolute",right:10,top:10,color:"white",minWidth:"auto",fontWeight:"bold"},children:"X"})]}),S.jsxs(Mc,{sx:{pt:2},children:[d&&S.jsx(Hi,{severity:"error",sx:{mb:2},children:d}),S.jsx(rk,{children:S.jsxs(ik,{children:[S.jsxs(ud,{children:[S.jsx(lr,{sx:{border:"none",pl:0},children:"Username"}),S.jsx(lr,{sx:{border:"none",pr:0},children:S.jsx(Vi,{fullWidth:!0,size:"small",placeholder:"User Name",value:r,onChange:x=>i(x.target.value),disabled:p})})]}),S.jsxs(ud,{children:[S.jsx(lr,{sx:{border:"none",pl:0},children:"Password"}),S.jsx(lr,{sx:{border:"none",pr:0},children:S.jsx(Vi,{fullWidth:!0,size:"small",type:"password",placeholder:"Password",value:s,onChange:x=>a(x.target.value),disabled:p})})]}),S.jsxs(ud,{children:[S.jsx(lr,{sx:{border:"none",pl:0},children:"Email"}),S.jsx(lr,{sx:{border:"none",pr:0},children:S.jsx(Vi,{fullWidth:!0,size:"small",type:"email",placeholder:"Email",value:l,onChange:x=>u(x.target.value),disabled:p})})]})]})})]}),S.jsxs(Oc,{sx:{p:2,justifyContent:"flex-end"},children:[S.jsx(tn,{variant:"contained",onClick:v,disabled:p,children:"Cancel"}),S.jsx(tn,{variant:"contained",onClick:y,disabled:p,children:p?"Adding...":"Add User"})]})]})}function see({open:t,onClose:e,fileIds:n}){const r=Kr(),[i,s]=I.useState(""),[a,l]=I.useState([]),[u,d]=I.useState(new Set),[f,p]=I.useState(null),[g,v]=I.useState(null),[y,x]=I.useState(!1),[b,T]=I.useState(!1),[w,C]=I.useState(!1);I.useEffect(()=>{t?R():(s(""),d(new Set),p(null),v(null))},[t]);const R=async()=>{try{T(!0);const F=await eee();l(F)}catch(F){p("Failed to load users"),console.error("Error loading users:",F)}finally{T(!1)}},L=()=>{s(""),d(new Set),p(null),v(null),e()},D=F=>{const O=new Set(u);O.has(F)?O.delete(F):O.add(F),d(O)},k=async()=>{if(p(null),v(null),!i||i.trim()===""){p("Tag is mandatory");return}if(u.size===0){p("Please select at least one user");return}if(n.length===0){p("No files selected to share");return}try{x(!0),await ree({tagName:i.trim(),selectedUsers:Array.from(u),fileMD5s:n}),v(`Successfully shared ${n.length} file${n.length!==1?"s":""} with ${u.size} user${u.size!==1?"s":""}`),r(PL()),setTimeout(()=>{L()},2e3)}catch(F){p(F instanceof Error?F.message:"Failed to share files")}finally{x(!1)}},P=()=>{R()};return S.jsxs(S.Fragment,{children:[S.jsxs(al,{open:t,onClose:L,maxWidth:"sm",fullWidth:!0,children:[S.jsxs(Ce,{sx:{backgroundColor:"rgb(42, 42, 42)",color:"white",p:1.5,textAlign:"center",position:"relative"},children:[S.jsx(Fe,{variant:"h6",children:"Tag Files to Share"}),S.jsx(tn,{onClick:L,sx:{position:"absolute",right:10,top:10,color:"white",minWidth:"auto",fontWeight:"bold"},children:"X"})]}),S.jsxs(Mc,{sx:{pt:2},children:[f&&S.jsx(Hi,{severity:"error",sx:{mb:2},children:f}),g&&S.jsx(Hi,{severity:"success",sx:{mb:2},children:g}),S.jsx(Vi,{fullWidth:!0,placeholder:"Add Tag...",value:i,onChange:F=>s(F.target.value),disabled:y,sx:{mb:2}}),S.jsx(tn,{variant:"contained",onClick:()=>C(!0),disabled:y||b,sx:{mb:2},children:"Add User"}),S.jsx(Zn,{variant:"outlined",sx:{height:300,overflow:"auto",p:1},children:b?S.jsx(Fe,{sx:{p:2,textAlign:"center"},children:"Loading users..."}):a.length===0?S.jsx(Fe,{sx:{p:2,textAlign:"center"},children:"No users available"}):S.jsx(Ce,{children:a.map(F=>S.jsx(WI,{control:S.jsx(Yd,{checked:u.has(F.username),onChange:()=>D(F.username),disabled:y}),label:`${F.username} (${F.email})`,sx:{display:"block",mb:1}},F.username))})}),S.jsxs(Fe,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[n.length," file",n.length!==1?"s":""," selected to share"]})]}),S.jsxs(Oc,{sx:{p:2,justifyContent:"flex-end"},children:[S.jsx(tn,{variant:"contained",onClick:L,disabled:y,children:"Cancel"}),S.jsx(tn,{variant:"contained",onClick:k,disabled:y||b,children:y?"Sharing...":"Share Files"})]})]}),S.jsx(iee,{open:w,onClose:()=>C(!1),onUserAdded:P})]})}function aee({inline:t=!1}){const e=Kr(),{selectedCount:n,selectedFileIds:r,deselectAll:i}=ef(),[s,a]=I.useState(!1),[l,u]=I.useState(!1),[d,f]=I.useState({open:!1,message:"",severity:"success"}),p=async y=>{try{await ng(r,y),f({open:!0,message:`Tags added to ${r.length} file${r.length!==1?"s":""}`,severity:"success"}),i(),e(PL())}catch(x){console.error("Failed to add tags:",x),f({open:!0,message:"Failed to add tags",severity:"error"})}},g=async()=>{try{await qV(r),f({open:!0,message:`Downloading ${r.length} file${r.length!==1?"s":""}`,severity:"success"})}catch(y){console.error("Failed to download files:",y),f({open:!0,message:"Failed to download files",severity:"error"})}};if(n===0)return null;const v=S.jsxs(S.Fragment,{children:[S.jsx(Nt,{edge:"start",color:"inherit",onClick:i,sx:{mr:1},children:S.jsx(ol,{})}),S.jsxs(Fe,{variant:t?"subtitle1":"h6",sx:{mr:2},children:[n," ",n===1?"file":"files"," selected"]}),S.jsx(Sr,{title:"Add Tags",children:S.jsx(Nt,{color:"inherit",onClick:()=>a(!0),size:t?"small":"medium",children:S.jsx(Wb,{})})}),S.jsx(Sr,{title:"Download",children:S.jsx(Nt,{color:"inherit",onClick:g,size:t?"small":"medium",children:S.jsx(Os,{})})}),S.jsx(Sr,{title:"Share",children:S.jsx(Nt,{color:"inherit",onClick:()=>u(!0),size:t?"small":"medium",children:S.jsx(Xm,{})})}),S.jsx(Sr,{title:"Delete",children:S.jsx(Nt,{color:"inherit",size:t?"small":"medium",children:S.jsx(Vb,{})})})]});return S.jsxs(S.Fragment,{children:[t?S.jsx(Ce,{sx:{display:"flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:.5,borderRadius:1,height:48},children:v}):S.jsx(Ce,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"primary.main",color:"primary.contrastText",mb:2},children:S.jsx(sk,{children:v})}),S.jsx(JJ,{open:s,onClose:()=>a(!1),onSave:p,selectedFileIds:r}),S.jsx(see,{open:l,onClose:()=>u(!1),fileIds:r}),S.jsx(Vm,{open:d.open,autoHideDuration:6e3,onClose:()=>f({...d,open:!1}),children:S.jsx(Hi,{severity:d.severity,onClose:()=>f({...d,open:!1}),children:d.message})})]})}const oee=({hasMore:t,isLoading:e,onLoadMore:n,threshold:r=100,root:i=null})=>{const s=I.useRef(null),a=I.useRef(null),l=I.useCallback(u=>{u[0].isIntersecting&&t&&!e&&(console.log("IntersectionObserver triggered - loading more files"),n())},[t,e,n]);return I.useEffect(()=>{const u={root:i,rootMargin:`${r}px`,threshold:0};a.current=new IntersectionObserver(l,u);const d=a.current,f=s.current;return f&&(d.observe(f),console.log("IntersectionObserver setup complete",{hasMore:t,isLoading:e,root:i})),()=>{f&&d&&d.unobserve(f)}},[l,r,i,t,e]),s},lee={1:1,3:3,7:7,14:14,30:30,365:365,".all":0};function cee(){const{ftype:t=".all",range:e=".all"}=mL(),n=Kr(),r=Xt(D=>D.files.files),i=Xt(D=>D.files.loading),s=Xt(D=>D.files.hasMore),a=Xt(D=>D.files.filters.searchQuery),l=Xt(D=>D.files.sortOrder),u=Xt(D=>D.files.viewMode),d=Xt(D=>D.files.refreshTrigger),f=Xt(D=>D.files.showGridDetails),p=Xt(D=>D.files.gridSize),g=Xt(D=>D.files.listSize),{selectedCount:v}=ef();I.useEffect(()=>{n(zo({ftype:t,range:e}))},[t,e,n]),I.useEffect(()=>{y(!0)},[t,e,a,l,d]);const y=async(D=!1)=>{if(!i)try{n(rw(!0));const k=lee[e]??0,P=D?null:r[r.length-1];console.log("Loading files:",{reset:D,currentFileCount:r.length,lastFileDate:P?.file_date_long,lastFileName:P?.name});const F=await VV({ftype:t,days:k,foo:a,numobj:100,date:P?.file_date_long,order:l==="asc"?"Asc":"Desc",screenSize:160});console.log("Fetched files:",{count:F.files?.length||0,reset:D}),n(D?nw(F.files||[]):V3(F.files||[]))}catch(k){console.error("Failed to fetch files:",k),console.error("Error details:",{message:k.message,response:k.response,request:k.request,config:k.config}),n(nw([]))}finally{n(rw(!1))}},x=I.useRef(null),b=()=>{!i&&s&&y(!1)},T=oee({hasMore:s,isLoading:i,onLoadMore:b,root:x.current}),w=(D,k)=>{k!==null&&n(q3(k))},C=D=>{n(Y3(D.target.value))},R=(D,k)=>{k!==null&&n(Q3(k))},L=(D,k)=>{k!==null&&n(Z3(k))};return S.jsxs(Ce,{sx:{display:"flex",flexDirection:"column",height:"100%",p:3},children:[S.jsx(Ce,{sx:{position:"sticky",top:0,zIndex:10,backgroundColor:"background.default",pb:2},children:S.jsxs(Ce,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:48},children:[v===0?S.jsx(Fe,{variant:"h4",sx:{height:48,display:"flex",alignItems:"center",color:"text.primary"},children:"My Files"}):S.jsx(aee,{inline:!0}),S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2},children:[v===0&&r.length>0&&S.jsxs(Fe,{variant:"body2",color:"text.secondary",children:[r.length," ",r.length===1?"file":"files"]}),S.jsxs(KI,{size:"small",sx:{minWidth:120},children:[S.jsx(qI,{children:"Sort By"}),S.jsxs(zb,{value:l,label:"Sort By",onChange:C,children:[S.jsx(or,{value:"desc",children:"Newest First"}),S.jsx(or,{value:"asc",children:"Oldest First"})]})]}),S.jsxs(Yv,{value:u,exclusive:!0,onChange:w,size:"small","aria-label":"view mode",children:[S.jsx(vs,{value:"list","aria-label":"list view",children:S.jsx(gG,{sx:{color:u==="list"?"#3B82F6":"inherit"}})}),S.jsx(vs,{value:"grid","aria-label":"grid view",children:S.jsx(Xv,{sx:{color:u==="grid"?"#10B981":"inherit"}})})]}),u==="list"&&S.jsxs(Yv,{value:g,exclusive:!0,onChange:L,size:"small","aria-label":"list size",children:[S.jsx(Sr,{title:"Extra Small",children:S.jsx(vs,{value:"xs","aria-label":"extra small list",children:S.jsx(Ih,{sx:{fontSize:"0.875rem",color:g==="xs"?"#8B5CF6":"inherit"}})})}),S.jsx(Sr,{title:"Small",children:S.jsx(vs,{value:"small","aria-label":"small list",children:S.jsx(Ih,{fontSize:"small",sx:{color:g==="small"?"#3B82F6":"inherit"}})})}),S.jsx(Sr,{title:"Medium",children:S.jsx(vs,{value:"medium","aria-label":"medium list",children:S.jsx(Xv,{fontSize:"medium",sx:{color:g==="medium"?"#10B981":"inherit"}})})}),S.jsx(Sr,{title:"Large",children:S.jsx(vs,{value:"large","aria-label":"large list",children:S.jsx(QA,{fontSize:"large",sx:{color:g==="large"?"#F59E0B":"inherit"}})})})]}),u==="grid"&&S.jsxs(S.Fragment,{children:[S.jsxs(Yv,{value:p,exclusive:!0,onChange:R,size:"small","aria-label":"grid size",children:[S.jsx(Sr,{title:"Extra Small",children:S.jsx(vs,{value:"xs","aria-label":"extra small grid",children:S.jsx(Ih,{sx:{fontSize:"0.875rem",color:p==="xs"?"#8B5CF6":"inherit"}})})}),S.jsx(Sr,{title:"Small",children:S.jsx(vs,{value:"small","aria-label":"small grid",children:S.jsx(Ih,{fontSize:"small",sx:{color:p==="small"?"#3B82F6":"inherit"}})})}),S.jsx(Sr,{title:"Medium",children:S.jsx(vs,{value:"medium","aria-label":"medium grid",children:S.jsx(Xv,{fontSize:"medium",sx:{color:p==="medium"?"#10B981":"inherit"}})})}),S.jsx(Sr,{title:"Large",children:S.jsx(vs,{value:"large","aria-label":"large grid",children:S.jsx(QA,{fontSize:"large",sx:{color:p==="large"?"#F59E0B":"inherit"}})})})]}),S.jsx(Sr,{title:f?"Hide details":"Show details",children:S.jsx(Nt,{size:"small",onClick:()=>n(X3()),color:f?"primary":"default",children:f?S.jsx(dk,{}):S.jsx(tG,{})})})]})]})]})}),S.jsx(Ce,{ref:x,sx:{flex:1,overflow:"auto"},children:S.jsx(ZJ,{observerRef:T,hasMore:s,onLoadMore:b})}),S.jsx(Zk,{})]})}function uee(){const[t,e]=I.useState([]),[n,r]=I.useState(!0),[i,s]=I.useState(null),[a,l]=I.useState("scanfolders"),[u,d]=I.useState(["scanfolders"]),[f,p]=I.useState([]),[g,v]=I.useState(null),[y,x]=I.useState(null),[b,T]=I.useState(null),[w,C]=I.useState(new Date);I.useEffect(()=>{const ye=setInterval(()=>{C(new Date)},1e3);return()=>clearInterval(ye)},[]);const{imageViewerOpen:R,currentImageIndex:L,openImageViewer:D,closeImageViewer:k,videoPlayerOpen:P,currentVideoFile:F,openVideoPlayer:O,closeVideoPlayer:$,pdfViewerOpen:_,currentPdfFile:K,openPdfViewer:z,closePdfViewer:G,documentViewerOpen:N,currentDocumentFile:q,openDocumentViewer:H,closeDocumentViewer:W}=O1(),{isDownloading:j,downloadProgress:U,isComplete:Y,currentFile:ne,startDownload:re,cancelDownload:Q,closeModal:ee}=M1();I.useEffect(()=>{Oe(a)},[a]);const Oe=async ye=>{try{t.length===0&&r(!0);const Re=await YV(ye);e(Re);const gt=Re.filter(Le=>Le.type==="file"&&Me(Le.name)==="photo").map(Le=>({nickname:Le.md5,name:De(Le.name),file_ext:Le.name.substring(Le.name.lastIndexOf(".")),file_group:"photo",file_date_long:Date.now(),file_size:0,multiclusterid:Le.md5,file_thumbnail:"",file_tags:"",file_path_webapp:`/cass/getfile.fn?sNamer=${Le.md5}`,md5hash:Le.md5,file_name:De(Le.name),file_date:new Date().toISOString(),file_path:""}));p(gt),s(null)}catch(Re){console.error("Failed to fetch folders:",Re),s(Re.message||"Failed to load folders")}finally{r(!1)}},De=ye=>{try{return decodeURIComponent(ye)}catch{return ye}},Be=ye=>{if(console.log("Item clicked:",ye),ye.type==="file"&&ye.md5){const Re=Me(ye.name);let gt=`/cass/getfile.fn?sNamer=${ye.md5}`,Le;Re==="movie"&&(Le=`getvideo.m3u8?md5=${ye.md5}`);const Pe={nickname:ye.md5,name:De(ye.name),file_ext:ye.name.substring(ye.name.lastIndexOf(".")),file_group:Re,file_date_long:Date.now(),file_size:0,multiclusterid:ye.md5,file_thumbnail:"",file_tags:"",file_path_webapp:gt,video_url_webapp:Le,md5hash:ye.md5,file_name:De(ye.name),file_date:new Date().toISOString(),file_path:""},ke=Pe.file_ext?.toLowerCase()||"";if(Pe.file_group==="photo"){const bt=f.findIndex(Ve=>Ve.nickname===Pe.nickname);bt!==-1&&D(bt)}else Pe.file_group==="movie"?O(Pe):ke===".pdf"||Pe.name?.toLowerCase().endsWith(".pdf")?z(Pe):Pe.file_group==="document"?H(Pe):re(Pe)}else{const Re=a==="scanfolders"?ye.name:`${a}${ye.name}`;l(Re),d([...u,ye.name])}},Me=ye=>{const Re=ye.substring(ye.lastIndexOf(".")).toLowerCase(),gt=[".jpg",".jpeg",".png",".gif",".bmp",".webp"],Le=[".mp4",".avi",".mkv",".mov",".wmv",".flv",".webm"],Pe=[".mp3",".wav",".flac",".aac",".ogg",".m4a"],ke=[".doc",".docx",".txt",".rtf",".odt"];return gt.includes(Re)?"photo":Le.includes(Re)?"movie":Pe.includes(Re)?"music":(ke.includes(Re)||Re===".pdf","document")},Ye=ye=>{const Re=ye.substring(ye.lastIndexOf(".")).toLowerCase();return Re===".pdf"?{Icon:fk,color:"#EF4444"}:[".xls",".xlsx",".xlsm",".csv"].includes(Re)?{Icon:pk,color:"#10B981"}:[".ppt",".pptx",".pptm"].includes(Re)?{Icon:hk,color:"#F59E0B"}:[".doc",".docx",".txt",".rtf",".odt"].includes(Re)?{Icon:el,color:"#3B82F6"}:[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".ico"].includes(Re)?{Icon:Ym,color:"#8B5CF6"}:[".mp4",".avi",".mkv",".mov",".wmv",".flv",".webm",".m4v"].includes(Re)?{Icon:mG,color:"#EC4899"}:[".mp3",".wav",".flac",".aac",".ogg",".m4a",".wma"].includes(Re)?{Icon:GH,color:"#14B8A6"}:{Icon:Kb,color:"white"}},Ue=()=>{if(u.length<=1)return;const ye=u.slice(0,-1);if(d(ye),ye.length===1&&ye[0]==="scanfolders")l("scanfolders");else{const gt=ye.filter(Le=>Le!=="scanfolders").join("");l(gt)}};return n?S.jsx(Ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,background:"#004080"},children:S.jsx(Zo,{sx:{color:"white"}})}):i?S.jsx(Ce,{sx:{p:3,background:"#004080",minHeight:"100vh"},children:S.jsx(Fe,{color:"error",children:i})}):S.jsxs(Ce,{sx:{height:"100%",background:"#004080",overflow:"auto",display:"flex",flexDirection:"column"},children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:.5,backgroundColor:"rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[S.jsx("img",{src:"/cass/uiv5/dist/logo_molecula.png",alt:"Molecula",style:{height:20,marginRight:8}}),S.jsx(tn,{size:"small",sx:{color:"white",textTransform:"none",minWidth:"auto",px:1.5},onClick:ye=>v(ye.currentTarget),children:"File"}),S.jsx(tn,{size:"small",sx:{color:"white",textTransform:"none",minWidth:"auto",px:1.5},onClick:ye=>x(ye.currentTarget),children:"Edit"}),S.jsx(tn,{size:"small",sx:{color:"white",textTransform:"none",minWidth:"auto",px:1.5},onClick:ye=>T(ye.currentTarget),children:"Help"})]}),S.jsxs(Fe,{variant:"body2",sx:{color:"white",fontFamily:"monospace",fontSize:"0.875rem"},children:[w.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," ",w.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),S.jsxs(Ce,{sx:{flex:1,overflow:"auto",p:3},children:[a!=="scanfolders"&&S.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[u.length>1&&S.jsx(Nt,{onClick:Ue,sx:{color:"white",backgroundColor:"rgba(255, 255, 255, 0.2)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:S.jsx(zH,{})}),S.jsx(Fe,{variant:"h5",sx:{color:"white",fontStyle:"italic",fontSize:"1.5rem"},children:De(a)})]}),t.length===0?S.jsxs(Ce,{sx:{textAlign:"center",py:8,color:"white"},children:[S.jsx(wc,{sx:{fontSize:80,mb:2,opacity:.7}}),S.jsx(Fe,{variant:"h6",children:"No folders found"})]}):S.jsx(Ce,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:3,maxWidth:"100%"},children:t.map((ye,Re)=>{const{Icon:gt,color:Le}=ye.type==="file"?Ye(ye.name):{Icon:wc,color:"#FFD700"};return S.jsx(Za,{onDoubleClick:()=>Be(ye),sx:{cursor:"pointer",backgroundColor:"transparent",boxShadow:"none",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:S.jsxs(Ja,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:3,px:2,textAlign:"center"},children:[S.jsx(gt,{sx:{fontSize:64,color:Le,mb:1,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}}),S.jsx(Fe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.75rem",wordBreak:"break-word",lineHeight:1.3,maxHeight:"3.9em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},title:De(ye.name),children:De(ye.name)}),ye.count!==void 0&&S.jsxs(Fe,{variant:"caption",sx:{mt:.5,color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.6)"},children:[ye.count," ",ye.count===1?"item":"items"]})]})},Re)})}),R&&f.length>0&&S.jsx(s1,{open:R,onClose:k,files:f,initialIndex:L}),P&&F&&S.jsx(k1,{open:P,onClose:$,file:F}),_&&K&&S.jsx(D1,{onClose:G,file:K}),N&&q&&S.jsx(_1,{open:N,onClose:W,file:q}),S.jsx(P1,{open:j||Y,fileName:ne?.name||"",progress:U,onCancel:Y?ee:Q,isComplete:Y})]}),S.jsxs(cc,{anchorEl:g,open:!!g,onClose:()=>v(null),children:[S.jsx(or,{onClick:()=>v(null),children:"New Folder"}),S.jsx(or,{onClick:()=>v(null),children:"Upload File"}),S.jsx(or,{onClick:()=>v(null),children:"Refresh"})]}),S.jsxs(cc,{anchorEl:y,open:!!y,onClose:()=>x(null),children:[S.jsx(or,{onClick:()=>x(null),children:"Cut"}),S.jsx(or,{onClick:()=>x(null),children:"Copy"}),S.jsx(or,{onClick:()=>x(null),children:"Paste"}),S.jsx(or,{onClick:()=>x(null),children:"Delete"})]}),S.jsxs(cc,{anchorEl:b,open:!!b,onClose:()=>T(null),children:[S.jsx(or,{onClick:()=>T(null),children:"About"}),S.jsx(or,{onClick:()=>T(null),children:"Documentation"}),S.jsx(or,{onClick:()=>T(null),children:"Keyboard Shortcuts"})]})]})}function dee(){return S.jsxs(Ce,{sx:{p:3},children:[S.jsx(Fe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Backup"}),S.jsx(Za,{children:S.jsxs(Ja,{sx:{textAlign:"center",py:8},children:[S.jsx(lk,{sx:{fontSize:80,color:"#004080",mb:2}}),S.jsx(Fe,{variant:"h5",gutterBottom:!0,children:"Backup - Coming in Phase 7"}),S.jsx(Fe,{variant:"body1",color:"text.secondary",children:"This page will manage your backup configurations and monitor backup status."})]})})]})}function fee(){return S.jsxs(Ce,{sx:{p:3},children:[S.jsx(Fe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Shares"}),S.jsx(Za,{children:S.jsxs(Ja,{sx:{textAlign:"center",py:8},children:[S.jsx(Xm,{sx:{fontSize:80,color:"#004080",mb:2}}),S.jsx(Fe,{variant:"h5",gutterBottom:!0,children:"Shares - Coming in Phase 4"}),S.jsx(Fe,{variant:"body1",color:"text.secondary",children:"This page will display files shared with you and manage sharing permissions."})]})})]})}function hee(){return S.jsxs(Ce,{sx:{p:3},children:[S.jsx(Fe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Multi-Cluster"}),S.jsx(Za,{children:S.jsxs(Ja,{sx:{textAlign:"center",py:8},children:[S.jsx(YH,{sx:{fontSize:80,color:"#004080",mb:2}}),S.jsx(Fe,{variant:"h5",gutterBottom:!0,children:"Multi-Cluster - Coming in Phase 7"}),S.jsx(Fe,{variant:"body1",color:"text.secondary",children:"This page will manage connections to multiple Alterante clusters."})]})})]})}const pee=G5([{path:"/login",element:S.jsx($H,{})},{path:"/",element:S.jsx(jH,{}),children:[{element:S.jsx(rW,{}),children:[{index:!0,element:S.jsx(Fy,{to:"/home",replace:!0})},{path:"home",element:S.jsx(sW,{})},{path:"files/:ftype/:range",element:S.jsx(cee,{})},{path:"folders",element:S.jsx(uee,{})},{path:"backup",element:S.jsx(dee,{})},{path:"shares",element:S.jsx(fee,{})},{path:"clusters",element:S.jsx(hee,{})}]}]},{path:"*",element:S.jsx(Fy,{to:"/",replace:!0})}]);function mee(){return S.jsx(TM,{store:f4,children:S.jsx(J5,{router:pee})})}aM.createRoot(document.getElementById("root")).render(S.jsx(I.StrictMode,{children:S.jsx(mee,{})}));
